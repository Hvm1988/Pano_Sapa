// Garden Gnome Software - VR - Skin
// Pano2VR 7.1.9/20995
// Filename: fat.ggsk
// Generated 2025-12-12T02:38:41

function pano2vrVrSkin(player,base) {
	player.addVariable('resp_phone', 2, false, { ignoreInState: 1  });
	player.addVariable('vis_sounds_splashscreen', 2, false, { ignoreInState: 1  });
	player.addVariable('vis_skin', 2, false, { ignoreInState: 1  });
	player.addVariable('sounds_splashscreen_accepted', 2, false, { ignoreInState: 0  });
	player.addVariable('controls_left_open', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_info_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_url_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_image_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_pdf_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_youtube_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_vimeo_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_file_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_url_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_info', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_image', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_pdf', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_youtube', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_vimeo', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_video_file', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_video_url', 2, false, { ignoreInState: 0  });
	player.addVariable('opt_url_popup', 2, true, { ignoreInState: 1  });
	player.addVariable('vis_thumbnails_3', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_popup', 2, false, { ignoreInState: 1  });
	player.addVariable('vis_url_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_image_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_pdf_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_youtube_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_vimeo_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_file_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_url_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbs', 2, false, { ignoreInState: 0  });
	player.addVariable('has_categories', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbs_categories', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbs_nodes', 2, false, { ignoreInState: 0  });
	player.addVariable('opt_fullscreen', 2, true, { ignoreInState: 1  });
	player.addVariable('has_fullscreen', 2, true, { ignoreInState: 1  });
	player.addVariable('vis_controls', 2, true, { ignoreInState: 0  });
	player.addVariable('toggle_audio', 2, true, { ignoreInState: 0  });
	player.addVariable('opt_gyro', 2, true, { ignoreInState: 1  });
	player.addVariable('height_controls_right', 1, 0, { ignoreInState: 0  });
	player.addVariable('vis_info', 2, true, { ignoreInState: 0  });
	player.addVariable('vis_floorplan', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_map', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbnails_phone', 2, false, { ignoreInState: 0  });
	player.addVariable('resp_phone_3', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_controller', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_info', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_maps', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_floorplans', 2, false, { ignoreInState: 1  });
	player.addVariable('height_controls_left', 1, 0, { ignoreInState: 0  });
	player.addVariable('is_floor', 0, "1", { ignoreInState: 0  });
	player.addVariable('vis_thumbnails', 2, false, { ignoreInState: 0  });
	var me=this;
	var skin=this;
	var flag=false;
	var vrSkinAdded=false;
	var hotspotTemplates={};
	var skinKeyPressed = 0;
	this.player=player;
	this.player.vrSkinObj=this;
	this.ggUserdata=player.userdata;
	this.lastSize={ w: -1,h: -1 };
	var basePath="";
	// auto detect base path
	if (base=='?') {
		var scripts = document.getElementsByTagName('script');
		for(var i=0;i<scripts.length;i++) {
			var src=scripts[i].src;
			if (src.indexOf('skin.js')>=0) {
				var p=src.lastIndexOf('/');
				if (p>=0) {
					basePath=src.substr(0,p+1);
				}
			}
		}
	} else
	if (base) {
		basePath=base;
	}
	this.elementMouseDown={};
	this.elementMouseOver={};
	var i;
	var hs,el,els,elo,ela,geometry,material;
	
	this.findElements=function(id,regex) {
		var r=[];
		var stack=[];
		var pat=new RegExp(id,'');
		stack.push(me.skinGroup);
		while(stack.length>0) {
			var e=stack.pop();
			if (regex) {
				if (pat.test(e.userData.ggId)) r.push(e);
			} else {
				if (e.userData.ggId==id) r.push(e);
			}
			if (e.children.length > 0) {
				for(var i=0;i<e.children.length;i++) {
					stack.push(e.children[i]);
				}
			}
		}
		return r;
	}
	
	this.posInSkin=function(el, clonerParent) {
		var curParent = el.parent;
		var pos = {x: el.position.x, y: el.position.y};
		while (curParent && curParent != me.skinGroup) {
			pos.x += curParent.position.x;
			pos.y += curParent.position.y;
			if (curParent.parent) {
				curParent = curParent.parent;
			} else {
				curParent = clonerParent
			}
		}
		return pos;
	}
	
	this._=function(text, params) {
		return player._(text, params);
	}
	this.languageChanged=function() {
		if (!me.skinGroup) return;
		var stack=[];
		stack.push(me.skinGroup);
		while(stack.length>0) {
			var e=stack.pop();
			if (e.userData && e.userData.ggUpdateText) {
				e.userData.ggUpdateText();
			}
			for(var i=0;i<e.children.length;i++) {
				stack.push(e.children[i]);
			}
		}
	}
	player.addListener('languagechanged', this.languageChanged);
	this.getElementVrPosition = function(el, x, y) {
		var vrPos = {};
		var renderableEl = el.parent && (el.parent.type == 'Mesh' || el.parent.type == 'Group');
		switch (el.userData.hanchor) {
			case 0:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) - ((renderableEl ? el.parent.userData.width : 800) / 200.0) + (x / 100.0) + (el.userData.width / 200.0);
			break;
			case 1:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) + (x / 100.0);
			break;
			case 2:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) + ((renderableEl ? el.parent.userData.width : 800) / 200.0) - (x / 100.0) - (el.userData.width / 200.0);
			break;
		}
		switch (el.userData.vanchor) {
			case 0:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) + ((renderableEl ? el.parent.userData.height : 600) / 200.0) - (y / 100.0) - (el.userData.height / 200.0);
			break;
			case 1:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) - (y / 100.0);
			break;
			case 2:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) - ((renderableEl ? el.parent.userData.height : 600) / 200.0) + (y / 100.0) + (el.userData.height / 200.0);
			break;
		}
		vrPos.x += el.userData.curScaleOffX;
		vrPos.y += el.userData.curScaleOffY;
		return vrPos;
	}
	this.skin_nodechangeCallback = function() {
		me.ggUserdata=player.userdata;
	};
	this.addSkin=function() {
		if (me.vrSkinAdded) return;
		me.vrSkinAdded = true;
		var hs='';
		this.ggCurrentTime=new Date().getTime();
		this.skinGroup=player.getSkinGroup();
		geometry = new THREE.PlaneGeometry(8, 6, 5, 5 );
		geometry.name = 'screentint_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'screentint_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.392157;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._screentint.material.opacity = v * me._screentint.userData.backgroundColorAlpha;
			if (me._screentint.userData.ggSubElement) {
				me._screentint.userData.ggSubElement.material.opacity = v
				me._screentint.userData.ggSubElement.visible = (v>0 && me._screentint.userData.visible);
			}
			me._screentint.visible = (v>0 && me._screentint.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._screentint.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._screentint.userData.backgroundColorAlpha = v;
			me._screentint.userData.setOpacity(me._screentint.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'screentint';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._screentint.visible
			let parentEl = me._screentint.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._screentint.userData.opacity = v;
			v = v * me._screentint.userData.parentOpacity;
			me._screentint.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint.children.length; i++) {
				let child = me._screentint.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._screentint.userData.parentOpacity = v;
			v = v * me._screentint.userData.opacity
			me._screentint.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint.children.length; i++) {
				let child = me._screentint.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._screentint = el;
		el.userData.ggId="screentint";
		me._screentint.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._screentint.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._screentint.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._screentint.ggCurrentLogicStateVisible == 0) {
			me._screentint.visible=((!me._screentint.material && Number(me._screentint.userData.opacity>0)) || Number(me._screentint.material.opacity)>0)?true:false;
			me._screentint.userData.visible=true;
				}
				else {
			me._screentint.visible=false;
			me._screentint.userData.visible=false;
				}
			}
		}
		me._screentint.logicBlock_visible();
		me._screentint.userData.onclick=function (e) {
			player.setVariableValue('vis_url_popup', false);
			player.setVariableValue('vis_image_popup', false);
			player.setVariableValue('vis_pdf_popup', false);
			player.setVariableValue('vis_video_youtube_popup', false);
			player.setVariableValue('vis_video_vimeo_popup', false);
			player.setVariableValue('vis_video_file_popup', false);
			player.setVariableValue('vis_video_url_popup', false);
		}
		me._screentint.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._screentint);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_popup';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._url_popup.material) me._url_popup.material.opacity = v;
			me._url_popup.visible = (v>0 && me._url_popup.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._url_popup.visible
			let parentEl = me._url_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_popup.userData.opacity = v;
			v = v * me._url_popup.userData.parentOpacity;
			me._url_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_popup.children.length; i++) {
				let child = me._url_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_popup.userData.parentOpacity = v;
			v = v * me._url_popup.userData.opacity
			me._url_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_popup.children.length; i++) {
				let child = me._url_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_popup = el;
		el.userData.ggId="url_popup";
		me._url_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_url_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._url_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._url_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._url_popup.ggCurrentLogicStateVisible == 0) {
			me._url_popup.visible=((!me._url_popup.material && Number(me._url_popup.userData.opacity>0)) || Number(me._url_popup.material.opacity)>0)?true:false;
			me._url_popup.userData.visible=true;
				}
				else {
			me._url_popup.visible=false;
			me._url_popup.userData.visible=false;
				}
			}
		}
		me._url_popup.logicBlock_visible();
		me._url_popup.userData.onclick=function (e) {
			player.setVariableValue('vis_image_popup', true);
		}
		me._url_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 4.35, 5, 5 );
		geometry.name = 'popup_url_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'popup_url_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._popup_url.material.opacity = v;
			if (me._popup_url.userData.hasScrollbar) {
				me._popup_url.userData.scrollbar.material.opacity = v;
				me._popup_url.userData.scrollbarBg.material.opacity = v;
			}
			if (me._popup_url.userData.ggSubElement) {
				me._popup_url.userData.ggSubElement.material.opacity = v
				me._popup_url.userData.ggSubElement.visible = (v>0 && me._popup_url.userData.visible);
			}
			me._popup_url.visible = (v>0 && me._popup_url.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._popup_url.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._popup_url.userData.backgroundColorAlpha = v;
			me._popup_url.userData.setOpacity(me._popup_url.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.225);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 435;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_url';
		el.userData.x = 0;
		el.userData.y = -0.225;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._popup_url.visible
			let parentEl = me._popup_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_url.userData.opacity = v;
			v = v * me._popup_url.userData.parentOpacity;
			me._popup_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_url.children.length; i++) {
				let child = me._popup_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_url.userData.parentOpacity = v;
			v = v * me._popup_url.userData.opacity
			me._popup_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_url.children.length; i++) {
				let child = me._popup_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_url = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 870;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._popup_url.userData.totalHeightCanv = 2 * (3);
			me._popup_url.userData.textLines = [];
			var ctx = me._popup_url.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._popup_url.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._popup_url.userData.textLines.push(line);
					line = '';
					me._popup_url.userData.totalHeightCanv += me._popup_url.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._popup_url.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._popup_url.userData.textLines.push(line);
					line = words[i];
					me._popup_url.userData.totalHeightCanv += me._popup_url.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._popup_url.userData.textLines.push(line);
			me._popup_url.userData.totalHeightCanv += me._popup_url.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._popup_url.userData.textCanvas;
			var ctx = me._popup_url.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._popup_url.userData.backgroundColor.r * 255 + ', ' + me._popup_url.userData.backgroundColor.g * 255 + ', ' + me._popup_url.userData.backgroundColor.b * 255 + ', ' + me._popup_url.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._popup_url.userData.textColor.r * 255 + ', ' + me._popup_url.userData.textColor.g * 255 + ', ' + me._popup_url.userData.textColor.b * 255 + ', ' + me._popup_url.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._popup_url.userData.boxWidthCanv - (me._popup_url.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._popup_url.userData.textLines.length; i++) {
				ctx.fillText(me._popup_url.userData.textLines[i], x, y);
				y += me._popup_url.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'popup_url_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._popup_url.material.map) {
				me._popup_url.material.map.dispose();
			}
			me._popup_url.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._popup_url.children.length; i++) {
				let child = me._popup_url.children[i];
				if (child.name.includes('scrollbar')) me._popup_url.remove(child);
			}
			var canv = me._popup_url.userData.textCanvas;
			var ctx = me._popup_url.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._popup_url.userData.lineHeightCanv = 33.6;
			me._popup_url.userData.textLines = [];
			me._popup_url.userData.textLines.push(me._popup_url.userData.ggText);
			me._popup_url.userData.totalHeightCanv = 2 * (3);
			me._popup_url.userData.totalHeightCanv += me._popup_url.userData.lineHeightCanv;
			me._popup_url.userData.boxWidthCanv = 2 * me._popup_url.userData.width;
			me._popup_url.userData.boxHeightCanv = 2 * me._popup_url.userData.height;
			me._popup_url.userData.hasScrollbar = false;
			canv.width = me._popup_url.userData.boxWidthCanv;
			canv.height = me._popup_url.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._popup_url.userData.ggPaintCanvasText();
		}
		me._popup_url.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._popup_url.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._popup_url.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._popup_url.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._popup_url.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._popup_url.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._popup_url.userData.textColorAlpha = v;
		}
		el.userData.ggId="popup_url";
		me._popup_url.userData.ggUpdatePosition=function (useTransition) {
		}
		me._url_popup.add(me._popup_url);
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'url_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'url_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._url_popup_title.material.opacity = v;
			if (me._url_popup_title.userData.hasScrollbar) {
				me._url_popup_title.userData.scrollbar.material.opacity = v;
				me._url_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._url_popup_title.userData.ggSubElement) {
				me._url_popup_title.userData.ggSubElement.material.opacity = v
				me._url_popup_title.userData.ggSubElement.visible = (v>0 && me._url_popup_title.userData.visible);
			}
			me._url_popup_title.visible = (v>0 && me._url_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._url_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_popup_title.userData.backgroundColorAlpha = v;
			me._url_popup_title.userData.setOpacity(me._url_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._url_popup_title.visible
			let parentEl = me._url_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_popup_title.userData.opacity = v;
			v = v * me._url_popup_title.userData.parentOpacity;
			me._url_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_popup_title.children.length; i++) {
				let child = me._url_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_popup_title.userData.parentOpacity = v;
			v = v * me._url_popup_title.userData.opacity
			me._url_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_popup_title.children.length; i++) {
				let child = me._url_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._url_popup_title.userData.totalHeightCanv = 2 * (3);
			me._url_popup_title.userData.textLines = [];
			var ctx = me._url_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._url_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._url_popup_title.userData.textLines.push(line);
					line = '';
					me._url_popup_title.userData.totalHeightCanv += me._url_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._url_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._url_popup_title.userData.textLines.push(line);
					line = words[i];
					me._url_popup_title.userData.totalHeightCanv += me._url_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._url_popup_title.userData.textLines.push(line);
			me._url_popup_title.userData.totalHeightCanv += me._url_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._url_popup_title.userData.textCanvas;
			var ctx = me._url_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._url_popup_title.userData.textColor.r * 255 + ', ' + me._url_popup_title.userData.textColor.g * 255 + ', ' + me._url_popup_title.userData.textColor.b * 255 + ', ' + me._url_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._url_popup_title.userData.boxWidthCanv - (me._url_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._url_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._url_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._url_popup_title.userData.textLines[i];
				var curTextLineBase = me._url_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._url_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'url_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._url_popup_title.material.map) {
				me._url_popup_title.material.map.dispose();
			}
			me._url_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._url_popup_title.children.length; i++) {
				let child = me._url_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._url_popup_title.remove(child);
			}
			var canv = me._url_popup_title.userData.textCanvas;
			var ctx = me._url_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._url_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._url_popup_title.userData.textLines = [];
			me._url_popup_title.userData.textLines.push(me._url_popup_title.userData.ggText);
			me._url_popup_title.userData.totalHeightCanv = 2 * (3);
			me._url_popup_title.userData.totalHeightCanv += me._url_popup_title.userData.lineHeightCanv;
			me._url_popup_title.userData.boxWidthCanv = 2 * me._url_popup_title.userData.width;
			me._url_popup_title.userData.boxHeightCanv = 2 * me._url_popup_title.userData.height;
			me._url_popup_title.userData.hasScrollbar = false;
			canv.width = me._url_popup_title.userData.boxWidthCanv;
			canv.height = me._url_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._url_popup_title.userData.ggPaintCanvasText();
		}
		me._url_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._url_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._url_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._url_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._url_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._url_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="url_popup_title";
		me._url_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._url_popup.add(me._url_popup_title);
		me.skinGroup.add(me._url_popup);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-0.15);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_popup_1';
		el.userData.x = 0;
		el.userData.y = -0.15;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_popup_1.material) me._image_popup_1.material.opacity = v;
			me._image_popup_1.visible = (v>0 && me._image_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._image_popup_1.visible
			let parentEl = me._image_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_popup_1.userData.opacity = v;
			v = v * me._image_popup_1.userData.parentOpacity;
			me._image_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_1.children.length; i++) {
				let child = me._image_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_popup_1.userData.parentOpacity = v;
			v = v * me._image_popup_1.userData.opacity
			me._image_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_1.children.length; i++) {
				let child = me._image_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_popup_1 = el;
		el.userData.ggId="image_popup_1";
		me._image_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_image_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_popup_1.ggCurrentLogicStateVisible == 0) {
			me._image_popup_1.visible=((!me._image_popup_1.material && Number(me._image_popup_1.userData.opacity>0)) || Number(me._image_popup_1.material.opacity)>0)?true:false;
			me._image_popup_1.userData.visible=true;
				}
				else {
			me._image_popup_1.visible=false;
			me._image_popup_1.userData.visible=false;
				}
			}
		}
		me._image_popup_1.logicBlock_visible();
		me._image_popup_1.userData.onclick=function (e) {
			player.setVariableValue('vis_image_popup', true);
		}
		me._image_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'loading_image_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAMElEQVR4nO3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAXA2RQAAEpFbdMAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'loading_image_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'loading_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._loading_image.material) me._loading_image.material.opacity = v;
			me._loading_image.visible = (v>0 && me._loading_image.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._loading_image.visible
			let parentEl = me._loading_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._loading_image.userData.opacity = v;
			v = v * me._loading_image.userData.parentOpacity;
			me._loading_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._loading_image.children.length; i++) {
				let child = me._loading_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._loading_image.userData.parentOpacity = v;
			v = v * me._loading_image.userData.opacity
			me._loading_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._loading_image.children.length; i++) {
				let child = me._loading_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._loading_image = el;
		el.userData.ggId="loading_image";
		me._loading_image.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_popup_1.add(me._loading_image);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._popup_image.userData.ggSubElement) {
				me._popup_image.userData.ggSubElement.material.opacity = v
				me._popup_image.userData.ggSubElement.visible = (v>0 && me._popup_image.userData.visible);
			}
			me._popup_image.visible = (v>0 && me._popup_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(-0.21);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 438;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_image';
		el.userData.x = 0;
		el.userData.y = -0.21;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._popup_image.visible
			let parentEl = me._popup_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_image.userData.opacity = v;
			v = v * me._popup_image.userData.parentOpacity;
			me._popup_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_image.children.length; i++) {
				let child = me._popup_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_image.userData.parentOpacity = v;
			v = v * me._popup_image.userData.opacity
			me._popup_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_image.children.length; i++) {
				let child = me._popup_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_image = el;
		currentWidth = 640;
		currentHeight = 438;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'popup_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'popup_image_subElementMaterial';
				me._popup_image.userData.ggSubElement.material = loadedMaterial;
				me._popup_image.userData.ggUpdatePosition();
				me._popup_image.userData.ggText = extUrl;
				me._popup_image.userData.setOpacity(me._popup_image.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'popup_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'popup_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 640;
		el.userData.clientHeight = 438;
		el.userData.ggId="popup_image";
		me._popup_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_image_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_image.ggCurrentLogicStateVisible == 0) {
			me._popup_image.visible=((!me._popup_image.material && Number(me._popup_image.userData.opacity>0)) || Number(me._popup_image.material.opacity)>0)?true:false;
			me._popup_image.userData.visible=true;
				}
				else {
			me._popup_image.visible=false;
			me._popup_image.userData.visible=false;
				}
			}
		}
		me._popup_image.logicBlock_visible();
		me._popup_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._popup_image.userData.clientWidth;
			var parentHeight = me._popup_image.userData.clientHeight;
			var img = me._popup_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'popup_image_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'popup_image_imgGeometry';
			};
		}
		me._image_popup_1.add(me._popup_image);
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'image_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_popup_title.material.opacity = v;
			if (me._image_popup_title.userData.hasScrollbar) {
				me._image_popup_title.userData.scrollbar.material.opacity = v;
				me._image_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._image_popup_title.userData.ggSubElement) {
				me._image_popup_title.userData.ggSubElement.material.opacity = v
				me._image_popup_title.userData.ggSubElement.visible = (v>0 && me._image_popup_title.userData.visible);
			}
			me._image_popup_title.visible = (v>0 && me._image_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_popup_title.userData.backgroundColorAlpha = v;
			me._image_popup_title.userData.setOpacity(me._image_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_popup_title.visible
			let parentEl = me._image_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_popup_title.userData.opacity = v;
			v = v * me._image_popup_title.userData.parentOpacity;
			me._image_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_title.children.length; i++) {
				let child = me._image_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_popup_title.userData.parentOpacity = v;
			v = v * me._image_popup_title.userData.opacity
			me._image_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_title.children.length; i++) {
				let child = me._image_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._image_popup_title.userData.totalHeightCanv = 2 * (3);
			me._image_popup_title.userData.textLines = [];
			var ctx = me._image_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._image_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._image_popup_title.userData.textLines.push(line);
					line = '';
					me._image_popup_title.userData.totalHeightCanv += me._image_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._image_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._image_popup_title.userData.textLines.push(line);
					line = words[i];
					me._image_popup_title.userData.totalHeightCanv += me._image_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._image_popup_title.userData.textLines.push(line);
			me._image_popup_title.userData.totalHeightCanv += me._image_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._image_popup_title.userData.textCanvas;
			var ctx = me._image_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._image_popup_title.userData.textColor.r * 255 + ', ' + me._image_popup_title.userData.textColor.g * 255 + ', ' + me._image_popup_title.userData.textColor.b * 255 + ', ' + me._image_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._image_popup_title.userData.boxWidthCanv - (me._image_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._image_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._image_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._image_popup_title.userData.textLines[i];
				var curTextLineBase = me._image_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._image_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'image_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._image_popup_title.material.map) {
				me._image_popup_title.material.map.dispose();
			}
			me._image_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._image_popup_title.children.length; i++) {
				let child = me._image_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._image_popup_title.remove(child);
			}
			var canv = me._image_popup_title.userData.textCanvas;
			var ctx = me._image_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._image_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._image_popup_title.userData.textLines = [];
			me._image_popup_title.userData.textLines.push(me._image_popup_title.userData.ggText);
			me._image_popup_title.userData.totalHeightCanv = 2 * (3);
			me._image_popup_title.userData.totalHeightCanv += me._image_popup_title.userData.lineHeightCanv;
			me._image_popup_title.userData.boxWidthCanv = 2 * me._image_popup_title.userData.width;
			me._image_popup_title.userData.boxHeightCanv = 2 * me._image_popup_title.userData.height;
			me._image_popup_title.userData.hasScrollbar = false;
			canv.width = me._image_popup_title.userData.boxWidthCanv;
			canv.height = me._image_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._image_popup_title.userData.ggPaintCanvasText();
		}
		me._image_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._image_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._image_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._image_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._image_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._image_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="image_popup_title";
		me._image_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_popup_1.add(me._image_popup_title);
		me.skinGroup.add(me._image_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pdf_popup_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._pdf_popup_1.material) me._pdf_popup_1.material.opacity = v;
			me._pdf_popup_1.visible = (v>0 && me._pdf_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._pdf_popup_1.visible
			let parentEl = me._pdf_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pdf_popup_1.userData.opacity = v;
			v = v * me._pdf_popup_1.userData.parentOpacity;
			me._pdf_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_popup_1.children.length; i++) {
				let child = me._pdf_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pdf_popup_1.userData.parentOpacity = v;
			v = v * me._pdf_popup_1.userData.opacity
			me._pdf_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_popup_1.children.length; i++) {
				let child = me._pdf_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pdf_popup_1 = el;
		el.userData.ggId="pdf_popup_1";
		me._pdf_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_pdf_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pdf_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pdf_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pdf_popup_1.ggCurrentLogicStateVisible == 0) {
			me._pdf_popup_1.visible=((!me._pdf_popup_1.material && Number(me._pdf_popup_1.userData.opacity>0)) || Number(me._pdf_popup_1.material.opacity)>0)?true:false;
			me._pdf_popup_1.userData.visible=true;
				}
				else {
			me._pdf_popup_1.visible=false;
			me._pdf_popup_1.userData.visible=false;
				}
			}
		}
		me._pdf_popup_1.logicBlock_visible();
		me._pdf_popup_1.userData.onclick=function (e) {
			player.setVariableValue('vis_popup', false);
		}
		me._pdf_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'pdf_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'pdf_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._pdf_popup_title.material.opacity = v;
			if (me._pdf_popup_title.userData.hasScrollbar) {
				me._pdf_popup_title.userData.scrollbar.material.opacity = v;
				me._pdf_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._pdf_popup_title.userData.ggSubElement) {
				me._pdf_popup_title.userData.ggSubElement.material.opacity = v
				me._pdf_popup_title.userData.ggSubElement.visible = (v>0 && me._pdf_popup_title.userData.visible);
			}
			me._pdf_popup_title.visible = (v>0 && me._pdf_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._pdf_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._pdf_popup_title.userData.backgroundColorAlpha = v;
			me._pdf_popup_title.userData.setOpacity(me._pdf_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pdf_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._pdf_popup_title.visible
			let parentEl = me._pdf_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pdf_popup_title.userData.opacity = v;
			v = v * me._pdf_popup_title.userData.parentOpacity;
			me._pdf_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_popup_title.children.length; i++) {
				let child = me._pdf_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pdf_popup_title.userData.parentOpacity = v;
			v = v * me._pdf_popup_title.userData.opacity
			me._pdf_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_popup_title.children.length; i++) {
				let child = me._pdf_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pdf_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._pdf_popup_title.userData.totalHeightCanv = 2 * (3);
			me._pdf_popup_title.userData.textLines = [];
			var ctx = me._pdf_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._pdf_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._pdf_popup_title.userData.textLines.push(line);
					line = '';
					me._pdf_popup_title.userData.totalHeightCanv += me._pdf_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._pdf_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._pdf_popup_title.userData.textLines.push(line);
					line = words[i];
					me._pdf_popup_title.userData.totalHeightCanv += me._pdf_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._pdf_popup_title.userData.textLines.push(line);
			me._pdf_popup_title.userData.totalHeightCanv += me._pdf_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._pdf_popup_title.userData.textCanvas;
			var ctx = me._pdf_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._pdf_popup_title.userData.textColor.r * 255 + ', ' + me._pdf_popup_title.userData.textColor.g * 255 + ', ' + me._pdf_popup_title.userData.textColor.b * 255 + ', ' + me._pdf_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._pdf_popup_title.userData.boxWidthCanv - (me._pdf_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._pdf_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._pdf_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._pdf_popup_title.userData.textLines[i];
				var curTextLineBase = me._pdf_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._pdf_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'pdf_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._pdf_popup_title.material.map) {
				me._pdf_popup_title.material.map.dispose();
			}
			me._pdf_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._pdf_popup_title.children.length; i++) {
				let child = me._pdf_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._pdf_popup_title.remove(child);
			}
			var canv = me._pdf_popup_title.userData.textCanvas;
			var ctx = me._pdf_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._pdf_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._pdf_popup_title.userData.textLines = [];
			me._pdf_popup_title.userData.textLines.push(me._pdf_popup_title.userData.ggText);
			me._pdf_popup_title.userData.totalHeightCanv = 2 * (3);
			me._pdf_popup_title.userData.totalHeightCanv += me._pdf_popup_title.userData.lineHeightCanv;
			me._pdf_popup_title.userData.boxWidthCanv = 2 * me._pdf_popup_title.userData.width;
			me._pdf_popup_title.userData.boxHeightCanv = 2 * me._pdf_popup_title.userData.height;
			me._pdf_popup_title.userData.hasScrollbar = false;
			canv.width = me._pdf_popup_title.userData.boxWidthCanv;
			canv.height = me._pdf_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._pdf_popup_title.userData.ggPaintCanvasText();
		}
		me._pdf_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._pdf_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._pdf_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._pdf_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._pdf_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._pdf_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._pdf_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="pdf_popup_title";
		me._pdf_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._pdf_popup_1.add(me._pdf_popup_title);
		el.userData.ggId="popup_pdf";
		me._popup_pdf.userData.ggUpdatePosition=function (useTransition) {
		}
		me._pdf_popup_1.add(me._popup_pdf);
		me.skinGroup.add(me._pdf_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_youtube_popup_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_youtube_popup_1.material) me._video_youtube_popup_1.material.opacity = v;
			me._video_youtube_popup_1.visible = (v>0 && me._video_youtube_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_youtube_popup_1.visible
			let parentEl = me._video_youtube_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_youtube_popup_1.userData.opacity = v;
			v = v * me._video_youtube_popup_1.userData.parentOpacity;
			me._video_youtube_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_youtube_popup_1.children.length; i++) {
				let child = me._video_youtube_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_youtube_popup_1.userData.parentOpacity = v;
			v = v * me._video_youtube_popup_1.userData.opacity
			me._video_youtube_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_youtube_popup_1.children.length; i++) {
				let child = me._video_youtube_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_youtube_popup_1 = el;
		el.userData.ggId="video_youtube_popup_1";
		me._video_youtube_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_youtube_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_youtube_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_youtube_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_youtube_popup_1.ggCurrentLogicStateVisible == 0) {
			me._video_youtube_popup_1.visible=((!me._video_youtube_popup_1.material && Number(me._video_youtube_popup_1.userData.opacity>0)) || Number(me._video_youtube_popup_1.material.opacity)>0)?true:false;
			me._video_youtube_popup_1.userData.visible=true;
				}
				else {
			me._video_youtube_popup_1.visible=false;
			me._video_youtube_popup_1.userData.visible=false;
				}
			}
		}
		me._video_youtube_popup_1.logicBlock_visible();
		me._video_youtube_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'video_youtube_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_youtube_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_youtube_popup_title.material.opacity = v;
			if (me._video_youtube_popup_title.userData.hasScrollbar) {
				me._video_youtube_popup_title.userData.scrollbar.material.opacity = v;
				me._video_youtube_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._video_youtube_popup_title.userData.ggSubElement) {
				me._video_youtube_popup_title.userData.ggSubElement.material.opacity = v
				me._video_youtube_popup_title.userData.ggSubElement.visible = (v>0 && me._video_youtube_popup_title.userData.visible);
			}
			me._video_youtube_popup_title.visible = (v>0 && me._video_youtube_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_youtube_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_youtube_popup_title.userData.backgroundColorAlpha = v;
			me._video_youtube_popup_title.userData.setOpacity(me._video_youtube_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_youtube_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_youtube_popup_title.visible
			let parentEl = me._video_youtube_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_youtube_popup_title.userData.opacity = v;
			v = v * me._video_youtube_popup_title.userData.parentOpacity;
			me._video_youtube_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_youtube_popup_title.children.length; i++) {
				let child = me._video_youtube_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_youtube_popup_title.userData.parentOpacity = v;
			v = v * me._video_youtube_popup_title.userData.opacity
			me._video_youtube_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_youtube_popup_title.children.length; i++) {
				let child = me._video_youtube_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_youtube_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._video_youtube_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_youtube_popup_title.userData.textLines = [];
			var ctx = me._video_youtube_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._video_youtube_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._video_youtube_popup_title.userData.textLines.push(line);
					line = '';
					me._video_youtube_popup_title.userData.totalHeightCanv += me._video_youtube_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._video_youtube_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._video_youtube_popup_title.userData.textLines.push(line);
					line = words[i];
					me._video_youtube_popup_title.userData.totalHeightCanv += me._video_youtube_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._video_youtube_popup_title.userData.textLines.push(line);
			me._video_youtube_popup_title.userData.totalHeightCanv += me._video_youtube_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._video_youtube_popup_title.userData.textCanvas;
			var ctx = me._video_youtube_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._video_youtube_popup_title.userData.textColor.r * 255 + ', ' + me._video_youtube_popup_title.userData.textColor.g * 255 + ', ' + me._video_youtube_popup_title.userData.textColor.b * 255 + ', ' + me._video_youtube_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._video_youtube_popup_title.userData.boxWidthCanv - (me._video_youtube_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._video_youtube_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._video_youtube_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._video_youtube_popup_title.userData.textLines[i];
				var curTextLineBase = me._video_youtube_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._video_youtube_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'video_youtube_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._video_youtube_popup_title.material.map) {
				me._video_youtube_popup_title.material.map.dispose();
			}
			me._video_youtube_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._video_youtube_popup_title.children.length; i++) {
				let child = me._video_youtube_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._video_youtube_popup_title.remove(child);
			}
			var canv = me._video_youtube_popup_title.userData.textCanvas;
			var ctx = me._video_youtube_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._video_youtube_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._video_youtube_popup_title.userData.textLines = [];
			me._video_youtube_popup_title.userData.textLines.push(me._video_youtube_popup_title.userData.ggText);
			me._video_youtube_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_youtube_popup_title.userData.totalHeightCanv += me._video_youtube_popup_title.userData.lineHeightCanv;
			me._video_youtube_popup_title.userData.boxWidthCanv = 2 * me._video_youtube_popup_title.userData.width;
			me._video_youtube_popup_title.userData.boxHeightCanv = 2 * me._video_youtube_popup_title.userData.height;
			me._video_youtube_popup_title.userData.hasScrollbar = false;
			canv.width = me._video_youtube_popup_title.userData.boxWidthCanv;
			canv.height = me._video_youtube_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._video_youtube_popup_title.userData.ggPaintCanvasText();
		}
		me._video_youtube_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._video_youtube_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._video_youtube_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._video_youtube_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_youtube_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._video_youtube_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._video_youtube_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="video_youtube_popup_title";
		me._video_youtube_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_youtube_popup_1.add(me._video_youtube_popup_title);
		el.userData.ggId="popup_video_youtube";
		me._popup_video_youtube.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_youtube_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_video_youtube.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_video_youtube.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_video_youtube.ggCurrentLogicStateVisible == 0) {
			me._popup_video_youtube.visible=((!me._popup_video_youtube.material && Number(me._popup_video_youtube.userData.opacity>0)) || Number(me._popup_video_youtube.material.opacity)>0)?true:false;
			me._popup_video_youtube.userData.visible=true;
					if (me._popup_video_youtube.userData.ggVideoNotLoaded) {
						me._popup_video_youtube.userData.ggInitMedia(me._popup_video_youtube.ggVideoSource);
					}
				}
				else {
			me._popup_video_youtube.visible=false;
			me._popup_video_youtube.userData.visible=false;
					me._popup_video_youtube.userData.ggInitMedia('');
				}
			}
		}
		me._popup_video_youtube.logicBlock_visible();
		me._popup_video_youtube.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_youtube_popup_1.add(me._popup_video_youtube);
		me.skinGroup.add(me._video_youtube_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_vimeo_popup_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_vimeo_popup_1.material) me._video_vimeo_popup_1.material.opacity = v;
			me._video_vimeo_popup_1.visible = (v>0 && me._video_vimeo_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_vimeo_popup_1.visible
			let parentEl = me._video_vimeo_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_vimeo_popup_1.userData.opacity = v;
			v = v * me._video_vimeo_popup_1.userData.parentOpacity;
			me._video_vimeo_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_vimeo_popup_1.children.length; i++) {
				let child = me._video_vimeo_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_vimeo_popup_1.userData.parentOpacity = v;
			v = v * me._video_vimeo_popup_1.userData.opacity
			me._video_vimeo_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_vimeo_popup_1.children.length; i++) {
				let child = me._video_vimeo_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_vimeo_popup_1 = el;
		el.userData.ggId="video_vimeo_popup_1";
		me._video_vimeo_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_vimeo_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_vimeo_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_vimeo_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_vimeo_popup_1.ggCurrentLogicStateVisible == 0) {
			me._video_vimeo_popup_1.visible=((!me._video_vimeo_popup_1.material && Number(me._video_vimeo_popup_1.userData.opacity>0)) || Number(me._video_vimeo_popup_1.material.opacity)>0)?true:false;
			me._video_vimeo_popup_1.userData.visible=true;
				}
				else {
			me._video_vimeo_popup_1.visible=false;
			me._video_vimeo_popup_1.userData.visible=false;
				}
			}
		}
		me._video_vimeo_popup_1.logicBlock_visible();
		me._video_vimeo_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'video_vimeo_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_vimeo_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_vimeo_popup_title.material.opacity = v;
			if (me._video_vimeo_popup_title.userData.hasScrollbar) {
				me._video_vimeo_popup_title.userData.scrollbar.material.opacity = v;
				me._video_vimeo_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._video_vimeo_popup_title.userData.ggSubElement) {
				me._video_vimeo_popup_title.userData.ggSubElement.material.opacity = v
				me._video_vimeo_popup_title.userData.ggSubElement.visible = (v>0 && me._video_vimeo_popup_title.userData.visible);
			}
			me._video_vimeo_popup_title.visible = (v>0 && me._video_vimeo_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_vimeo_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_vimeo_popup_title.userData.backgroundColorAlpha = v;
			me._video_vimeo_popup_title.userData.setOpacity(me._video_vimeo_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_vimeo_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_vimeo_popup_title.visible
			let parentEl = me._video_vimeo_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_vimeo_popup_title.userData.opacity = v;
			v = v * me._video_vimeo_popup_title.userData.parentOpacity;
			me._video_vimeo_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_vimeo_popup_title.children.length; i++) {
				let child = me._video_vimeo_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_vimeo_popup_title.userData.parentOpacity = v;
			v = v * me._video_vimeo_popup_title.userData.opacity
			me._video_vimeo_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_vimeo_popup_title.children.length; i++) {
				let child = me._video_vimeo_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_vimeo_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._video_vimeo_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_vimeo_popup_title.userData.textLines = [];
			var ctx = me._video_vimeo_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._video_vimeo_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._video_vimeo_popup_title.userData.textLines.push(line);
					line = '';
					me._video_vimeo_popup_title.userData.totalHeightCanv += me._video_vimeo_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._video_vimeo_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._video_vimeo_popup_title.userData.textLines.push(line);
					line = words[i];
					me._video_vimeo_popup_title.userData.totalHeightCanv += me._video_vimeo_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._video_vimeo_popup_title.userData.textLines.push(line);
			me._video_vimeo_popup_title.userData.totalHeightCanv += me._video_vimeo_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._video_vimeo_popup_title.userData.textCanvas;
			var ctx = me._video_vimeo_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._video_vimeo_popup_title.userData.textColor.r * 255 + ', ' + me._video_vimeo_popup_title.userData.textColor.g * 255 + ', ' + me._video_vimeo_popup_title.userData.textColor.b * 255 + ', ' + me._video_vimeo_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._video_vimeo_popup_title.userData.boxWidthCanv - (me._video_vimeo_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._video_vimeo_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._video_vimeo_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._video_vimeo_popup_title.userData.textLines[i];
				var curTextLineBase = me._video_vimeo_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._video_vimeo_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'video_vimeo_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._video_vimeo_popup_title.material.map) {
				me._video_vimeo_popup_title.material.map.dispose();
			}
			me._video_vimeo_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._video_vimeo_popup_title.children.length; i++) {
				let child = me._video_vimeo_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._video_vimeo_popup_title.remove(child);
			}
			var canv = me._video_vimeo_popup_title.userData.textCanvas;
			var ctx = me._video_vimeo_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._video_vimeo_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._video_vimeo_popup_title.userData.textLines = [];
			me._video_vimeo_popup_title.userData.textLines.push(me._video_vimeo_popup_title.userData.ggText);
			me._video_vimeo_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_vimeo_popup_title.userData.totalHeightCanv += me._video_vimeo_popup_title.userData.lineHeightCanv;
			me._video_vimeo_popup_title.userData.boxWidthCanv = 2 * me._video_vimeo_popup_title.userData.width;
			me._video_vimeo_popup_title.userData.boxHeightCanv = 2 * me._video_vimeo_popup_title.userData.height;
			me._video_vimeo_popup_title.userData.hasScrollbar = false;
			canv.width = me._video_vimeo_popup_title.userData.boxWidthCanv;
			canv.height = me._video_vimeo_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._video_vimeo_popup_title.userData.ggPaintCanvasText();
		}
		me._video_vimeo_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._video_vimeo_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._video_vimeo_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._video_vimeo_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_vimeo_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._video_vimeo_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._video_vimeo_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="video_vimeo_popup_title";
		me._video_vimeo_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_vimeo_popup_1.add(me._video_vimeo_popup_title);
		el.userData.ggId="popup_video_vimeo";
		me._popup_video_vimeo.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_vimeo_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_video_vimeo.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_video_vimeo.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_video_vimeo.ggCurrentLogicStateVisible == 0) {
			me._popup_video_vimeo.visible=((!me._popup_video_vimeo.material && Number(me._popup_video_vimeo.userData.opacity>0)) || Number(me._popup_video_vimeo.material.opacity)>0)?true:false;
			me._popup_video_vimeo.userData.visible=true;
					if (me._popup_video_vimeo.userData.ggVideoNotLoaded) {
						me._popup_video_vimeo.userData.ggInitMedia(me._popup_video_vimeo.ggVideoSource);
					}
				}
				else {
			me._popup_video_vimeo.visible=false;
			me._popup_video_vimeo.userData.visible=false;
					me._popup_video_vimeo.userData.ggInitMedia('');
				}
			}
		}
		me._popup_video_vimeo.logicBlock_visible();
		me._popup_video_vimeo.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_vimeo_popup_1.add(me._popup_video_vimeo);
		me.skinGroup.add(me._video_vimeo_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_popup_1.material) me._video_file_popup_1.material.opacity = v;
			me._video_file_popup_1.visible = (v>0 && me._video_file_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_popup_1.visible
			let parentEl = me._video_file_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup_1.userData.opacity = v;
			v = v * me._video_file_popup_1.userData.parentOpacity;
			me._video_file_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_1.children.length; i++) {
				let child = me._video_file_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup_1.userData.parentOpacity = v;
			v = v * me._video_file_popup_1.userData.opacity
			me._video_file_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_1.children.length; i++) {
				let child = me._video_file_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup_1 = el;
		el.userData.ggId="video_file_popup_1";
		me._video_file_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_popup_1.ggCurrentLogicStateVisible == 0) {
			me._video_file_popup_1.visible=((!me._video_file_popup_1.material && Number(me._video_file_popup_1.userData.opacity>0)) || Number(me._video_file_popup_1.material.opacity)>0)?true:false;
			me._video_file_popup_1.userData.visible=true;
				}
				else {
			me._video_file_popup_1.visible=false;
			me._video_file_popup_1.userData.visible=false;
				}
			}
		}
		me._video_file_popup_1.logicBlock_visible();
		me._video_file_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'video_file_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_file_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_file_popup_title.material.opacity = v;
			if (me._video_file_popup_title.userData.hasScrollbar) {
				me._video_file_popup_title.userData.scrollbar.material.opacity = v;
				me._video_file_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._video_file_popup_title.userData.ggSubElement) {
				me._video_file_popup_title.userData.ggSubElement.material.opacity = v
				me._video_file_popup_title.userData.ggSubElement.visible = (v>0 && me._video_file_popup_title.userData.visible);
			}
			me._video_file_popup_title.visible = (v>0 && me._video_file_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_file_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_file_popup_title.userData.backgroundColorAlpha = v;
			me._video_file_popup_title.userData.setOpacity(me._video_file_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_file_popup_title.visible
			let parentEl = me._video_file_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup_title.userData.opacity = v;
			v = v * me._video_file_popup_title.userData.parentOpacity;
			me._video_file_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_title.children.length; i++) {
				let child = me._video_file_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup_title.userData.parentOpacity = v;
			v = v * me._video_file_popup_title.userData.opacity
			me._video_file_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_title.children.length; i++) {
				let child = me._video_file_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._video_file_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_file_popup_title.userData.textLines = [];
			var ctx = me._video_file_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._video_file_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._video_file_popup_title.userData.textLines.push(line);
					line = '';
					me._video_file_popup_title.userData.totalHeightCanv += me._video_file_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._video_file_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._video_file_popup_title.userData.textLines.push(line);
					line = words[i];
					me._video_file_popup_title.userData.totalHeightCanv += me._video_file_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._video_file_popup_title.userData.textLines.push(line);
			me._video_file_popup_title.userData.totalHeightCanv += me._video_file_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._video_file_popup_title.userData.textCanvas;
			var ctx = me._video_file_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._video_file_popup_title.userData.textColor.r * 255 + ', ' + me._video_file_popup_title.userData.textColor.g * 255 + ', ' + me._video_file_popup_title.userData.textColor.b * 255 + ', ' + me._video_file_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._video_file_popup_title.userData.boxWidthCanv - (me._video_file_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._video_file_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._video_file_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._video_file_popup_title.userData.textLines[i];
				var curTextLineBase = me._video_file_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._video_file_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'video_file_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._video_file_popup_title.material.map) {
				me._video_file_popup_title.material.map.dispose();
			}
			me._video_file_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._video_file_popup_title.children.length; i++) {
				let child = me._video_file_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._video_file_popup_title.remove(child);
			}
			var canv = me._video_file_popup_title.userData.textCanvas;
			var ctx = me._video_file_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._video_file_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._video_file_popup_title.userData.textLines = [];
			me._video_file_popup_title.userData.textLines.push(me._video_file_popup_title.userData.ggText);
			me._video_file_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_file_popup_title.userData.totalHeightCanv += me._video_file_popup_title.userData.lineHeightCanv;
			me._video_file_popup_title.userData.boxWidthCanv = 2 * me._video_file_popup_title.userData.width;
			me._video_file_popup_title.userData.boxHeightCanv = 2 * me._video_file_popup_title.userData.height;
			me._video_file_popup_title.userData.hasScrollbar = false;
			canv.width = me._video_file_popup_title.userData.boxWidthCanv;
			canv.height = me._video_file_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._video_file_popup_title.userData.ggPaintCanvasText();
		}
		me._video_file_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._video_file_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._video_file_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._video_file_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_file_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._video_file_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._video_file_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="video_file_popup_title";
		me._video_file_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_file_popup_1.add(me._video_file_popup_title);
		geometry = new THREE.PlaneGeometry(6.4, 4.05, 5, 5 );
		geometry.name = 'popup_video_file_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'popup_video_file_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0.025);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 405;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_video_file';
		el.userData.x = 0;
		el.userData.y = 0.025;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._popup_video_file.material) me._popup_video_file.material.opacity = v;
			me._popup_video_file.visible = (v>0 && me._popup_video_file.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._popup_video_file.visible
			let parentEl = me._popup_video_file.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_video_file.userData.opacity = v;
			v = v * me._popup_video_file.userData.parentOpacity;
			me._popup_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_video_file.children.length; i++) {
				let child = me._popup_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_video_file.userData.parentOpacity = v;
			v = v * me._popup_video_file.userData.opacity
			me._popup_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_video_file.children.length; i++) {
				let child = me._popup_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_video_file = el;
		me._popup_video_file.userData.seekbars = [];
		me._popup_video_file.userData.ggInitMedia = function(media) {
			if (me._popup_video_file__vid) me._popup_video_file__vid.pause();
			me._popup_video_file__vid = document.createElement('video');
			player.registerVideoElement('popup_video_file', me._popup_video_file__vid);
			me._popup_video_file__vid.setAttribute('autoplay', '');
			me._popup_video_file__vid.setAttribute('crossOrigin', 'anonymous');
			me._popup_video_file__source = document.createElement('source');
			me._popup_video_file__source.setAttribute('src', media);
			me._popup_video_file__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._popup_video_file__vid.videoWidth / me._popup_video_file__vid.videoHeight;
				let elAR = me._popup_video_file.userData.width / me._popup_video_file.userData.height;
				if (videoAR > elAR) {
					me._popup_video_file.scale.set(1, (me._popup_video_file.userData.width / videoAR) / me._popup_video_file.userData.height, 1);
				} else {
					me._popup_video_file.scale.set((me._popup_video_file.userData.height * videoAR) / me._popup_video_file.userData.width, 1, 1);
				}
			}, false);
			me._popup_video_file__vid.appendChild(me._popup_video_file__source);
			videoTexture = new THREE.VideoTexture( me._popup_video_file__vid );
			videoTexture.name = 'popup_video_file_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'popup_video_file_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._popup_video_file.material = videoMaterial;
		}
		el.userData.ggId="popup_video_file";
		me._popup_video_file.userData.ggIsActive=function() {
			if (me._popup_video_file__vid != null) {
				return (me._popup_video_file__vid.paused == false && me._popup_video_file__vid.ended == false);
			} else {
				return false;
			}
		}
		me._popup_video_file.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_video_file.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_video_file.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_video_file.ggCurrentLogicStateVisible == 0) {
			me._popup_video_file.visible=((!me._popup_video_file.material && Number(me._popup_video_file.userData.opacity>0)) || Number(me._popup_video_file.material.opacity)>0)?true:false;
			me._popup_video_file.userData.visible=true;
					if (me._popup_video_file.userData.ggVideoNotLoaded) {
						me._popup_video_file.userData.ggInitMedia(me._popup_video_file.ggVideoSource);
					}
				}
				else {
			me._popup_video_file.visible=false;
			me._popup_video_file.userData.visible=false;
					me._popup_video_file.userData.ggInitMedia('');
				}
			}
		}
		me._popup_video_file.logicBlock_visible();
		me._popup_video_file.userData.onclick=function (e) {
			player.playPauseSound("popup_video_file","1");
		}
		me._popup_video_file.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_file_popup_1.add(me._popup_video_file);
		me.skinGroup.add(me._video_file_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_popup_1.material) me._video_url_popup_1.material.opacity = v;
			me._video_url_popup_1.visible = (v>0 && me._video_url_popup_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_popup_1.visible
			let parentEl = me._video_url_popup_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup_1.userData.opacity = v;
			v = v * me._video_url_popup_1.userData.parentOpacity;
			me._video_url_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_1.children.length; i++) {
				let child = me._video_url_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup_1.userData.parentOpacity = v;
			v = v * me._video_url_popup_1.userData.opacity
			me._video_url_popup_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_1.children.length; i++) {
				let child = me._video_url_popup_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup_1 = el;
		el.userData.ggId="video_url_popup_1";
		me._video_url_popup_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_popup_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_popup_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_popup_1.ggCurrentLogicStateVisible == 0) {
			me._video_url_popup_1.visible=((!me._video_url_popup_1.material && Number(me._video_url_popup_1.userData.opacity>0)) || Number(me._video_url_popup_1.material.opacity)>0)?true:false;
			me._video_url_popup_1.userData.visible=true;
				}
				else {
			me._video_url_popup_1.visible=false;
			me._video_url_popup_1.userData.visible=false;
				}
			}
		}
		me._video_url_popup_1.logicBlock_visible();
		me._video_url_popup_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.4, 0.3, 5, 5 );
		geometry.name = 'video_url_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_url_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_url_popup_title.material.opacity = v;
			if (me._video_url_popup_title.userData.hasScrollbar) {
				me._video_url_popup_title.userData.scrollbar.material.opacity = v;
				me._video_url_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._video_url_popup_title.userData.ggSubElement) {
				me._video_url_popup_title.userData.ggSubElement.material.opacity = v
				me._video_url_popup_title.userData.ggSubElement.visible = (v>0 && me._video_url_popup_title.userData.visible);
			}
			me._video_url_popup_title.visible = (v>0 && me._video_url_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_url_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_url_popup_title.userData.backgroundColorAlpha = v;
			me._video_url_popup_title.userData.setOpacity(me._video_url_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_url_popup_title.visible
			let parentEl = me._video_url_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup_title.userData.opacity = v;
			v = v * me._video_url_popup_title.userData.parentOpacity;
			me._video_url_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_title.children.length; i++) {
				let child = me._video_url_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup_title.userData.parentOpacity = v;
			v = v * me._video_url_popup_title.userData.opacity
			me._video_url_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_title.children.length; i++) {
				let child = me._video_url_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1280;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._video_url_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_url_popup_title.userData.textLines = [];
			var ctx = me._video_url_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._video_url_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._video_url_popup_title.userData.textLines.push(line);
					line = '';
					me._video_url_popup_title.userData.totalHeightCanv += me._video_url_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._video_url_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._video_url_popup_title.userData.textLines.push(line);
					line = words[i];
					me._video_url_popup_title.userData.totalHeightCanv += me._video_url_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._video_url_popup_title.userData.textLines.push(line);
			me._video_url_popup_title.userData.totalHeightCanv += me._video_url_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._video_url_popup_title.userData.textCanvas;
			var ctx = me._video_url_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._video_url_popup_title.userData.textColor.r * 255 + ', ' + me._video_url_popup_title.userData.textColor.g * 255 + ', ' + me._video_url_popup_title.userData.textColor.b * 255 + ', ' + me._video_url_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._video_url_popup_title.userData.boxWidthCanv - (me._video_url_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._video_url_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._video_url_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._video_url_popup_title.userData.textLines[i];
				var curTextLineBase = me._video_url_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._video_url_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'video_url_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._video_url_popup_title.material.map) {
				me._video_url_popup_title.material.map.dispose();
			}
			me._video_url_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._video_url_popup_title.children.length; i++) {
				let child = me._video_url_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._video_url_popup_title.remove(child);
			}
			var canv = me._video_url_popup_title.userData.textCanvas;
			var ctx = me._video_url_popup_title.userData.textCanvasContext;
			ctx.font = '44px Verdana';
			me._video_url_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._video_url_popup_title.userData.textLines = [];
			me._video_url_popup_title.userData.textLines.push(me._video_url_popup_title.userData.ggText);
			me._video_url_popup_title.userData.totalHeightCanv = 2 * (3);
			me._video_url_popup_title.userData.totalHeightCanv += me._video_url_popup_title.userData.lineHeightCanv;
			me._video_url_popup_title.userData.boxWidthCanv = 2 * me._video_url_popup_title.userData.width;
			me._video_url_popup_title.userData.boxHeightCanv = 2 * me._video_url_popup_title.userData.height;
			me._video_url_popup_title.userData.hasScrollbar = false;
			canv.width = me._video_url_popup_title.userData.boxWidthCanv;
			canv.height = me._video_url_popup_title.userData.boxHeightCanv;
			ctx.font = '44px Verdana';
			me._video_url_popup_title.userData.ggPaintCanvasText();
		}
		me._video_url_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._video_url_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._video_url_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._video_url_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_url_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._video_url_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._video_url_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="video_url_popup_title";
		me._video_url_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_url_popup_1.add(me._video_url_popup_title);
		geometry = new THREE.PlaneGeometry(6.4, 4.02, 5, 5 );
		geometry.name = 'popup_video_url_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'popup_video_url_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0.01);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 402;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_video_url';
		el.userData.x = 0;
		el.userData.y = 0.01;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.100);
		el.renderOrder = 10;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._popup_video_url.material) me._popup_video_url.material.opacity = v;
			me._popup_video_url.visible = (v>0 && me._popup_video_url.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._popup_video_url.visible
			let parentEl = me._popup_video_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_video_url.userData.opacity = v;
			v = v * me._popup_video_url.userData.parentOpacity;
			me._popup_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_video_url.children.length; i++) {
				let child = me._popup_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_video_url.userData.parentOpacity = v;
			v = v * me._popup_video_url.userData.opacity
			me._popup_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_video_url.children.length; i++) {
				let child = me._popup_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_video_url = el;
		me._popup_video_url.userData.seekbars = [];
		me._popup_video_url.userData.ggInitMedia = function(media) {
			if (me._popup_video_url__vid) me._popup_video_url__vid.pause();
			me._popup_video_url__vid = document.createElement('video');
			player.registerVideoElement('popup_video_url', me._popup_video_url__vid);
			me._popup_video_url__vid.setAttribute('autoplay', '');
			me._popup_video_url__vid.setAttribute('crossOrigin', 'anonymous');
			me._popup_video_url__source = document.createElement('source');
			me._popup_video_url__source.setAttribute('src', media);
			me._popup_video_url__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._popup_video_url__vid.videoWidth / me._popup_video_url__vid.videoHeight;
				let elAR = me._popup_video_url.userData.width / me._popup_video_url.userData.height;
				if (videoAR > elAR) {
					me._popup_video_url.scale.set(1, (me._popup_video_url.userData.width / videoAR) / me._popup_video_url.userData.height, 1);
				} else {
					me._popup_video_url.scale.set((me._popup_video_url.userData.height * videoAR) / me._popup_video_url.userData.width, 1, 1);
				}
			}, false);
			me._popup_video_url__vid.appendChild(me._popup_video_url__source);
			videoTexture = new THREE.VideoTexture( me._popup_video_url__vid );
			videoTexture.name = 'popup_video_url_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'popup_video_url_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._popup_video_url.material = videoMaterial;
		}
		el.userData.ggId="popup_video_url";
		me._popup_video_url.userData.ggIsActive=function() {
			if (me._popup_video_url__vid != null) {
				return (me._popup_video_url__vid.paused == false && me._popup_video_url__vid.ended == false);
			} else {
				return false;
			}
		}
		me._popup_video_url.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_video_url.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_video_url.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_video_url.ggCurrentLogicStateVisible == 0) {
			me._popup_video_url.visible=((!me._popup_video_url.material && Number(me._popup_video_url.userData.opacity>0)) || Number(me._popup_video_url.material.opacity)>0)?true:false;
			me._popup_video_url.userData.visible=true;
					if (me._popup_video_url.userData.ggVideoNotLoaded) {
						me._popup_video_url.userData.ggInitMedia(me._popup_video_url.ggVideoSource);
					}
				}
				else {
			me._popup_video_url.visible=false;
			me._popup_video_url.userData.visible=false;
					me._popup_video_url.userData.ggInitMedia('');
				}
			}
		}
		me._popup_video_url.logicBlock_visible();
		me._popup_video_url.userData.onclick=function (e) {
			player.playPauseSound("popup_video_url","1");
		}
		me._popup_video_url.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_url_popup_1.add(me._popup_video_url);
		me.skinGroup.add(me._video_url_popup_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.275);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 350;
		el.userData.height = 25;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_1';
		el.userData.x = 0;
		el.userData.y = -2.275;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_1.material) me._video_controller_1.material.opacity = v;
			me._video_controller_1.visible = (v>0 && me._video_controller_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_1.visible
			let parentEl = me._video_controller_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_1.userData.opacity = v;
			v = v * me._video_controller_1.userData.parentOpacity;
			me._video_controller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_1.children.length; i++) {
				let child = me._video_controller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_1.userData.parentOpacity = v;
			v = v * me._video_controller_1.userData.opacity
			me._video_controller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_1.children.length; i++) {
				let child = me._video_controller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_1 = el;
		el.userData.ggId="video_controller_1";
		me._video_controller_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_popup') == true)) || 
				((player.getVariableValue('vis_video_url_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_controller_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_controller_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_controller_1.ggCurrentLogicStateVisible == 0) {
			me._video_controller_1.visible=((!me._video_controller_1.material && Number(me._video_controller_1.userData.opacity>0)) || Number(me._video_controller_1.material.opacity)>0)?true:false;
			me._video_controller_1.userData.visible=true;
				}
				else {
			me._video_controller_1.visible=false;
			me._video_controller_1.userData.visible=false;
				}
			}
		}
		me._video_controller_1.logicBlock_visible();
		me._video_controller_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_seekbar0.userData.ggActivate=function () {
			me._video_controller_button_pause.visible=((!me._video_controller_button_pause.material && Number(me._video_controller_button_pause.userData.opacity>0)) || Number(me._video_controller_button_pause.material.opacity)>0)?true:false;
			me._video_controller_button_pause.userData.visible=true;
			me._video_controller_button_play.visible=false;
			me._video_controller_button_play.userData.visible=false;
		}
		me._video_controller_seekbar0.userData.ggDeactivate=function () {
			me._video_controller_button_play.visible=((!me._video_controller_button_play.material && Number(me._video_controller_button_play.userData.opacity>0)) || Number(me._video_controller_button_play.material.opacity)>0)?true:false;
			me._video_controller_button_play.userData.visible=true;
			me._video_controller_button_pause.visible=false;
			me._video_controller_button_pause.userData.visible=false;
		}
		me._video_controller_seekbar0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_1.add(me._video_controller_seekbar0);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'video_controller_button_pause_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABaUlEQVR4nO3aPU7DQBQE4FkC1PShCb2PwQWgS8NJopij0LjjAMAlQPTJFej5GQqMhAImb+21RlHmq5/fjic/1QJmZmZmZmZ7KJVaRDIBuABwDuAEwBpAk1J6Hri3AjAHMAPwAuAhpXQ7MG5ZJE9J3vO3V5I1yUmPnROS1+2OTXckp2O8SzaSxySf/gj507LH3nrLzkeSR2O8U27QxZag39+EKmNn1fHJb1oMzX8wdAGAq8DMIb5+x1Hz9pkSZ/+rRAGz4NxZxs7obPTsTiUKiO7I+SOMzg7OX6KAneYC1AHUXIA6gJoLUAdQcwHqAGouQB1AzQWoA6i5AHUANRegDqDmAtQB1FyAOoCaC1AHUHMB6gBqJQr4CM69Z+yMzkbP7lSigHVwbpWxMzobPb'+
	'tTiQJuAjNvAJqMnU37TImzx8V9vyABACSn7L4is2T/KzJ1x0WJYldkil2SAgCSl9jHS1JmZmZmZma75hOzLpjZ09tfNgAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_controller_button_pause_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.59);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_button_pause';
		el.userData.x = 1.59;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.110);
		el.renderOrder = 11;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_button_pause.material) me._video_controller_button_pause.material.opacity = v;
			me._video_controller_button_pause.visible = (v>0 && me._video_controller_button_pause.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_button_pause.visible
			let parentEl = me._video_controller_button_pause.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_button_pause.userData.opacity = v;
			v = v * me._video_controller_button_pause.userData.parentOpacity;
			me._video_controller_button_pause.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_pause.children.length; i++) {
				let child = me._video_controller_button_pause.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_button_pause.userData.parentOpacity = v;
			v = v * me._video_controller_button_pause.userData.opacity
			me._video_controller_button_pause.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_pause.children.length; i++) {
				let child = me._video_controller_button_pause.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_button_pause = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACP0lEQVR4nO3aP2tTYRQG8Ofc3BRsVUSotISkvXTp0EHQ6CCi4GAdRCp0E/oFXDr7IVwciuLin6ljh1R0cJFiJCDqUNB4aaAIDqWgXktq3uOSoZSb5Ny8F4/Q81vv6XOfPB0TwBhjjDHGGGOOIMorKI7PnmIq3g1A1xk4DUaTA34WVd6tEoGHyWQGxa3qIjm6A8IMATsO/IJ4/0EUvd/No3cuA2xtXTznmNcATKY8Xv81Oro4d+b1zyyZn75fPT6WJKsA5lMefwuIbk5NvW0M0/egwDcgjqsTjrmG9A8PAPNjSfIka273b9I+PABMOuZaHFcnsuYe5j0AEd0DMD7gbOFr68JlaWb3dmHA2Xj33V68B+DBRQEAxHxbmim9lb67H+8BAJREV45kd9lu5Z'+
	'k95DGACBOL35Xl1tc/e9H/ygbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gLY/vBv9I7gjUlmZmuN2XZvbi/+0w8Fl0yPxBHCq+5Y/izB7yGOC54GwvDMOn0szu7d7AQ6ZH0sxevAcoFjv3AfT/jzGWy+WNbWlmubyxDcZy/0x+OT1dfyjN7MV7gFKpkbSLnWtgrKU83mXCUhTVV7LmRlF9hQlLAA7/FogZeByG4S0iuKFKH5Dbj6QA4Evr/FzoCleYcZID12z/HqnNzr754ZO5uXnpxMix9g1ywQzAO4VC51Wl0mjm1dkYY4wxxhhjjqS//QiamE4LR8MAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_controller_button_pause_materialOver';
		el.userData.ggId="video_controller_button_pause";
		me._video_controller_button_pause.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_video_file_popup') == true))
				)
			) {
				player.pauseSound("popup_video_file");
			}
			if (
				(
					((player.getVariableValue('vis_video_url_popup') == true))
				)
			) {
				player.pauseSound("popup_video_url");
			}
			me._video_controller_button_pause.visible=false;
			me._video_controller_button_pause.userData.visible=false;
			me._video_controller_button_play.visible=((!me._video_controller_button_play.material && Number(me._video_controller_button_play.userData.opacity>0)) || Number(me._video_controller_button_play.material.opacity)>0)?true:false;
			me._video_controller_button_play.userData.visible=true;
		}
		me._video_controller_button_pause.userData.onmouseenter=function (e) {
			me._video_controller_button_pause.material = me._video_controller_button_pause.userData.materialOver;
			me.elementMouseOver['video_controller_button_pause']=true;
		}
		me._video_controller_button_pause.userData.onmouseleave=function (e) {
			me._video_controller_button_pause.material = me._video_controller_button_pause.userData.materialNormal;
			me.elementMouseOver['video_controller_button_pause']=false;
		}
		me._video_controller_button_pause.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_1.add(me._video_controller_button_pause);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'video_controller_button_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAB30lEQVR4nO3aP6iOYRjH8e8lSmEwyCKpU1JOmUgmk2SwKLZjkJDBJmW1isFocwZhMShy6kzK4t+AQWEwGI71mPQ1vJ4s5z053ud+7/vpXJ/xHa7ren5dz3O//yCllFJKKaWUUlp3olRhdQdwGhB4EBFLpXo1R92jfvevJfVs7bmmRr3lyhbUmdrzFac+HBOA6rJ6Td1Ye85i1EerBNB5qx6sPeuGir0PAC/V2+rWWkPUDKDrfwV4r56oNUALdgNP1Pvqzmk2biWAzhngo3puWg1bCwBgO3BXXVT3lm7WYgCdo8A79bq6qVSTlgMA2AzcAF6rh0s0aD2AzizwQr2jbuuz8FACgNGsl4EP6sk+iw7NLuDxn3ebEx+ZQwygc4rRbbFlkiJDDgBgBjg+SY'+
	'GhBwCjL1z+29AD+AQ8naTAkAOYB45ExPIkRYb4pcQX4FJEPOuj2JA24BdwE5jt6+JhOBvwBjgfEa/6Ltz6BvwErgKHSlw8tL0Bz4GLEfG5ZJMWN+AHMBcRx0pfPLQXwDywLyLuTathK7fAV0br3tvT/V/V3oDuaNtf4+Kh7gYUO9rWotQGrPYBpfjRthalNuDbmNcXgAvTeLpXNebn8bnac60k/yCRUkoppZRSSimtP78BaYQLwIcC+zkAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_controller_button_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.59);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_button_play';
		el.userData.x = 1.59;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_button_play.material) me._video_controller_button_play.material.opacity = v;
			me._video_controller_button_play.visible = (v>0 && me._video_controller_button_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_button_play.visible
			let parentEl = me._video_controller_button_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_button_play.userData.opacity = v;
			v = v * me._video_controller_button_play.userData.parentOpacity;
			me._video_controller_button_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_play.children.length; i++) {
				let child = me._video_controller_button_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_button_play.userData.parentOpacity = v;
			v = v * me._video_controller_button_play.userData.opacity
			me._video_controller_button_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_play.children.length; i++) {
				let child = me._video_controller_button_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_button_play = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACpUlEQVR4nO3av2sTYRgH8O/zXtPUasXNFjV3TTdBqKRJ1Io4iy6K/gFi6VDpUkEcOrg5CFIVddHJRYpLQRCXLraaWAUF20DJ/YCCukjBFqJN73GIAQctppf3fuDzGS/k+d775c2bQA4QQgghhBBCCCH+O6RrcKUy3JNOb5wG0MlMz7PZ0hddWUFoKcC2j5lK1V8ysP9XyBozTVpW5g7R9KaOzO1SWoaq+kRz8QDAwC4Q33I8r+R5xZyOzO3SUgCAvj9dJCDnM5ccpzhVqQz3aMpuiZYCfPBWHy0DxOPpro0l182f1ZHfCl074F/sY9BTxynMVKu5TFQ3EWUBDYQzyjAWXTc/wXzeCDs++gIadjLoput5C7Y9VAgzOC4FNA2SUq9sN393ebm4O4zAuB'+
	'UAAIpAYx0prthe/oL2MN0BAfQR0xPHLTxznCOWrpA4F9B0CuR/dLzC1Vk+2dHu4UkoAAC6wbhhuevvXLdwtJ2Dk1JAA9EhBuYcr/DAcQb3tGNksgpoIDBGQZ0V1y2eCzosiQU07WXwtG3nTwQZkuQCAICgEOirMukFQEF9Dfb+BCNgBajfDzIjsQUQ6PH31OZhy3r7Kcictv+wCIHLPo32Z0sv2jEsSQVsAri9o6s22dv7Yb1dQ5NSwHtf4dJAprzQ7sFxPwNqYL7mmt1DOhYPxHsHzPoGjQ4cKC/rDIljAasEXLGs8sMwwuJVAGMa4HGr/83nsCJjUQABK75SY9nM65mws6M+BJlB92q11MEoFg9EuwOWFPkjprkwF+E9aPpvEMRbvPwDjOvra2uDUS8e0LcD/naIzSuiEdMqLWrKbZmWHVA3jCkAq79d+kagy5ZZ'+
	'Pm6a8Vk8oPEBiWo1l1HKuAgwMaceZbPznq4sIYQQQgghhBBCtOQnQSrCm+a/6iEAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_controller_button_play_materialOver';
		el.userData.ggId="video_controller_button_play";
		me._video_controller_button_play.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_video_file_popup') == true))
				)
			) {
				player.playSound("popup_video_file","1");
			}
			if (
				(
					((player.getVariableValue('vis_video_url_popup') == true))
				)
			) {
				player.playSound("popup_video_url","1");
			}
			me._video_controller_button_play.visible=false;
			me._video_controller_button_play.userData.visible=false;
			me._video_controller_button_pause.visible=((!me._video_controller_button_pause.material && Number(me._video_controller_button_pause.userData.opacity>0)) || Number(me._video_controller_button_pause.material.opacity)>0)?true:false;
			me._video_controller_button_pause.userData.visible=true;
		}
		me._video_controller_button_play.userData.onmouseenter=function (e) {
			me._video_controller_button_play.material = me._video_controller_button_play.userData.materialOver;
			me.elementMouseOver['video_controller_button_play']=true;
		}
		me._video_controller_button_play.userData.onmouseleave=function (e) {
			me._video_controller_button_play.material = me._video_controller_button_play.userData.materialNormal;
			me.elementMouseOver['video_controller_button_play']=false;
		}
		me._video_controller_button_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_1.add(me._video_controller_button_play);
		me.skinGroup.add(me._video_controller_1);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABFUlEQVR4nO2aWwqEMBAEZY/jSQTvfwhvsH/tjw1hkTXRZMxMui4wXQX7AJ0mIYQQQgghhBDlAJgBLC/cXQDM1nd/R8wANgBfAKvh3fW4ub0WIZEnJhESeWIf4UTeJMKJ/DsRjs/f2ZBmEf7I86bt91DGoGoRLG91N6xbeYuB3cuTFkPdyJOag93JkxrD3cqTJwLu5ckdkTDypEQonDzJEQsrTzIE48qTiwix5UlBhHjyJCOCufzH8tjQDP0RKJCPF+FCPvbPYIZ83D9CJWLhItwRChPhiYj7CDUE3EaoOdxdhBaD3URoObT7CBYDu41gOay7CBj94ShGfzx+jBn3BYlkzLivyCRjxn1JSgghhBBCCCG8sgNiAnrxNvAPawAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(7.39);
		el.translateY(2.79);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_close';
		el.userData.x = 7.39;
		el.userData.y = 2.79;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.100);
		el.renderOrder = 10;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._popup_close.material) me._popup_close.material.opacity = v;
			me._popup_close.visible = (v>0 && me._popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._popup_close.visible
			let parentEl = me._popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_close.userData.opacity = v;
			v = v * me._popup_close.userData.parentOpacity;
			me._popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_close.children.length; i++) {
				let child = me._popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_close.userData.parentOpacity = v;
			v = v * me._popup_close.userData.opacity
			me._popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_close.children.length; i++) {
				let child = me._popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEKklEQVR4nO2aTWgcZRjHf8/spkEjfkQNXprMbMRDDoLoTkJAkNoSbW1olRSKUMEckrYHQTyIF714EkGQWPEgVTBCA0FFQUETP8Ams0FBiwWz2ZnNwYPiB6WktEnn8WAWwzKbZOerl/d33Oed5/0/v919d2dZMBgMBoPBYDAYDAZD+1Srwz0rK+59ee65vHxvZy0YnKpWh3uS9rKSXFytDvcUihvzVoFv6vXBgaRhdsOFCwN7ih3ds4KeKhQ35pNKiC2gMTwwANwTqn5dqw3enyTMTiwtPdjR1dU1AxzcfGggqYRYApqGb3C3WDoXBA89EDfMdszrI8Xuu6wPERltKiWSEEuAyMbtQHdE6U7F+mpltVyO07cVqmMFu772viBPtVjSLZ3Xb4vTO5aA/n'+
	'7vV0vkUeCPiPIdVihfBkF5OE7vZlSxgqD+LnC8xZLfBWtf/97F5Tj9Y58BfX2Lv2go+4G/Isq3gnxRW3UfjtsfQBXx6+47CCdaLPkzLBT22/bCxbh7JPoUKJUWfxKsA8A/zTWFWyTk8yBw98XtH9TdKYHxFuW/hfBA/97zP8ftDwkFANj2wg8ahiPApYjyzQqf+r470m5f3y+/AZxsUb4UWjpi20s/ttu3mcQCAEqlJU/QxwUuR5RvQvg4CNxDu+0XBOXXEHkuqiZwWeCx/t5KJXbgLaQiAMC2K9+HoR4C1iLKnQqzvu8e2alPLXBfVeSFFuW10OKgbXvnE4XdQmoCAEqlyrcCh4ErEeU9KszU6uVjra736+7LAi+1KF8ROFzq9b5LJewmqQoAsG1vDuUocLW5JlAUlekgKD/dXPP98osor7Roe1VDOWLb3lzKcZG0'+
	'GzZYqbtPWMos0BFRDlEdd5zKWYAgcJ9XeL1Fq2sCT9q291kWOTMTABAE7tEQzgkUI8qqohOodAq8GXW9woYoY47jfZRVxkwFANTq5WOiMg0UIsq6TY7rKhwv9Xkz2aXL4AxoptRXOSfoM0AYURaihw8FTmQ9POQgAMC2Kx+gOs7/z/h2KMqztu1NZ50LchIA4DiVsyo6wfYSVEUnHMd7L69cuQkAkDDyMGx7TZpkfgg28P3ySUSmdrGnonracSpn8siVi4A2hm+Qm4TMBeww/HYfg7lIyFTAjsOrnv4vxfZrspSQmYDdDN8YrJ21aZOJgDgD3SgJqQtIMsiNkJCqgDQGyFtCagLSDJ6nhFQEZBE4LwmJBWQZNA8JiQTkETDrPWILyPN9muVesQT4vjuJ8FYWgVrvuZMETjmO93a7fWPdDmvB+g1Yjw6SzRcWx6mc2f'+
	'zqHPV7wvpmpraJ/RaorQ6NShjOAHs2H8rl5iXilXBNLWus1LvwSZx+iQ7BLRI68ryH3yJhPcnwqVBbHRr1fXcy7319352srQ41/1vEYDAYDAaDwWAwGAy74V9xAwViG4+vQAAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'popup_close_materialOver';
		el.userData.ggId="popup_close";
		me._popup_close.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true)) && 
				((player.getVariableValue('resp_phone') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_close.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_close.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_close.ggCurrentLogicStateVisible == 0) {
			me._popup_close.visible=((!me._popup_close.material && Number(me._popup_close.userData.opacity>0)) || Number(me._popup_close.material.opacity)>0)?true:false;
			me._popup_close.userData.visible=true;
				}
				else {
			me._popup_close.visible=false;
			me._popup_close.userData.visible=false;
				}
			}
		}
		me._popup_close.logicBlock_visible();
		me._popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_url_popup', false);
			player.setVariableValue('vis_image_popup', false);
			player.setVariableValue('vis_pdf_popup', false);
			player.setVariableValue('vis_video_youtube_popup', false);
			player.setVariableValue('vis_video_vimeo_popup', false);
			player.setVariableValue('vis_video_file_popup', false);
			player.setVariableValue('vis_video_url_popup', false);
		}
		me._popup_close.userData.onmouseenter=function (e) {
			me._popup_close.material = me._popup_close.userData.materialOver;
			me.elementMouseOver['popup_close']=true;
		}
		me._popup_close.userData.onmouseleave=function (e) {
			me._popup_close.material = me._popup_close.userData.materialNormal;
			me.elementMouseOver['popup_close']=false;
		}
		me._popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._popup_close);
		geometry = new THREE.PlaneGeometry(8, 6, 5, 5 );
		geometry.name = 'screentint_phone_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'screentint_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.392157;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._screentint_phone.material.opacity = v * me._screentint_phone.userData.backgroundColorAlpha;
			if (me._screentint_phone.userData.ggSubElement) {
				me._screentint_phone.userData.ggSubElement.material.opacity = v
				me._screentint_phone.userData.ggSubElement.visible = (v>0 && me._screentint_phone.userData.visible);
			}
			me._screentint_phone.visible = (v>0 && me._screentint_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._screentint_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._screentint_phone.userData.backgroundColorAlpha = v;
			me._screentint_phone.userData.setOpacity(me._screentint_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'screentint_phone';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.110);
		el.renderOrder = 11;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._screentint_phone.visible
			let parentEl = me._screentint_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._screentint_phone.userData.opacity = v;
			v = v * me._screentint_phone.userData.parentOpacity;
			me._screentint_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint_phone.children.length; i++) {
				let child = me._screentint_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._screentint_phone.userData.parentOpacity = v;
			v = v * me._screentint_phone.userData.opacity
			me._screentint_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint_phone.children.length; i++) {
				let child = me._screentint_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._screentint_phone = el;
		el.userData.ggId="screentint_phone";
		me._screentint_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_info') == true)) || 
				((player.getVariableValue('vis_phone_image') == true)) || 
				((player.getVariableValue('vis_phone_pdf') == true)) || 
				((player.getVariableValue('vis_phone_youtube') == true)) || 
				((player.getVariableValue('vis_phone_vimeo') == true)) || 
				((player.getVariableValue('vis_phone_video_file') == true)) || 
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._screentint_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._screentint_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._screentint_phone.ggCurrentLogicStateVisible == 0) {
			me._screentint_phone.visible=((!me._screentint_phone.material && Number(me._screentint_phone.userData.opacity>0)) || Number(me._screentint_phone.material.opacity)>0)?true:false;
			me._screentint_phone.userData.visible=true;
				}
				else {
			me._screentint_phone.visible=false;
			me._screentint_phone.userData.visible=false;
				}
			}
		}
		me._screentint_phone.logicBlock_visible();
		me._screentint_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(2.6);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'close_popup_phone';
		el.userData.x = 0;
		el.userData.y = 2.6;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._close_popup_phone0.material) me._close_popup_phone0.material.opacity = v;
			me._close_popup_phone0.visible = (v>0 && me._close_popup_phone0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._close_popup_phone0.visible
			let parentEl = me._close_popup_phone0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._close_popup_phone0.userData.opacity = v;
			v = v * me._close_popup_phone0.userData.parentOpacity;
			me._close_popup_phone0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone0.children.length; i++) {
				let child = me._close_popup_phone0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._close_popup_phone0.userData.parentOpacity = v;
			v = v * me._close_popup_phone0.userData.opacity
			me._close_popup_phone0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone0.children.length; i++) {
				let child = me._close_popup_phone0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._close_popup_phone0 = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="close_popup_phone";
		me._close_popup_phone0.userData.onclick=function (e) {
			player.setVariableValue('vis_phone_info', false);
			player.setVariableValue('vis_phone_image', false);
			player.setVariableValue('vis_phone_pdf', false);
			player.setVariableValue('vis_phone_youtube', false);
			player.setVariableValue('vis_phone_vimeo', false);
			player.setVariableValue('vis_phone_video_file', false);
			player.setVariableValue('vis_phone_video_url', false);
		}
		me._close_popup_phone0.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'btn_close_popup_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABFUlEQVR4nO2aWwqEMBAEZY/jSQTvfwhvsH/tjw1hkTXRZMxMui4wXQX7AJ0mIYQQQgghhBDlAJgBLC/cXQDM1nd/R8wANgBfAKvh3fW4ub0WIZEnJhESeWIf4UTeJMKJ/DsRjs/f2ZBmEf7I86bt91DGoGoRLG91N6xbeYuB3cuTFkPdyJOag93JkxrD3cqTJwLu5ckdkTDypEQonDzJEQsrTzIE48qTiwix5UlBhHjyJCOCufzH8tjQDP0RKJCPF+FCPvbPYIZ83D9CJWLhItwRChPhiYj7CDUE3EaoOdxdhBaD3URoObT7CBYDu41gOay7CBj94ShGfzx+jBn3BYlkzLivyCRjxn1JSgghhBBCCCG8sgNiAnrxNvAPawAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_close_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.64);
		el.translateY(0.04);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_close_popup_phone';
		el.userData.x = 3.64;
		el.userData.y = 0.04;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_close_popup_phone0.material) me._btn_close_popup_phone0.material.opacity = v;
			me._btn_close_popup_phone0.visible = (v>0 && me._btn_close_popup_phone0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_close_popup_phone0.visible
			let parentEl = me._btn_close_popup_phone0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_close_popup_phone0.userData.opacity = v;
			v = v * me._btn_close_popup_phone0.userData.parentOpacity;
			me._btn_close_popup_phone0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_popup_phone0.children.length; i++) {
				let child = me._btn_close_popup_phone0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_close_popup_phone0.userData.parentOpacity = v;
			v = v * me._btn_close_popup_phone0.userData.opacity
			me._btn_close_popup_phone0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_popup_phone0.children.length; i++) {
				let child = me._btn_close_popup_phone0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_close_popup_phone0 = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEKklEQVR4nO2aTWgcZRjHf8/spkEjfkQNXprMbMRDDoLoTkJAkNoSbW1olRSKUMEckrYHQTyIF714EkGQWPEgVTBCA0FFQUETP8Ams0FBiwWz2ZnNwYPiB6WktEnn8WAWwzKbZOerl/d33Oed5/0/v919d2dZMBgMBoPBYDAYDAZD+1Srwz0rK+59ee65vHxvZy0YnKpWh3uS9rKSXFytDvcUihvzVoFv6vXBgaRhdsOFCwN7ih3ds4KeKhQ35pNKiC2gMTwwANwTqn5dqw3enyTMTiwtPdjR1dU1AxzcfGggqYRYApqGb3C3WDoXBA89EDfMdszrI8Xuu6wPERltKiWSEEuAyMbtQHdE6U7F+mpltVyO07cVqmMFu772viBPtVjSLZ3Xb4vTO5aA/n'+
	'7vV0vkUeCPiPIdVihfBkF5OE7vZlSxgqD+LnC8xZLfBWtf/97F5Tj9Y58BfX2Lv2go+4G/Isq3gnxRW3UfjtsfQBXx6+47CCdaLPkzLBT22/bCxbh7JPoUKJUWfxKsA8A/zTWFWyTk8yBw98XtH9TdKYHxFuW/hfBA/97zP8ftDwkFANj2wg8ahiPApYjyzQqf+r470m5f3y+/AZxsUb4UWjpi20s/ttu3mcQCAEqlJU/QxwUuR5RvQvg4CNxDu+0XBOXXEHkuqiZwWeCx/t5KJXbgLaQiAMC2K9+HoR4C1iLKnQqzvu8e2alPLXBfVeSFFuW10OKgbXvnE4XdQmoCAEqlyrcCh4ErEeU9KszU6uVjra736+7LAi+1KF8ROFzq9b5LJewmqQoAsG1vDuUocLW5JlAUlekgKD/dXPP98osor7Roe1VDOWLb3lzKcZG0'+
	'GzZYqbtPWMos0BFRDlEdd5zKWYAgcJ9XeL1Fq2sCT9q291kWOTMTABAE7tEQzgkUI8qqohOodAq8GXW9woYoY47jfZRVxkwFANTq5WOiMg0UIsq6TY7rKhwv9Xkz2aXL4AxoptRXOSfoM0AYURaihw8FTmQ9POQgAMC2Kx+gOs7/z/h2KMqztu1NZ50LchIA4DiVsyo6wfYSVEUnHMd7L69cuQkAkDDyMGx7TZpkfgg28P3ySUSmdrGnonracSpn8siVi4A2hm+Qm4TMBeww/HYfg7lIyFTAjsOrnv4vxfZrspSQmYDdDN8YrJ21aZOJgDgD3SgJqQtIMsiNkJCqgDQGyFtCagLSDJ6nhFQEZBE4LwmJBWQZNA8JiQTkETDrPWILyPN9muVesQT4vjuJ8FYWgVrvuZMETjmO93a7fWPdDmvB+g1Yjw6SzRcWx6mc2f'+
	'zqHPV7wvpmpraJ/RaorQ6NShjOAHs2H8rl5iXilXBNLWus1LvwSZx+iQ7BLRI68ryH3yJhPcnwqVBbHRr1fXcy7319352srQ41/1vEYDAYDAaDwWAwGAy74V9xAwViG4+vQAAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'btn_close_popup_phone_materialOver';
		el.userData.ggId="btn_close_popup_phone";
		me._btn_close_popup_phone0.userData.onmouseenter=function (e) {
			me._btn_close_popup_phone0.material = me._btn_close_popup_phone0.userData.materialOver;
			me.elementMouseOver['btn_close_popup_phone0']=true;
		}
		me._btn_close_popup_phone0.userData.onmouseleave=function (e) {
			me._btn_close_popup_phone0.material = me._btn_close_popup_phone0.userData.materialNormal;
			me.elementMouseOver['btn_close_popup_phone0']=false;
		}
		me._btn_close_popup_phone0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._close_popup_phone0.add(me._btn_close_popup_phone0);
		me._screentint_phone.add(me._close_popup_phone0);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-0.48875);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 537.75;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_phone';
		el.userData.x = 0;
		el.userData.y = -0.48875;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._info_popup_phone.material) me._info_popup_phone.material.opacity = v;
			me._info_popup_phone.visible = (v>0 && me._info_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._info_popup_phone.visible
			let parentEl = me._info_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_phone.userData.opacity = v;
			v = v * me._info_popup_phone.userData.parentOpacity;
			me._info_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_phone.children.length; i++) {
				let child = me._info_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_phone.userData.parentOpacity = v;
			v = v * me._info_popup_phone.userData.opacity
			me._info_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_phone.children.length; i++) {
				let child = me._info_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_phone = el;
		el.userData.ggId="info_popup_phone";
		me._info_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_info') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._info_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._info_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._info_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._info_popup_phone.visible=((!me._info_popup_phone.material && Number(me._info_popup_phone.userData.opacity>0)) || Number(me._info_popup_phone.material.opacity)>0)?true:false;
			me._info_popup_phone.userData.visible=true;
				}
				else {
			me._info_popup_phone.visible=false;
			me._info_popup_phone.userData.visible=false;
				}
			}
		}
		me._info_popup_phone.logicBlock_visible();
		me._info_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(11.05, 3.14, 5, 5 );
		geometry.name = 'info_popup_text_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_popup_text_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_popup_text_phone.material.opacity = v;
			if (me._info_popup_text_phone.userData.hasScrollbar) {
				me._info_popup_text_phone.userData.scrollbar.material.opacity = v;
				me._info_popup_text_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_popup_text_phone.userData.ggSubElement) {
				me._info_popup_text_phone.userData.ggSubElement.material.opacity = v
				me._info_popup_text_phone.userData.ggSubElement.visible = (v>0 && me._info_popup_text_phone.userData.visible);
			}
			me._info_popup_text_phone.visible = (v>0 && me._info_popup_text_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_text_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_text_phone.userData.backgroundColorAlpha = v;
			me._info_popup_text_phone.userData.setOpacity(me._info_popup_text_phone.userData.opacity);
		}
		el.translateX(1.775);
		el.translateY(0.51875);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1105;
		el.userData.height = 314;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_text_phone';
		el.userData.x = 1.775;
		el.userData.y = 0.51875;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_popup_text_phone.visible
			let parentEl = me._info_popup_text_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_text_phone.userData.opacity = v;
			v = v * me._info_popup_text_phone.userData.parentOpacity;
			me._info_popup_text_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_text_phone.children.length; i++) {
				let child = me._info_popup_text_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_text_phone.userData.parentOpacity = v;
			v = v * me._info_popup_text_phone.userData.opacity
			me._info_popup_text_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_text_phone.children.length; i++) {
				let child = me._info_popup_text_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_text_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 2210;
		canvas.height = 628;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_popup_text_phone.userData.totalHeightCanv = 2 * (3);
			me._info_popup_text_phone.userData.textLines = [];
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_popup_text_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_popup_text_phone.userData.textLines.push(line);
					line = '';
					me._info_popup_text_phone.userData.totalHeightCanv += me._info_popup_text_phone.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._info_popup_text_phone.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._info_popup_text_phone.userData.textLines.push(line);
					line = words[i];
					me._info_popup_text_phone.userData.totalHeightCanv += me._info_popup_text_phone.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._info_popup_text_phone.userData.textLines.push(line);
			me._info_popup_text_phone.userData.totalHeightCanv += me._info_popup_text_phone.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_popup_text_phone.userData.textCanvas;
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_popup_text_phone.userData.textColor.r * 255 + ', ' + me._info_popup_text_phone.userData.textColor.g * 255 + ', ' + me._info_popup_text_phone.userData.textColor.b * 255 + ', ' + me._info_popup_text_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 0;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y -= me._info_popup_text_phone.userData.scrollPosPercent * me._info_popup_text_phone.userData.totalHeightCanv;
			for (var i = 0; i < me._info_popup_text_phone.userData.textLines.length; i++) {
				ctx.fillText(me._info_popup_text_phone.userData.textLines[i], x, y);
				y += me._info_popup_text_phone.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_popup_text_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_popup_text_phone.material.map) {
				me._info_popup_text_phone.material.map.dispose();
			}
			me._info_popup_text_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._info_popup_text_phone.children.length; i++) {
				let child = me._info_popup_text_phone.children[i];
				if (child.name.includes('scrollbar')) me._info_popup_text_phone.remove(child);
			}
			var canv = me._info_popup_text_phone.userData.textCanvas;
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._info_popup_text_phone.userData.lineHeightCanv = 33.6;
			me._info_popup_text_phone.userData.ggWrapText(false);
			me._info_popup_text_phone.userData.boxWidthCanv = 2 * me._info_popup_text_phone.userData.width;
			me._info_popup_text_phone.userData.boxHeightCanv = 2 * me._info_popup_text_phone.userData.height;
			me._info_popup_text_phone.userData.scrollPosPercent = 0.0
			if (me._info_popup_text_phone.userData.totalHeightCanv > (2 * (me._info_popup_text_phone.userData.height))) {
				me._info_popup_text_phone.userData.ggWrapText(true);
				me._info_popup_text_phone.userData.pagePercent = (2 * (me._info_popup_text_phone.userData.height) - me._info_popup_text_phone.userData.lineHeightCanv) / me._info_popup_text_phone.userData.totalHeightCanv;
				me._info_popup_text_phone.userData.maxScrollPercent = (me._info_popup_text_phone.userData.totalHeightCanv - (2 * (me._info_popup_text_phone.userData.height))) / me._info_popup_text_phone.userData.totalHeightCanv;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 100.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarBgMaterial';
				me._info_popup_text_phone.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarBg.name = 'info_popup_text_phone_scrollbarBg';
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarBg);
				me._info_popup_text_phone.userData.scrollbarXPos = (me._info_popup_text_phone.userData.width - 25) / 200.0;
				me._info_popup_text_phone.userData.scrollbarBg.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarBg.position.z = me._info_popup_text_phone.position.z + 0.01;
				me._info_popup_text_phone.userData.scrollbarBg.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarHeight = ((2 * me._info_popup_text_phone.userData.height) / me._info_popup_text_phone.userData.totalHeightCanv) * me._info_popup_text_phone.userData.height;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._info_popup_text_phone.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarMaterial';
				me._info_popup_text_phone.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbar.name = 'info_popup_text_phone_scrollbar';
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbar);
				me._info_popup_text_phone.userData.scrollbar.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbar.position.z = me._info_popup_text_phone.position.z + 0.02;
				me._info_popup_text_phone.userData.scrollbarYPosMin = (me._info_popup_text_phone.userData.height - me._info_popup_text_phone.userData.scrollbarHeight) / 200.0;
				me._info_popup_text_phone.userData.scrollbarYPosMax = me._info_popup_text_phone.userData.scrollbarYPosMin - (me._info_popup_text_phone.userData.height - me._info_popup_text_phone.userData.scrollbarHeight) / 100.0;
				me._info_popup_text_phone.userData.scrollbar.position.y = me._info_popup_text_phone.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarPageDownMaterial';
				me._info_popup_text_phone.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarPageDown.name = 'info_popup_text_phone_scrollbarPageDown';
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.onclick = function() {
					me._info_popup_text_phone.userData.scrollPosPercent -= me._info_popup_text_phone.userData.pagePercent;
					me._info_popup_text_phone.userData.scrollPosPercent = Math.max(me._info_popup_text_phone.userData.scrollPosPercent, 0);
					me._info_popup_text_phone.userData.ggPaintCanvasText();
					me._info_popup_text_phone.userData.scrollbar.position.y += (me._info_popup_text_phone.userData.height * me._info_popup_text_phone.userData.pagePercent) / 100.0;
					me._info_popup_text_phone.userData.scrollbar.position.y = Math.min(me._info_popup_text_phone.userData.scrollbar.position.y, me._info_popup_text_phone.userData.scrollbarYPosMin);
				}
				me._info_popup_text_phone.userData.scrollbarPageDown.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarPageDown.position.y = me._info_popup_text_phone.userData.height / 400.0;
				me._info_popup_text_phone.userData.scrollbarPageDown.position.z = me._info_popup_text_phone.position.z + 0.05;
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._info_popup_text_phone.userData.scrollbarPageDown.visible = false;
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarPageDown);
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarPageUpMaterial';
				me._info_popup_text_phone.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarPageUp.name = 'info_popup_text_phone_scrollbarPageUp';
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.onclick = function() {
					me._info_popup_text_phone.userData.scrollPosPercent += me._info_popup_text_phone.userData.pagePercent;
					me._info_popup_text_phone.userData.scrollPosPercent = Math.min(me._info_popup_text_phone.userData.scrollPosPercent, me._info_popup_text_phone.userData.maxScrollPercent);
					me._info_popup_text_phone.userData.ggPaintCanvasText();
					me._info_popup_text_phone.userData.scrollbar.position.y -= (me._info_popup_text_phone.userData.height * me._info_popup_text_phone.userData.pagePercent) / 100.0;
					me._info_popup_text_phone.userData.scrollbar.position.y = Math.max(me._info_popup_text_phone.userData.scrollbar.position.y, me._info_popup_text_phone.userData.scrollbarYPosMax);
				}
				me._info_popup_text_phone.userData.scrollbarPageUp.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarPageUp.position.y = -me._info_popup_text_phone.userData.height / 400.0;
				me._info_popup_text_phone.userData.scrollbarPageUp.position.z = me._info_popup_text_phone.position.z + 0.05;
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._info_popup_text_phone.userData.scrollbarPageUp.visible = false;
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarPageUp);
				me._info_popup_text_phone.userData.hasScrollbar = true;
			} else {
				me._info_popup_text_phone.userData.hasScrollbar = false;
			}
			canv.width = me._info_popup_text_phone.userData.boxWidthCanv;
			canv.height = me._info_popup_text_phone.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._info_popup_text_phone.userData.ggPaintCanvasText();
		}
		me._info_popup_text_phone.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_popup_text_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_popup_text_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_text_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_text_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_popup_text_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_popup_text_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_popup_text_phone";
		me._info_popup_text_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_popup_phone.add(me._info_popup_text_phone);
		geometry = new THREE.PlaneGeometry(7.31334, 0.4, 5, 5 );
		geometry.name = 'info_popup_title_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_popup_title_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_popup_title_phone.material.opacity = v;
			if (me._info_popup_title_phone.userData.hasScrollbar) {
				me._info_popup_title_phone.userData.scrollbar.material.opacity = v;
				me._info_popup_title_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_popup_title_phone.userData.ggSubElement) {
				me._info_popup_title_phone.userData.ggSubElement.material.opacity = v
				me._info_popup_title_phone.userData.ggSubElement.visible = (v>0 && me._info_popup_title_phone.userData.visible);
			}
			me._info_popup_title_phone.visible = (v>0 && me._info_popup_title_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_title_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_title_phone.userData.backgroundColorAlpha = v;
			me._info_popup_title_phone.userData.setOpacity(me._info_popup_title_phone.userData.opacity);
		}
		el.translateX(-0.0933319);
		el.translateY(2.48875);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 731.334;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_title_phone';
		el.userData.x = -0.0933319;
		el.userData.y = 2.48875;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_popup_title_phone.visible
			let parentEl = me._info_popup_title_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_title_phone.userData.opacity = v;
			v = v * me._info_popup_title_phone.userData.parentOpacity;
			me._info_popup_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_title_phone.children.length; i++) {
				let child = me._info_popup_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_title_phone.userData.parentOpacity = v;
			v = v * me._info_popup_title_phone.userData.opacity
			me._info_popup_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_title_phone.children.length; i++) {
				let child = me._info_popup_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_title_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1463;
		canvas.height = 80;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_popup_title_phone.userData.totalHeightCanv = 2 * (3);
			me._info_popup_title_phone.userData.textLines = [];
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_popup_title_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_popup_title_phone.userData.textLines.push(line);
					line = '';
					me._info_popup_title_phone.userData.totalHeightCanv += me._info_popup_title_phone.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._info_popup_title_phone.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._info_popup_title_phone.userData.textLines.push(line);
					line = words[i];
					me._info_popup_title_phone.userData.totalHeightCanv += me._info_popup_title_phone.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._info_popup_title_phone.userData.textLines.push(line);
			me._info_popup_title_phone.userData.totalHeightCanv += me._info_popup_title_phone.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_popup_title_phone.userData.textCanvas;
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_popup_title_phone.userData.textColor.r * 255 + ', ' + me._info_popup_title_phone.userData.textColor.g * 255 + ', ' + me._info_popup_title_phone.userData.textColor.b * 255 + ', ' + me._info_popup_title_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 0;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y += (canv.height - me._info_popup_title_phone.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._info_popup_title_phone.userData.textLines.length; i++) {
				var curTextLine = me._info_popup_title_phone.userData.textLines[i];
				var curTextLineBase = me._info_popup_title_phone.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._info_popup_title_phone.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_popup_title_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_popup_title_phone.material.map) {
				me._info_popup_title_phone.material.map.dispose();
			}
			me._info_popup_title_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._info_popup_title_phone.children.length; i++) {
				let child = me._info_popup_title_phone.children[i];
				if (child.name.includes('scrollbar')) me._info_popup_title_phone.remove(child);
			}
			var canv = me._info_popup_title_phone.userData.textCanvas;
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			ctx.font = '40px Verdana';
			me._info_popup_title_phone.userData.lineHeightCanv = 40 * 1.2;
			me._info_popup_title_phone.userData.textLines = [];
			me._info_popup_title_phone.userData.textLines.push(me._info_popup_title_phone.userData.ggText);
			me._info_popup_title_phone.userData.totalHeightCanv = 2 * (3);
			me._info_popup_title_phone.userData.totalHeightCanv += me._info_popup_title_phone.userData.lineHeightCanv;
			me._info_popup_title_phone.userData.boxWidthCanv = 2 * me._info_popup_title_phone.userData.width;
			me._info_popup_title_phone.userData.boxHeightCanv = 2 * me._info_popup_title_phone.userData.height;
			me._info_popup_title_phone.userData.hasScrollbar = false;
			canv.width = me._info_popup_title_phone.userData.boxWidthCanv;
			canv.height = me._info_popup_title_phone.userData.boxHeightCanv;
			ctx.font = '40px Verdana';
			me._info_popup_title_phone.userData.ggPaintCanvasText();
		}
		me._info_popup_title_phone.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_popup_title_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_popup_title_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_title_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_title_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_popup_title_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_popup_title_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_popup_title_phone";
		me._info_popup_title_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_popup_phone.add(me._info_popup_title_phone);
		me._screentint_phone.add(me._info_popup_phone);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_popup_phone.userData.ggSubElement) {
				me._image_popup_phone.userData.ggSubElement.material.opacity = v
				me._image_popup_phone.userData.ggSubElement.visible = (v>0 && me._image_popup_phone.userData.visible);
			}
			me._image_popup_phone.visible = (v>0 && me._image_popup_phone.userData.visible);
		}
		el.translateX(1.9);
		el.translateY(-1.14);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1130;
		el.userData.height = 668;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_popup_phone';
		el.userData.x = 1.9;
		el.userData.y = -1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_popup_phone.visible
			let parentEl = me._image_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_popup_phone.userData.opacity = v;
			v = v * me._image_popup_phone.userData.parentOpacity;
			me._image_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_phone.children.length; i++) {
				let child = me._image_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_popup_phone.userData.parentOpacity = v;
			v = v * me._image_popup_phone.userData.opacity
			me._image_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_phone.children.length; i++) {
				let child = me._image_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_popup_phone = el;
		currentWidth = 1130;
		currentHeight = 668;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'image_popup_phone_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'image_popup_phone_subElementMaterial';
				me._image_popup_phone.userData.ggSubElement.material = loadedMaterial;
				me._image_popup_phone.userData.ggUpdatePosition();
				me._image_popup_phone.userData.ggText = extUrl;
				me._image_popup_phone.userData.setOpacity(me._image_popup_phone.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'image_popup_phone_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'image_popup_phone_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 1130;
		el.userData.clientHeight = 668;
		el.userData.ggId="image_popup_phone";
		me._image_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_image') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._image_popup_phone.visible=((!me._image_popup_phone.material && Number(me._image_popup_phone.userData.opacity>0)) || Number(me._image_popup_phone.material.opacity)>0)?true:false;
			me._image_popup_phone.userData.visible=true;
				}
				else {
			me._image_popup_phone.visible=false;
			me._image_popup_phone.userData.visible=false;
				}
			}
		}
		me._image_popup_phone.logicBlock_visible();
		me._image_popup_phone.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._image_popup_phone.userData.clientWidth;
			var parentHeight = me._image_popup_phone.userData.clientHeight;
			var img = me._image_popup_phone.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_phone_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_phone_imgGeometry';
			};
		}
		me._screentint_phone.add(me._image_popup_phone);
		el.userData.ggId="pdf_popup_phone";
		me._pdf_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_pdf') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pdf_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pdf_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pdf_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._pdf_popup_phone.visible=((!me._pdf_popup_phone.material && Number(me._pdf_popup_phone.userData.opacity>0)) || Number(me._pdf_popup_phone.material.opacity)>0)?true:false;
			me._pdf_popup_phone.userData.visible=true;
				}
				else {
			me._pdf_popup_phone.visible=false;
			me._pdf_popup_phone.userData.visible=false;
				}
			}
		}
		me._pdf_popup_phone.logicBlock_visible();
		me._pdf_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._screentint_phone.add(me._pdf_popup_phone);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.625);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 350;
		el.userData.height = 25;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_phone';
		el.userData.x = 0;
		el.userData.y = -2.625;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_phone.material) me._video_controller_phone.material.opacity = v;
			me._video_controller_phone.visible = (v>0 && me._video_controller_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_phone.visible
			let parentEl = me._video_controller_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_phone.userData.opacity = v;
			v = v * me._video_controller_phone.userData.parentOpacity;
			me._video_controller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_phone.children.length; i++) {
				let child = me._video_controller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_phone.userData.parentOpacity = v;
			v = v * me._video_controller_phone.userData.opacity
			me._video_controller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_phone.children.length; i++) {
				let child = me._video_controller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_phone = el;
		el.userData.ggId="video_controller_phone";
		me._video_controller_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_file') == true)) || 
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_controller_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_controller_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_controller_phone.ggCurrentLogicStateVisible == 0) {
			me._video_controller_phone.visible=((!me._video_controller_phone.material && Number(me._video_controller_phone.userData.opacity>0)) || Number(me._video_controller_phone.material.opacity)>0)?true:false;
			me._video_controller_phone.userData.visible=true;
				}
				else {
			me._video_controller_phone.visible=false;
			me._video_controller_phone.userData.visible=false;
				}
			}
		}
		me._video_controller_phone.logicBlock_visible();
		me._video_controller_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_seekbar_phone.userData.ggActivate=function () {
			me._video_controller_button_pause_phone.visible=((!me._video_controller_button_pause_phone.material && Number(me._video_controller_button_pause_phone.userData.opacity>0)) || Number(me._video_controller_button_pause_phone.material.opacity)>0)?true:false;
			me._video_controller_button_pause_phone.userData.visible=true;
			me._video_controller_button_play_phone.visible=false;
			me._video_controller_button_play_phone.userData.visible=false;
		}
		me._video_controller_seekbar_phone.userData.ggDeactivate=function () {
			me._video_controller_button_play_phone.visible=((!me._video_controller_button_play_phone.material && Number(me._video_controller_button_play_phone.userData.opacity>0)) || Number(me._video_controller_button_play_phone.material.opacity)>0)?true:false;
			me._video_controller_button_play_phone.userData.visible=true;
			me._video_controller_button_pause_phone.visible=false;
			me._video_controller_button_pause_phone.userData.visible=false;
		}
		me._video_controller_seekbar_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_phone.add(me._video_controller_seekbar_phone);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'video_controller_button_pause_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABaUlEQVR4nO3aPU7DQBQE4FkC1PShCb2PwQWgS8NJopij0LjjAMAlQPTJFej5GQqMhAImb+21RlHmq5/fjic/1QJmZmZmZmZ7KJVaRDIBuABwDuAEwBpAk1J6Hri3AjAHMAPwAuAhpXQ7MG5ZJE9J3vO3V5I1yUmPnROS1+2OTXckp2O8SzaSxySf/gj507LH3nrLzkeSR2O8U27QxZag39+EKmNn1fHJb1oMzX8wdAGAq8DMIb5+x1Hz9pkSZ/+rRAGz4NxZxs7obPTsTiUKiO7I+SOMzg7OX6KAneYC1AHUXIA6gJoLUAdQcwHqAGouQB1AzQWoA6i5AHUANRegDqDmAtQB1FyAOoCaC1AHUHMB6gBqJQr4CM69Z+yMzkbP7lSigHVwbpWxMzobPb'+
	'tTiQJuAjNvAJqMnU37TImzx8V9vyABACSn7L4is2T/KzJ1x0WJYldkil2SAgCSl9jHS1JmZmZmZma75hOzLpjZ09tfNgAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_controller_button_pause_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.59);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_button_pause_phone';
		el.userData.x = 1.59;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_button_pause_phone.material) me._video_controller_button_pause_phone.material.opacity = v;
			me._video_controller_button_pause_phone.visible = (v>0 && me._video_controller_button_pause_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_button_pause_phone.visible
			let parentEl = me._video_controller_button_pause_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_button_pause_phone.userData.opacity = v;
			v = v * me._video_controller_button_pause_phone.userData.parentOpacity;
			me._video_controller_button_pause_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_pause_phone.children.length; i++) {
				let child = me._video_controller_button_pause_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_button_pause_phone.userData.parentOpacity = v;
			v = v * me._video_controller_button_pause_phone.userData.opacity
			me._video_controller_button_pause_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_pause_phone.children.length; i++) {
				let child = me._video_controller_button_pause_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_button_pause_phone = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACP0lEQVR4nO3aP2tTYRQG8Ofc3BRsVUSotISkvXTp0EHQ6CCi4GAdRCp0E/oFXDr7IVwciuLin6ljh1R0cJFiJCDqUNB4aaAIDqWgXktq3uOSoZSb5Ny8F4/Q81vv6XOfPB0TwBhjjDHGGGOOIMorKI7PnmIq3g1A1xk4DUaTA34WVd6tEoGHyWQGxa3qIjm6A8IMATsO/IJ4/0EUvd/No3cuA2xtXTznmNcATKY8Xv81Oro4d+b1zyyZn75fPT6WJKsA5lMefwuIbk5NvW0M0/egwDcgjqsTjrmG9A8PAPNjSfIka273b9I+PABMOuZaHFcnsuYe5j0AEd0DMD7gbOFr68JlaWb3dmHA2Xj33V68B+DBRQEAxHxbmim9lb67H+8BAJREV45kd9lu5Z'+
	'k95DGACBOL35Xl1tc/e9H/ygbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gzQbQLqDNBtAuoM0G0C6gLY/vBv9I7gjUlmZmuN2XZvbi/+0w8Fl0yPxBHCq+5Y/izB7yGOC54GwvDMOn0szu7d7AQ6ZH0sxevAcoFjv3AfT/jzGWy+WNbWlmubyxDcZy/0x+OT1dfyjN7MV7gFKpkbSLnWtgrKU83mXCUhTVV7LmRlF9hQlLAA7/FogZeByG4S0iuKFKH5Dbj6QA4Evr/FzoCleYcZID12z/HqnNzr754ZO5uXnpxMix9g1ywQzAO4VC51Wl0mjm1dkYY4wxxhhjjqS//QiamE4LR8MAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_controller_button_pause_phone_materialOver';
		el.userData.ggId="video_controller_button_pause_phone";
		me._video_controller_button_pause_phone.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_phone_video_file') == true))
				)
			) {
				player.pauseSound("video_file_popup_phone");
			}
			if (
				(
					((player.getVariableValue('vis_phone_video_url') == true))
				)
			) {
				player.pauseSound("video_url_popup_phone");
			}
			me._video_controller_button_pause_phone.visible=false;
			me._video_controller_button_pause_phone.userData.visible=false;
			me._video_controller_button_play_phone.visible=((!me._video_controller_button_play_phone.material && Number(me._video_controller_button_play_phone.userData.opacity>0)) || Number(me._video_controller_button_play_phone.material.opacity)>0)?true:false;
			me._video_controller_button_play_phone.userData.visible=true;
		}
		me._video_controller_button_pause_phone.userData.onmouseenter=function (e) {
			me._video_controller_button_pause_phone.material = me._video_controller_button_pause_phone.userData.materialOver;
			me.elementMouseOver['video_controller_button_pause_phone']=true;
		}
		me._video_controller_button_pause_phone.userData.onmouseleave=function (e) {
			me._video_controller_button_pause_phone.material = me._video_controller_button_pause_phone.userData.materialNormal;
			me.elementMouseOver['video_controller_button_pause_phone']=false;
		}
		me._video_controller_button_pause_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_phone.add(me._video_controller_button_pause_phone);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'video_controller_button_play_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAB30lEQVR4nO3aP6iOYRjH8e8lSmEwyCKpU1JOmUgmk2SwKLZjkJDBJmW1isFocwZhMShy6kzK4t+AQWEwGI71mPQ1vJ4s5z053ud+7/vpXJ/xHa7ren5dz3O//yCllFJKKaWUUlp3olRhdQdwGhB4EBFLpXo1R92jfvevJfVs7bmmRr3lyhbUmdrzFac+HBOA6rJ6Td1Ye85i1EerBNB5qx6sPeuGir0PAC/V2+rWWkPUDKDrfwV4r56oNUALdgNP1Pvqzmk2biWAzhngo3puWg1bCwBgO3BXXVT3lm7WYgCdo8A79bq6qVSTlgMA2AzcAF6rh0s0aD2AzizwQr2jbuuz8FACgNGsl4EP6sk+iw7NLuDxn3ebEx+ZQwygc4rRbbFlkiJDDgBgBjg+SY'+
	'GhBwCjL1z+29AD+AQ8naTAkAOYB45ExPIkRYb4pcQX4FJEPOuj2JA24BdwE5jt6+JhOBvwBjgfEa/6Ltz6BvwErgKHSlw8tL0Bz4GLEfG5ZJMWN+AHMBcRx0pfPLQXwDywLyLuTathK7fAV0br3tvT/V/V3oDuaNtf4+Kh7gYUO9rWotQGrPYBpfjRthalNuDbmNcXgAvTeLpXNebn8bnac60k/yCRUkoppZRSSimtP78BaYQLwIcC+zkAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_controller_button_play_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.59);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_button_play_phone';
		el.userData.x = 1.59;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_button_play_phone.material) me._video_controller_button_play_phone.material.opacity = v;
			me._video_controller_button_play_phone.visible = (v>0 && me._video_controller_button_play_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_button_play_phone.visible
			let parentEl = me._video_controller_button_play_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_button_play_phone.userData.opacity = v;
			v = v * me._video_controller_button_play_phone.userData.parentOpacity;
			me._video_controller_button_play_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_play_phone.children.length; i++) {
				let child = me._video_controller_button_play_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_button_play_phone.userData.parentOpacity = v;
			v = v * me._video_controller_button_play_phone.userData.opacity
			me._video_controller_button_play_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_button_play_phone.children.length; i++) {
				let child = me._video_controller_button_play_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_button_play_phone = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACpUlEQVR4nO3av2sTYRgH8O/zXtPUasXNFjV3TTdBqKRJ1Io4iy6K/gFi6VDpUkEcOrg5CFIVddHJRYpLQRCXLraaWAUF20DJ/YCCukjBFqJN73GIAQctppf3fuDzGS/k+d775c2bQA4QQgghhBBCCCH+O6RrcKUy3JNOb5wG0MlMz7PZ0hddWUFoKcC2j5lK1V8ysP9XyBozTVpW5g7R9KaOzO1SWoaq+kRz8QDAwC4Q33I8r+R5xZyOzO3SUgCAvj9dJCDnM5ccpzhVqQz3aMpuiZYCfPBWHy0DxOPpro0l182f1ZHfCl074F/sY9BTxynMVKu5TFQ3EWUBDYQzyjAWXTc/wXzeCDs++gIadjLoput5C7Y9VAgzOC4FNA2SUq9sN393ebm4O4zAuB'+
	'UAAIpAYx0prthe/oL2MN0BAfQR0xPHLTxznCOWrpA4F9B0CuR/dLzC1Vk+2dHu4UkoAAC6wbhhuevvXLdwtJ2Dk1JAA9EhBuYcr/DAcQb3tGNksgpoIDBGQZ0V1y2eCzosiQU07WXwtG3nTwQZkuQCAICgEOirMukFQEF9Dfb+BCNgBajfDzIjsQUQ6PH31OZhy3r7Kcictv+wCIHLPo32Z0sv2jEsSQVsAri9o6s22dv7Yb1dQ5NSwHtf4dJAprzQ7sFxPwNqYL7mmt1DOhYPxHsHzPoGjQ4cKC/rDIljAasEXLGs8sMwwuJVAGMa4HGr/83nsCJjUQABK75SY9nM65mws6M+BJlB92q11MEoFg9EuwOWFPkjprkwF+E9aPpvEMRbvPwDjOvra2uDUS8e0LcD/naIzSuiEdMqLWrKbZmWHVA3jCkAq79d+kagy5ZZ'+
	'Pm6a8Vk8oPEBiWo1l1HKuAgwMaceZbPznq4sIYQQQgghhBBCtOQnQSrCm+a/6iEAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_controller_button_play_phone_materialOver';
		el.userData.ggId="video_controller_button_play_phone";
		me._video_controller_button_play_phone.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_phone_video_file') == true))
				)
			) {
				player.playSound("video_file_popup_phone","1");
			}
			if (
				(
					((player.getVariableValue('vis_phone_video_url') == true))
				)
			) {
				player.playSound("video_url_popup_phone","1");
			}
			me._video_controller_button_play_phone.visible=false;
			me._video_controller_button_play_phone.userData.visible=false;
			me._video_controller_button_pause_phone.visible=((!me._video_controller_button_pause_phone.material && Number(me._video_controller_button_pause_phone.userData.opacity>0)) || Number(me._video_controller_button_pause_phone.material.opacity)>0)?true:false;
			me._video_controller_button_pause_phone.userData.visible=true;
		}
		me._video_controller_button_play_phone.userData.onmouseenter=function (e) {
			me._video_controller_button_play_phone.material = me._video_controller_button_play_phone.userData.materialOver;
			me.elementMouseOver['video_controller_button_play_phone']=true;
		}
		me._video_controller_button_play_phone.userData.onmouseleave=function (e) {
			me._video_controller_button_play_phone.material = me._video_controller_button_play_phone.userData.materialNormal;
			me.elementMouseOver['video_controller_button_play_phone']=false;
		}
		me._video_controller_button_play_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_phone.add(me._video_controller_button_play_phone);
		me._screentint_phone.add(me._video_controller_phone);
		el.userData.ggId="youtube_popup_phone";
		me._youtube_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_youtube') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._youtube_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._youtube_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._youtube_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._youtube_popup_phone.visible=((!me._youtube_popup_phone.material && Number(me._youtube_popup_phone.userData.opacity>0)) || Number(me._youtube_popup_phone.material.opacity)>0)?true:false;
			me._youtube_popup_phone.userData.visible=true;
					if (me._youtube_popup_phone.userData.ggVideoNotLoaded) {
						me._youtube_popup_phone.userData.ggInitMedia(me._youtube_popup_phone.ggVideoSource);
					}
				}
				else {
			me._youtube_popup_phone.visible=false;
			me._youtube_popup_phone.userData.visible=false;
					me._youtube_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._youtube_popup_phone.logicBlock_visible();
		me._youtube_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._screentint_phone.add(me._youtube_popup_phone);
		el.userData.ggId="vimeo_popup_phone";
		me._vimeo_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_vimeo') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._vimeo_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._vimeo_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._vimeo_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._vimeo_popup_phone.visible=((!me._vimeo_popup_phone.material && Number(me._vimeo_popup_phone.userData.opacity>0)) || Number(me._vimeo_popup_phone.material.opacity)>0)?true:false;
			me._vimeo_popup_phone.userData.visible=true;
					if (me._vimeo_popup_phone.userData.ggVideoNotLoaded) {
						me._vimeo_popup_phone.userData.ggInitMedia(me._vimeo_popup_phone.ggVideoSource);
					}
				}
				else {
			me._vimeo_popup_phone.visible=false;
			me._vimeo_popup_phone.userData.visible=false;
					me._vimeo_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._vimeo_popup_phone.logicBlock_visible();
		me._vimeo_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._screentint_phone.add(me._vimeo_popup_phone);
		geometry = new THREE.PlaneGeometry(11.29, 5.83, 5, 5 );
		geometry.name = 'video_file_popup_phone_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(1.895);
		el.translateY(-0.715);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1129;
		el.userData.height = 583;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup_phone';
		el.userData.x = 1.895;
		el.userData.y = -0.715;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_popup_phone.material) me._video_file_popup_phone.material.opacity = v;
			me._video_file_popup_phone.visible = (v>0 && me._video_file_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_popup_phone.visible
			let parentEl = me._video_file_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup_phone.userData.opacity = v;
			v = v * me._video_file_popup_phone.userData.parentOpacity;
			me._video_file_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone.children.length; i++) {
				let child = me._video_file_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup_phone.userData.parentOpacity = v;
			v = v * me._video_file_popup_phone.userData.opacity
			me._video_file_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone.children.length; i++) {
				let child = me._video_file_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup_phone = el;
		me._video_file_popup_phone.userData.seekbars = [];
		me._video_file_popup_phone.userData.ggInitMedia = function(media) {
			if (me._video_file_popup_phone__vid) me._video_file_popup_phone__vid.pause();
			me._video_file_popup_phone__vid = document.createElement('video');
			player.registerVideoElement('video_file_popup_phone', me._video_file_popup_phone__vid);
			me._video_file_popup_phone__vid.setAttribute('autoplay', '');
			me._video_file_popup_phone__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_file_popup_phone__source = document.createElement('source');
			me._video_file_popup_phone__source.setAttribute('src', media);
			me._video_file_popup_phone__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_file_popup_phone__vid.videoWidth / me._video_file_popup_phone__vid.videoHeight;
				let elAR = me._video_file_popup_phone.userData.width / me._video_file_popup_phone.userData.height;
				if (videoAR > elAR) {
					me._video_file_popup_phone.scale.set(1, (me._video_file_popup_phone.userData.width / videoAR) / me._video_file_popup_phone.userData.height, 1);
				} else {
					me._video_file_popup_phone.scale.set((me._video_file_popup_phone.userData.height * videoAR) / me._video_file_popup_phone.userData.width, 1, 1);
				}
			}, false);
			me._video_file_popup_phone__vid.appendChild(me._video_file_popup_phone__source);
			videoTexture = new THREE.VideoTexture( me._video_file_popup_phone__vid );
			videoTexture.name = 'video_file_popup_phone_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_file_popup_phone_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_file_popup_phone.material = videoMaterial;
		}
		el.userData.ggId="video_file_popup_phone";
		me._video_file_popup_phone.userData.ggIsActive=function() {
			if (me._video_file_popup_phone__vid != null) {
				return (me._video_file_popup_phone__vid.paused == false && me._video_file_popup_phone__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_file_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_file') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._video_file_popup_phone.visible=((!me._video_file_popup_phone.material && Number(me._video_file_popup_phone.userData.opacity>0)) || Number(me._video_file_popup_phone.material.opacity)>0)?true:false;
			me._video_file_popup_phone.userData.visible=true;
					if (me._video_file_popup_phone.userData.ggVideoNotLoaded) {
						me._video_file_popup_phone.userData.ggInitMedia(me._video_file_popup_phone.ggVideoSource);
					}
				}
				else {
			me._video_file_popup_phone.visible=false;
			me._video_file_popup_phone.userData.visible=false;
					me._video_file_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._video_file_popup_phone.logicBlock_visible();
		me._video_file_popup_phone.userData.onclick=function (e) {
			player.playPauseSound("video_file_popup_phone","1");
		}
		me._video_file_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._screentint_phone.add(me._video_file_popup_phone);
		geometry = new THREE.PlaneGeometry(11.29, 5.87, 5, 5 );
		geometry.name = 'video_url_popup_phone_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(1.895);
		el.translateY(-0.735);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1129;
		el.userData.height = 587;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup_phone';
		el.userData.x = 1.895;
		el.userData.y = -0.735;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_popup_phone.material) me._video_url_popup_phone.material.opacity = v;
			me._video_url_popup_phone.visible = (v>0 && me._video_url_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_popup_phone.visible
			let parentEl = me._video_url_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup_phone.userData.opacity = v;
			v = v * me._video_url_popup_phone.userData.parentOpacity;
			me._video_url_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone.children.length; i++) {
				let child = me._video_url_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup_phone.userData.parentOpacity = v;
			v = v * me._video_url_popup_phone.userData.opacity
			me._video_url_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone.children.length; i++) {
				let child = me._video_url_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup_phone = el;
		me._video_url_popup_phone.userData.seekbars = [];
		me._video_url_popup_phone.userData.ggInitMedia = function(media) {
			if (me._video_url_popup_phone__vid) me._video_url_popup_phone__vid.pause();
			me._video_url_popup_phone__vid = document.createElement('video');
			player.registerVideoElement('video_url_popup_phone', me._video_url_popup_phone__vid);
			me._video_url_popup_phone__vid.setAttribute('autoplay', '');
			me._video_url_popup_phone__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_url_popup_phone__source = document.createElement('source');
			me._video_url_popup_phone__source.setAttribute('src', media);
			me._video_url_popup_phone__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_url_popup_phone__vid.videoWidth / me._video_url_popup_phone__vid.videoHeight;
				let elAR = me._video_url_popup_phone.userData.width / me._video_url_popup_phone.userData.height;
				if (videoAR > elAR) {
					me._video_url_popup_phone.scale.set(1, (me._video_url_popup_phone.userData.width / videoAR) / me._video_url_popup_phone.userData.height, 1);
				} else {
					me._video_url_popup_phone.scale.set((me._video_url_popup_phone.userData.height * videoAR) / me._video_url_popup_phone.userData.width, 1, 1);
				}
			}, false);
			me._video_url_popup_phone__vid.appendChild(me._video_url_popup_phone__source);
			videoTexture = new THREE.VideoTexture( me._video_url_popup_phone__vid );
			videoTexture.name = 'video_url_popup_phone_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_url_popup_phone_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_url_popup_phone.material = videoMaterial;
		}
		el.userData.ggId="video_url_popup_phone";
		me._video_url_popup_phone.userData.ggIsActive=function() {
			if (me._video_url_popup_phone__vid != null) {
				return (me._video_url_popup_phone__vid.paused == false && me._video_url_popup_phone__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_url_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._video_url_popup_phone.visible=((!me._video_url_popup_phone.material && Number(me._video_url_popup_phone.userData.opacity>0)) || Number(me._video_url_popup_phone.material.opacity)>0)?true:false;
			me._video_url_popup_phone.userData.visible=true;
					if (me._video_url_popup_phone.userData.ggVideoNotLoaded) {
						me._video_url_popup_phone.userData.ggInitMedia(me._video_url_popup_phone.ggVideoSource);
					}
				}
				else {
			me._video_url_popup_phone.visible=false;
			me._video_url_popup_phone.userData.visible=false;
					me._video_url_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._video_url_popup_phone.logicBlock_visible();
		me._video_url_popup_phone.userData.onclick=function (e) {
			player.playPauseSound("video_url_popup_phone","1");
		}
		me._video_url_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._screentint_phone.add(me._video_url_popup_phone);
		me.skinGroup.add(me._screentint_phone);
		el = new THREE.Group();
		el.translateX(-3.695);
		el.translateY(2.665);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 61;
		el.userData.height = 67;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'code_element_material_dart_hotspot_component';
		el.userData.x = -3.695;
		el.userData.y = 2.665;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._code_element_material_dart_hotspot_component.material) me._code_element_material_dart_hotspot_component.material.opacity = v;
			me._code_element_material_dart_hotspot_component.visible = (v>0 && me._code_element_material_dart_hotspot_component.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._code_element_material_dart_hotspot_component.visible
			let parentEl = me._code_element_material_dart_hotspot_component.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._code_element_material_dart_hotspot_component.userData.opacity = v;
			v = v * me._code_element_material_dart_hotspot_component.userData.parentOpacity;
			me._code_element_material_dart_hotspot_component.userData.setOpacityInternal(v);
			for (let i = 0; i < me._code_element_material_dart_hotspot_component.children.length; i++) {
				let child = me._code_element_material_dart_hotspot_component.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._code_element_material_dart_hotspot_component.userData.parentOpacity = v;
			v = v * me._code_element_material_dart_hotspot_component.userData.opacity
			me._code_element_material_dart_hotspot_component.userData.setOpacityInternal(v);
			for (let i = 0; i < me._code_element_material_dart_hotspot_component.children.length; i++) {
				let child = me._code_element_material_dart_hotspot_component.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._code_element_material_dart_hotspot_component = el;
		el.userData.ggId="code_element_material_dart_hotspot_component";
		me._code_element_material_dart_hotspot_component.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._code_element_material_dart_hotspot_component);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'media_popup';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._media_popup.material) me._media_popup.material.opacity = v;
			me._media_popup.visible = (v>0 && me._media_popup.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._media_popup.visible
			let parentEl = me._media_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._media_popup.userData.opacity = v;
			v = v * me._media_popup.userData.parentOpacity;
			me._media_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup.children.length; i++) {
				let child = me._media_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._media_popup.userData.parentOpacity = v;
			v = v * me._media_popup.userData.opacity
			me._media_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup.children.length; i++) {
				let child = me._media_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._media_popup = el;
		el.userData.ggId="media_popup";
		me._media_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_url_hs_popup') == true)) || 
				((player.getVariableValue('vis_image_hs_popup') == true)) || 
				((player.getVariableValue('vis_pdf_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_youtube_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_vimeo_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_file_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._media_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._media_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._media_popup.ggCurrentLogicStateVisible == 0) {
			me._media_popup.visible=((!me._media_popup.material && Number(me._media_popup.userData.opacity>0)) || Number(me._media_popup.material.opacity)>0)?true:false;
			me._media_popup.userData.visible=true;
				}
				else {
			me._media_popup.visible=false;
			me._media_popup.userData.visible=false;
				}
			}
		}
		me._media_popup.logicBlock_visible();
		me._media_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'blur_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._blur_bg.material) me._blur_bg.material.opacity = v;
			me._blur_bg.visible = (v>0 && me._blur_bg.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._blur_bg.visible
			let parentEl = me._blur_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._blur_bg.userData.opacity = v;
			v = v * me._blur_bg.userData.parentOpacity;
			me._blur_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._blur_bg.children.length; i++) {
				let child = me._blur_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._blur_bg.userData.parentOpacity = v;
			v = v * me._blur_bg.userData.opacity
			me._blur_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._blur_bg.children.length; i++) {
				let child = me._blur_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._blur_bg = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="blur_bg";
		me._blur_bg.userData.onclick=function (e) {
			me._media_popup_close.onclick.call(me._media_popup_close);
		}
		me._blur_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup.add(me._blur_bg);
		width = 6.4;
		height = 4.91;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.arc(0, -0.18, 0.18, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.arc(-0.18, 0, 0.18, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.arc(0, 0.18, 0.18, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.arc(0.18, 0, 0.18, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'media_popup_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.901961, 0.901961, 0.901961).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'media_popup_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._media_popup_bg.material.opacity = v * me._media_popup_bg.userData.backgroundColorAlpha;
			if (me._media_popup_bg.userData.ggSubElement) {
				me._media_popup_bg.userData.ggSubElement.material.opacity = v
				me._media_popup_bg.userData.ggSubElement.visible = (v>0 && me._media_popup_bg.userData.visible);
			}
			me._media_popup_bg.visible = (v>0 && me._media_popup_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._media_popup_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._media_popup_bg.userData.backgroundColorAlpha = v;
			me._media_popup_bg.userData.setOpacity(me._media_popup_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 491;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'media_popup_bg';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._media_popup_bg.visible
			let parentEl = me._media_popup_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._media_popup_bg.userData.opacity = v;
			v = v * me._media_popup_bg.userData.parentOpacity;
			me._media_popup_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_bg.children.length; i++) {
				let child = me._media_popup_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._media_popup_bg.userData.parentOpacity = v;
			v = v * me._media_popup_bg.userData.opacity
			me._media_popup_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_bg.children.length; i++) {
				let child = me._media_popup_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._media_popup_bg = el;
		el.userData.ggId="media_popup_bg";
		me._media_popup_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		el.userData.ggId="video_youtube_popup";
		me._video_youtube_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_youtube_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_youtube_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_youtube_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_youtube_popup.ggCurrentLogicStateVisible == 0) {
			me._video_youtube_popup.visible=((!me._video_youtube_popup.material && Number(me._video_youtube_popup.userData.opacity>0)) || Number(me._video_youtube_popup.material.opacity)>0)?true:false;
			me._video_youtube_popup.userData.visible=true;
					if (me._video_youtube_popup.userData.ggVideoNotLoaded) {
						me._video_youtube_popup.userData.ggInitMedia(me._video_youtube_popup.ggVideoSource);
					}
				}
				else {
			me._video_youtube_popup.visible=false;
			me._video_youtube_popup.userData.visible=false;
					me._video_youtube_popup.userData.ggInitMedia('');
				}
			}
		}
		me._video_youtube_popup.logicBlock_visible();
		me._video_youtube_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_youtube_popup);
		el.userData.ggId="video_vimeo_popup";
		me._video_vimeo_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_vimeo_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_vimeo_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_vimeo_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_vimeo_popup.ggCurrentLogicStateVisible == 0) {
			me._video_vimeo_popup.visible=((!me._video_vimeo_popup.material && Number(me._video_vimeo_popup.userData.opacity>0)) || Number(me._video_vimeo_popup.material.opacity)>0)?true:false;
			me._video_vimeo_popup.userData.visible=true;
					if (me._video_vimeo_popup.userData.ggVideoNotLoaded) {
						me._video_vimeo_popup.userData.ggInitMedia(me._video_vimeo_popup.ggVideoSource);
					}
				}
				else {
			me._video_vimeo_popup.visible=false;
			me._video_vimeo_popup.userData.visible=false;
					me._video_vimeo_popup.userData.ggInitMedia('');
				}
			}
		}
		me._video_vimeo_popup.logicBlock_visible();
		me._video_vimeo_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_vimeo_popup);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.145);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 360;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller';
		el.userData.x = 0;
		el.userData.y = -2.145;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller.material) me._video_controller.material.opacity = v;
			me._video_controller.visible = (v>0 && me._video_controller.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller.visible
			let parentEl = me._video_controller.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller.userData.opacity = v;
			v = v * me._video_controller.userData.parentOpacity;
			me._video_controller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller.children.length; i++) {
				let child = me._video_controller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller.userData.parentOpacity = v;
			v = v * me._video_controller.userData.opacity
			me._video_controller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller.children.length; i++) {
				let child = me._video_controller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller = el;
		el.userData.ggId="video_controller";
		me._video_controller.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_controller.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_controller.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_controller.ggCurrentLogicStateVisible == 0) {
			me._video_controller.visible=((!me._video_controller.material && Number(me._video_controller.userData.opacity>0)) || Number(me._video_controller.material.opacity)>0)?true:false;
			me._video_controller.userData.visible=true;
				}
				else {
			me._video_controller.visible=false;
			me._video_controller.userData.visible=false;
				}
			}
		}
		me._video_controller.logicBlock_visible();
		me._video_controller.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_seekbar.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller.add(me._video_controller_seekbar);
		me._media_popup_bg.add(me._video_controller);
		geometry = new THREE.PlaneGeometry(7.53, 3.94, 5, 5 );
		geometry.name = 'video_file_popup_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_popup_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0.155);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 753;
		el.userData.height = 394;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup';
		el.userData.x = 0;
		el.userData.y = 0.155;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_popup.material) me._video_file_popup.material.opacity = v;
			me._video_file_popup.visible = (v>0 && me._video_file_popup.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_popup.visible
			let parentEl = me._video_file_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup.userData.opacity = v;
			v = v * me._video_file_popup.userData.parentOpacity;
			me._video_file_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup.children.length; i++) {
				let child = me._video_file_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup.userData.parentOpacity = v;
			v = v * me._video_file_popup.userData.opacity
			me._video_file_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup.children.length; i++) {
				let child = me._video_file_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup = el;
		me._video_file_popup.userData.seekbars = [];
		me._video_file_popup.userData.ggInitMedia = function(media) {
			if (me._video_file_popup__vid) me._video_file_popup__vid.pause();
			me._video_file_popup__vid = document.createElement('video');
			player.registerVideoElement('video_file_popup', me._video_file_popup__vid);
			me._video_file_popup__vid.setAttribute('autoplay', '');
			me._video_file_popup__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_file_popup__source = document.createElement('source');
			me._video_file_popup__source.setAttribute('src', media);
			me._video_file_popup__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_file_popup__vid.videoWidth / me._video_file_popup__vid.videoHeight;
				let elAR = me._video_file_popup.userData.width / me._video_file_popup.userData.height;
				if (videoAR > elAR) {
					me._video_file_popup.scale.set(1, (me._video_file_popup.userData.width / videoAR) / me._video_file_popup.userData.height, 1);
				} else {
					me._video_file_popup.scale.set((me._video_file_popup.userData.height * videoAR) / me._video_file_popup.userData.width, 1, 1);
				}
			}, false);
			me._video_file_popup__vid.appendChild(me._video_file_popup__source);
			videoTexture = new THREE.VideoTexture( me._video_file_popup__vid );
			videoTexture.name = 'video_file_popup_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_file_popup_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_file_popup.material = videoMaterial;
		}
		el.userData.ggId="video_file_popup";
		me._video_file_popup.userData.ggIsActive=function() {
			if (me._video_file_popup__vid != null) {
				return (me._video_file_popup__vid.paused == false && me._video_file_popup__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_file_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_popup.ggCurrentLogicStateVisible == 0) {
			me._video_file_popup.visible=((!me._video_file_popup.material && Number(me._video_file_popup.userData.opacity>0)) || Number(me._video_file_popup.material.opacity)>0)?true:false;
			me._video_file_popup.userData.visible=true;
					if (me._video_file_popup.userData.ggVideoNotLoaded) {
						me._video_file_popup.userData.ggInitMedia(me._video_file_popup.ggVideoSource);
					}
				}
				else {
			me._video_file_popup.visible=false;
			me._video_file_popup.userData.visible=false;
					me._video_file_popup.userData.ggInitMedia('');
				}
			}
		}
		me._video_file_popup.logicBlock_visible();
		me._video_file_popup.userData.onclick=function (e) {
			player.playPauseSound("video_file_popup","1");
		}
		me._video_file_popup.userData.ggActivate=function () {
			me._video_file_popup.userData.transitionValue_alpha = 0;
			for (var i = 0; i < me._video_file_hs_popup_play.userData.transitions.length; i++) {
				if (me._video_file_hs_popup_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_file_hs_popup_play.userData.transitions[i].interval);
					me._video_file_hs_popup_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_file_hs_popup_play.material ? me._video_file_hs_popup_play.material.opacity : me._video_file_hs_popup_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_file_hs_popup_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_file_popup.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_file_hs_popup_play.userData.transitions.splice(me._video_file_hs_popup_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_file_hs_popup_play.userData.transitions.push(transition_alpha);
		}
		me._video_file_popup.userData.ggDeactivate=function () {
			me._video_file_hs_popup_play.userData.setOpacity(1);
			me._video_file_hs_popup_play.visible=me._video_file_hs_popup_play.userData.visible?true:false;
		}
		me._video_file_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_file_popup);
		geometry = new THREE.PlaneGeometry(0.8, 0.8, 5, 5 );
		geometry.name = 'video_file_hs_popup_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAFGUlEQVR4nO3dS8gVdRjH8a9miZEiKaVQbqpF5cJuBhESVK5Ka6O1KapF9wt0XXXZddl0oSi6B11X2arExVNUEBEFYouyhS5KiCyNxBcvb4tx4Hgcz/mf951z/nPmfD/wbHzf98xv8eN9ceaZGZAkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkqdrq3AE02QL4Frgkcw5NqACmgcPAO8CynGE0eYKigOXsBR4D5mfMpAkSHF3Acn4Drs8XS5MiqC5gOVuAlbnCqf2C3gWcBg4CrwBL8kRUmwX9C1jObuA+YF6OoGqnIL2A5WwD1mbIqhYKji3YncAXFf/ePZ8B54w8sVolOLZYVxz52jpge8XXO2cKeA5YNMLMapHg+AUEOA'+
	'l4FPi34vs6ZxdwGzB3NLHVFkHvApaWA+9SXDHpVcQfgMuHnFktEqQVsHQp8F3Fz3TPR8CZQ8qsFgkGKyDAHOAm4PeKn+2cfcBTwMn1x1ZbBIMXsHQK8DSwv+IzOmcncGONmdUiwcwLWDoL2FTxOd3zNXBRDZnVIsHsC1haC/xc8Xmdcwh4Czh9FpnVIkF9BYTiMt39wN8Vn9s5e4FHKE7zaIIF9RawtBR4leI3Xq8i/gqsr+F4GlPBcApYWgV8WXGM7tkMnF/jcTUmguEWsLQB2FFxrM45ALwEnDqE46uhgtEUEGAB8ATF+cFeRfwLuAc4YUg51CDB6ApYWgF8XHHc7tkKXDXkLMosGH0BS2uAHyuO3z2bKM41qoWCfAWEYnvmduDPihydMwU8AywcYTaNQJC3gKXFwPMU/xHpVcQ/gFsprkerBYJmFLB0Lmnb2N8D'+
	'l2XKqBoFzSpgKWUbexr4ADgjU0bVIGhmASF9G/s/itM7C/LE1GwEzS1gKXUbewewMVNGzVDQ/AKWUrexvwIuzJRRAwrGp4CQvo19CHgDOC1PTKUKxquApdRt7D3AQ7j21VjBeBawlLqN/QtwbaaM6iEY7wKWUraxp4HPKc41jj1vwJZqEIz3b8CzKZ5Rk/In+JpMGdVDMJ4FXEixnDBF7+L9AzwInJgnpvoJxquAc4CbSTsN8zqehmm8YHwKOMiJ6AsyZdSAguYXcDnwHmmX4jZkyqgZCppbwPkUr4xIWUZ4HJcRxlLQzAKuJ20d631cxxprQbMKeB7FPcL9iudCaksEzSjgYuAF0lbyb8GV/NYI8hZwLnAH/W9K2k+xfOBNSS0T5CvgGuCniuN3z6d4W2ZrBaMv4Argk4rjds9W4MohZ1FmwegKuAB4krRHc9yNj+'+
	'aYCMFoCriR4lG9vYp3AHgRH040UYLhFnAVxaWxfn9uN1OcgtGECYZTwKXAa6Q9oHJdDcfTmArqLeA84AH6P6J3D/Aw3qsx8YL6Cpj6kPI38SHlOiKYfQFTt5J9TYOOEcy8gKlbyTuBG2rMrBYJBi9g6lbyPorzfq5J6biCwQqYupX8Ib6sUAmCtAKmbiX7ulYNJOhdwNSt5F0UTy71fmkNJDh+AVO2kqeAZ4FFI8ysFgmOLdVdpG0lb6I4BSPNWNC/aN2zDbg6Q1a1UJBevN3AvRSX26RaBP2LdxB4GViSJ6LaLOhdvi3Aylzh1H5BdfG2A9fli6VJERxdvL0Ur0aYnzGTJkhQFO8w8DawLGsaTZwAvgEuzpxDE2p17gCSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJDXF/xFhjb+UcptV'+
	'AAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_hs_popup_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_hs_popup_play';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_hs_popup_play.material) me._video_file_hs_popup_play.material.opacity = v;
			me._video_file_hs_popup_play.visible = (v>0 && me._video_file_hs_popup_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_hs_popup_play.visible
			let parentEl = me._video_file_hs_popup_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_hs_popup_play.userData.opacity = v;
			v = v * me._video_file_hs_popup_play.userData.parentOpacity;
			me._video_file_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_play.children.length; i++) {
				let child = me._video_file_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_hs_popup_play.userData.parentOpacity = v;
			v = v * me._video_file_hs_popup_play.userData.opacity
			me._video_file_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_play.children.length; i++) {
				let child = me._video_file_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_hs_popup_play = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAFEklEQVR4nO3dS6xdUxzH8S9XPaKJNtEKkdAOKAMuA8IAZUKLgfcAYeA5oR4ThIlHJ9RjQD0GCJH0egxQJloMvBJaEi2SthIlUaKiQi73XoNtJU3UPeueu/Za+/H9JP/h2fu/kl/2yT33v9cCSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSXUbKd3AkFYC84EvSzeifnoJmALeBUYL96IeCgGcAiaAJ4EFRTtSr+wewFA7gVuAOQX7Uk/sKYChvgKWl2tNfTBdAEOtBZaUalDdFhPAKeAv4GFgXpk21VWxAQy1A7ie9v7spIaZaQBDbQSWFuhXHTNsAEO9DCzK3rU6Y7YBnAL+BO4H5mbuXR2QIoChtgNXAntlXYFaLWUAQ30EnJ'+
	'xzEWqvOgI4BUwCzwOH5VuK2qiuAIbaBdwF7J9rQWqXugMYaitwUaY1qUVyBTDUeuD4HAvrm71LN1CzV4GfE1zndOBTYDVwcILrqeVin4CXUU1OP0r1f+EUT8NfgBU49tVrMwlgcCzwduTnYmozsKy+JarJhglgcB7wdeTnY+pN4Oj0S1STzSaAAPsCtwG/Rl5nUI0Dq3DsqzdmG8BgIfA01XslKYL4I3Ad3f/jrvdSBTA4AXgv8poxtQE4Y1YrVKOlDmBwCfBt5LVjagw4cqgVqtHqCiDAAcDdwO+R9xhUfwD3AQcO0Ysaqs4ABocDL0TeJ6a2A1fg2Fcn5AhgcArwceT9YupDHPtqvZwBhOqpdRXwfeR9B9Uk8ByOfbVW7gAGc4EHqMb5UwRxF3Anjn21TqkABoupBh1SfS1vAS6sqVfVoHQAgzOBzyN7ial1wHE1'+
	'96wEmhJAqF52vwH4KbKnQfU38ASOfTVakwIYzAceIe3Y18049tVITQxgcAzwVmR/MbUJODvrCjRQkwMYLKfaKi5VEN8Ajsq6Av2vNgQQqq/PW6k2z0wRwnHgIeCgnIvQf7UlgMECqm2EU459XYtjX8W0LYDBKNUbdqm+lj+jemFKmbU1gMHFwDbSBXENcETOBaTiI7yM1BMxU4mvpwHa+gQcpTrbJOVX8GlZVyCgfQFcCDxF2j9CrsFvsGLaEsA5pH/77kH8Gaa4NgTwXNL+EP06/hDdGE0OoP+K64EmBrCOPWhuAvbJuAZFalIAR4AbSTuO9TiOYzVaUwJ4FvBFZC8x9Q4OpLZC6QAuBl6L7CGmtgAX1NSralDypaSVpHsp6TfgDmC/xH2qZiVey7wa+CHyvoNqEngWODRRf8osZwBPBT6JvF9MfQCclKAvFZRra4'+
	'4XI+8TU98Bl+PWHJ1Q9+ZE95B2c6J7cXOiTqkrgJeSdnu2Nbg9WyelDuCJwPuR14ypDTip3GmpAngI8Ay+q6EZSrFJ+e2kHZPybbUemU0Azwe+ifx8THlMQw814aCaTcA59S1RTTbTo7oewz1blFBsAF8h3ZjUBO5apX/lPq51HR7XWgt/LpjeNqoDq5cCG8u2oiap+wno3s2aVl0BdPd6RakjgJ7foWgpA+gJRpqxFAH0DDcNbbYBHAMWZe9anTFsAD3HV0nMNIA7qE4yHynRrLonNoDjwCpgXpk21VUxAVwLLCnVoLptugBuBpaVa019sKcA7gRW4JiUMtg9gBPAaqqzOKQsQgDXU238rZZq6+aHW6nO2hgr3YgkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkNd0/FTYEbBmanNsAAAAASUVO'+
	'RK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_file_hs_popup_play_materialOver';
		el.userData.ggId="video_file_hs_popup_play";
		me._video_file_hs_popup_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_hs_popup_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_hs_popup_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_hs_popup_play.ggCurrentLogicStateVisible == 0) {
			me._video_file_hs_popup_play.visible=((!me._video_file_hs_popup_play.material && Number(me._video_file_hs_popup_play.userData.opacity>0)) || Number(me._video_file_hs_popup_play.material.opacity)>0)?true:false;
			me._video_file_hs_popup_play.userData.visible=true;
				}
				else {
			me._video_file_hs_popup_play.visible=false;
			me._video_file_hs_popup_play.userData.visible=false;
				}
			}
		}
		me._video_file_hs_popup_play.logicBlock_visible();
		me._video_file_hs_popup_play.userData.onclick=function (e) {
			player.playSound("video_file_popup","1");
		}
		me._video_file_hs_popup_play.userData.onmouseenter=function (e) {
			me._video_file_hs_popup_play.material = me._video_file_hs_popup_play.userData.materialOver;
			me.elementMouseOver['video_file_hs_popup_play']=true;
		}
		me._video_file_hs_popup_play.userData.onmouseleave=function (e) {
			me._video_file_hs_popup_play.material = me._video_file_hs_popup_play.userData.materialNormal;
			me.elementMouseOver['video_file_hs_popup_play']=false;
		}
		me._video_file_hs_popup_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_file_hs_popup_play);
		geometry = new THREE.PlaneGeometry(7.53, 3.94, 5, 5 );
		geometry.name = 'video_url_popup_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_popup_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0.155);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 753;
		el.userData.height = 394;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup';
		el.userData.x = 0;
		el.userData.y = 0.155;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_popup.material) me._video_url_popup.material.opacity = v;
			me._video_url_popup.visible = (v>0 && me._video_url_popup.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_popup.visible
			let parentEl = me._video_url_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup.userData.opacity = v;
			v = v * me._video_url_popup.userData.parentOpacity;
			me._video_url_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup.children.length; i++) {
				let child = me._video_url_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup.userData.parentOpacity = v;
			v = v * me._video_url_popup.userData.opacity
			me._video_url_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup.children.length; i++) {
				let child = me._video_url_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup = el;
		me._video_url_popup.userData.seekbars = [];
		me._video_url_popup.userData.ggInitMedia = function(media) {
			if (me._video_url_popup__vid) me._video_url_popup__vid.pause();
			me._video_url_popup__vid = document.createElement('video');
			player.registerVideoElement('video_url_popup', me._video_url_popup__vid);
			me._video_url_popup__vid.setAttribute('autoplay', '');
			me._video_url_popup__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_url_popup__source = document.createElement('source');
			me._video_url_popup__source.setAttribute('src', media);
			me._video_url_popup__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_url_popup__vid.videoWidth / me._video_url_popup__vid.videoHeight;
				let elAR = me._video_url_popup.userData.width / me._video_url_popup.userData.height;
				if (videoAR > elAR) {
					me._video_url_popup.scale.set(1, (me._video_url_popup.userData.width / videoAR) / me._video_url_popup.userData.height, 1);
				} else {
					me._video_url_popup.scale.set((me._video_url_popup.userData.height * videoAR) / me._video_url_popup.userData.width, 1, 1);
				}
			}, false);
			me._video_url_popup__vid.appendChild(me._video_url_popup__source);
			videoTexture = new THREE.VideoTexture( me._video_url_popup__vid );
			videoTexture.name = 'video_url_popup_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_url_popup_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_url_popup.material = videoMaterial;
		}
		el.userData.ggId="video_url_popup";
		me._video_url_popup.userData.ggIsActive=function() {
			if (me._video_url_popup__vid != null) {
				return (me._video_url_popup__vid.paused == false && me._video_url_popup__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_url_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_popup.ggCurrentLogicStateVisible == 0) {
			me._video_url_popup.visible=((!me._video_url_popup.material && Number(me._video_url_popup.userData.opacity>0)) || Number(me._video_url_popup.material.opacity)>0)?true:false;
			me._video_url_popup.userData.visible=true;
					if (me._video_url_popup.userData.ggVideoNotLoaded) {
						me._video_url_popup.userData.ggInitMedia(me._video_url_popup.ggVideoSource);
					}
				}
				else {
			me._video_url_popup.visible=false;
			me._video_url_popup.userData.visible=false;
					me._video_url_popup.userData.ggInitMedia('');
				}
			}
		}
		me._video_url_popup.logicBlock_visible();
		me._video_url_popup.userData.onclick=function (e) {
			player.playPauseSound("video_url_popup","1");
		}
		me._video_url_popup.userData.ggActivate=function () {
			me._video_url_popup.userData.transitionValue_alpha = 0;
			for (var i = 0; i < me._video_url_hs_popup_play.userData.transitions.length; i++) {
				if (me._video_url_hs_popup_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_url_hs_popup_play.userData.transitions[i].interval);
					me._video_url_hs_popup_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_url_hs_popup_play.material ? me._video_url_hs_popup_play.material.opacity : me._video_url_hs_popup_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_url_hs_popup_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_url_popup.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_url_hs_popup_play.userData.transitions.splice(me._video_url_hs_popup_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_url_hs_popup_play.userData.transitions.push(transition_alpha);
		}
		me._video_url_popup.userData.ggDeactivate=function () {
			me._video_url_hs_popup_play.userData.setOpacity(1);
			me._video_url_hs_popup_play.visible=me._video_url_hs_popup_play.userData.visible?true:false;
		}
		me._video_url_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_url_popup);
		geometry = new THREE.PlaneGeometry(0.8, 0.8, 5, 5 );
		geometry.name = 'video_url_hs_popup_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAFGUlEQVR4nO3dS8gVdRjH8a9miZEiKaVQbqpF5cJuBhESVK5Ka6O1KapF9wt0XXXZddl0oSi6B11X2arExVNUEBEFYouyhS5KiCyNxBcvb4tx4Hgcz/mf951z/nPmfD/wbHzf98xv8eN9ceaZGZAkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkqdrq3AE02QL4Frgkcw5NqACmgcPAO8CynGE0eYKigOXsBR4D5mfMpAkSHF3Acn4Drs8XS5MiqC5gOVuAlbnCqf2C3gWcBg4CrwBL8kRUmwX9C1jObuA+YF6OoGqnIL2A5WwD1mbIqhYKji3YncAXFf/ePZ8B54w8sVolOLZYVxz52jpge8XXO2cKeA5YNMLMapHg+AUEOA'+
	'l4FPi34vs6ZxdwGzB3NLHVFkHvApaWA+9SXDHpVcQfgMuHnFktEqQVsHQp8F3Fz3TPR8CZQ8qsFgkGKyDAHOAm4PeKn+2cfcBTwMn1x1ZbBIMXsHQK8DSwv+IzOmcncGONmdUiwcwLWDoL2FTxOd3zNXBRDZnVIsHsC1haC/xc8Xmdcwh4Czh9FpnVIkF9BYTiMt39wN8Vn9s5e4FHKE7zaIIF9RawtBR4leI3Xq8i/gqsr+F4GlPBcApYWgV8WXGM7tkMnF/jcTUmguEWsLQB2FFxrM45ALwEnDqE46uhgtEUEGAB8ATF+cFeRfwLuAc4YUg51CDB6ApYWgF8XHHc7tkKXDXkLMosGH0BS2uAHyuO3z2bKM41qoWCfAWEYnvmduDPihydMwU8AywcYTaNQJC3gKXFwPMU/xHpVcQ/gFsprkerBYJmFLB0Lmnb2N8D'+
	'l2XKqBoFzSpgKWUbexr4ADgjU0bVIGhmASF9G/s/itM7C/LE1GwEzS1gKXUbewewMVNGzVDQ/AKWUrexvwIuzJRRAwrGp4CQvo19CHgDOC1PTKUKxquApdRt7D3AQ7j21VjBeBawlLqN/QtwbaaM6iEY7wKWUraxp4HPKc41jj1vwJZqEIz3b8CzKZ5Rk/In+JpMGdVDMJ4FXEixnDBF7+L9AzwInJgnpvoJxquAc4CbSTsN8zqehmm8YHwKOMiJ6AsyZdSAguYXcDnwHmmX4jZkyqgZCppbwPkUr4xIWUZ4HJcRxlLQzAKuJ20d631cxxprQbMKeB7FPcL9iudCaksEzSjgYuAF0lbyb8GV/NYI8hZwLnAH/W9K2k+xfOBNSS0T5CvgGuCniuN3z6d4W2ZrBaMv4Argk4rjds9W4MohZ1FmwegKuAB4krRHc9yNj+'+
	'aYCMFoCriR4lG9vYp3AHgRH040UYLhFnAVxaWxfn9uN1OcgtGECYZTwKXAa6Q9oHJdDcfTmArqLeA84AH6P6J3D/Aw3qsx8YL6Cpj6kPI38SHlOiKYfQFTt5J9TYOOEcy8gKlbyTuBG2rMrBYJBi9g6lbyPorzfq5J6biCwQqYupX8Ib6sUAmCtAKmbiX7ulYNJOhdwNSt5F0UTy71fmkNJDh+AVO2kqeAZ4FFI8ysFgmOLdVdpG0lb6I4BSPNWNC/aN2zDbg6Q1a1UJBevN3AvRSX26RaBP2LdxB4GViSJ6LaLOhdvi3Aylzh1H5BdfG2A9fli6VJERxdvL0Ur0aYnzGTJkhQFO8w8DawLGsaTZwAvgEuzpxDE2p17gCSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJDXF/xFhjb+UcptV'+
	'AAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_hs_popup_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_hs_popup_play';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_hs_popup_play.material) me._video_url_hs_popup_play.material.opacity = v;
			me._video_url_hs_popup_play.visible = (v>0 && me._video_url_hs_popup_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_hs_popup_play.visible
			let parentEl = me._video_url_hs_popup_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_hs_popup_play.userData.opacity = v;
			v = v * me._video_url_hs_popup_play.userData.parentOpacity;
			me._video_url_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_play.children.length; i++) {
				let child = me._video_url_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_hs_popup_play.userData.parentOpacity = v;
			v = v * me._video_url_hs_popup_play.userData.opacity
			me._video_url_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_play.children.length; i++) {
				let child = me._video_url_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_hs_popup_play = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAFEklEQVR4nO3dS6xdUxzH8S9XPaKJNtEKkdAOKAMuA8IAZUKLgfcAYeA5oR4ThIlHJ9RjQD0GCJH0egxQJloMvBJaEi2SthIlUaKiQi73XoNtJU3UPeueu/Za+/H9JP/h2fu/kl/2yT33v9cCSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSXUbKd3AkFYC84EvSzeifnoJmALeBUYL96IeCgGcAiaAJ4EFRTtSr+wewFA7gVuAOQX7Uk/sKYChvgKWl2tNfTBdAEOtBZaUalDdFhPAKeAv4GFgXpk21VWxAQy1A7ie9v7spIaZaQBDbQSWFuhXHTNsAEO9DCzK3rU6Y7YBnAL+BO4H5mbuXR2QIoChtgNXAntlXYFaLWUAQ30EnJ'+
	'xzEWqvOgI4BUwCzwOH5VuK2qiuAIbaBdwF7J9rQWqXugMYaitwUaY1qUVyBTDUeuD4HAvrm71LN1CzV4GfE1zndOBTYDVwcILrqeVin4CXUU1OP0r1f+EUT8NfgBU49tVrMwlgcCzwduTnYmozsKy+JarJhglgcB7wdeTnY+pN4Oj0S1STzSaAAPsCtwG/Rl5nUI0Dq3DsqzdmG8BgIfA01XslKYL4I3Ad3f/jrvdSBTA4AXgv8poxtQE4Y1YrVKOlDmBwCfBt5LVjagw4cqgVqtHqCiDAAcDdwO+R9xhUfwD3AQcO0Ysaqs4ABocDL0TeJ6a2A1fg2Fcn5AhgcArwceT9YupDHPtqvZwBhOqpdRXwfeR9B9Uk8ByOfbVW7gAGc4EHqMb5UwRxF3Anjn21TqkABoupBh1SfS1vAS6sqVfVoHQAgzOBzyN7ial1wHE1'+
	'96wEmhJAqF52vwH4KbKnQfU38ASOfTVakwIYzAceIe3Y18049tVITQxgcAzwVmR/MbUJODvrCjRQkwMYLKfaKi5VEN8Ajsq6Av2vNgQQqq/PW6k2z0wRwnHgIeCgnIvQf7UlgMECqm2EU459XYtjX8W0LYDBKNUbdqm+lj+jemFKmbU1gMHFwDbSBXENcETOBaTiI7yM1BMxU4mvpwHa+gQcpTrbJOVX8GlZVyCgfQFcCDxF2j9CrsFvsGLaEsA5pH/77kH8Gaa4NgTwXNL+EP06/hDdGE0OoP+K64EmBrCOPWhuAvbJuAZFalIAR4AbSTuO9TiOYzVaUwJ4FvBFZC8x9Q4OpLZC6QAuBl6L7CGmtgAX1NSralDypaSVpHsp6TfgDmC/xH2qZiVey7wa+CHyvoNqEngWODRRf8osZwBPBT6JvF9MfQCclKAvFZRra4'+
	'4XI+8TU98Bl+PWHJ1Q9+ZE95B2c6J7cXOiTqkrgJeSdnu2Nbg9WyelDuCJwPuR14ypDTip3GmpAngI8Ay+q6EZSrFJ+e2kHZPybbUemU0Azwe+ifx8THlMQw814aCaTcA59S1RTTbTo7oewz1blFBsAF8h3ZjUBO5apX/lPq51HR7XWgt/LpjeNqoDq5cCG8u2oiap+wno3s2aVl0BdPd6RakjgJ7foWgpA+gJRpqxFAH0DDcNbbYBHAMWZe9anTFsAD3HV0nMNIA7qE4yHynRrLonNoDjwCpgXpk21VUxAVwLLCnVoLptugBuBpaVa019sKcA7gRW4JiUMtg9gBPAaqqzOKQsQgDXU238rZZq6+aHW6nO2hgr3YgkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkNd0/FTYEbBmanNsAAAAASUVO'+
	'RK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_url_hs_popup_play_materialOver';
		el.userData.ggId="video_url_hs_popup_play";
		me._video_url_hs_popup_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_hs_popup_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_hs_popup_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_hs_popup_play.ggCurrentLogicStateVisible == 0) {
			me._video_url_hs_popup_play.visible=((!me._video_url_hs_popup_play.material && Number(me._video_url_hs_popup_play.userData.opacity>0)) || Number(me._video_url_hs_popup_play.material.opacity)>0)?true:false;
			me._video_url_hs_popup_play.userData.visible=true;
				}
				else {
			me._video_url_hs_popup_play.visible=false;
			me._video_url_hs_popup_play.userData.visible=false;
				}
			}
		}
		me._video_url_hs_popup_play.logicBlock_visible();
		me._video_url_hs_popup_play.userData.onclick=function (e) {
			player.playSound("video_url_popup","1");
		}
		me._video_url_hs_popup_play.userData.onmouseenter=function (e) {
			me._video_url_hs_popup_play.material = me._video_url_hs_popup_play.userData.materialOver;
			me.elementMouseOver['video_url_hs_popup_play']=true;
		}
		me._video_url_hs_popup_play.userData.onmouseleave=function (e) {
			me._video_url_hs_popup_play.material = me._video_url_hs_popup_play.userData.materialNormal;
			me.elementMouseOver['video_url_hs_popup_play']=false;
		}
		me._video_url_hs_popup_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._video_url_hs_popup_play);
		el.userData.ggId="pdf_popup";
		me._pdf_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_pdf_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pdf_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pdf_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pdf_popup.ggCurrentLogicStateVisible == 0) {
			me._pdf_popup.visible=((!me._pdf_popup.material && Number(me._pdf_popup.userData.opacity>0)) || Number(me._pdf_popup.material.opacity)>0)?true:false;
			me._pdf_popup.userData.visible=true;
				}
				else {
			me._pdf_popup.visible=false;
			me._pdf_popup.userData.visible=false;
				}
			}
		}
		me._pdf_popup.logicBlock_visible();
		me._pdf_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._pdf_popup);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_popup.userData.ggSubElement) {
				me._image_popup.userData.ggSubElement.material.opacity = v
				me._image_popup.userData.ggSubElement.visible = (v>0 && me._image_popup.userData.visible);
			}
			me._image_popup.visible = (v>0 && me._image_popup.userData.visible);
		}
		el.translateX(0);
		el.translateY(-0.23);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 736;
		el.userData.height = 405;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_popup';
		el.userData.x = 0;
		el.userData.y = -0.23;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.240);
		el.renderOrder = 24;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_popup.visible
			let parentEl = me._image_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_popup.userData.opacity = v;
			v = v * me._image_popup.userData.parentOpacity;
			me._image_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup.children.length; i++) {
				let child = me._image_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_popup.userData.parentOpacity = v;
			v = v * me._image_popup.userData.opacity
			me._image_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup.children.length; i++) {
				let child = me._image_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_popup = el;
		currentWidth = 736;
		currentHeight = 405;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'image_popup_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'image_popup_subElementMaterial';
				me._image_popup.userData.ggSubElement.material = loadedMaterial;
				me._image_popup.userData.ggUpdatePosition();
				me._image_popup.userData.ggText = extUrl;
				me._image_popup.userData.setOpacity(me._image_popup.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'image_popup_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'image_popup_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 736;
		el.userData.clientHeight = 405;
		el.userData.ggId="image_popup";
		me._image_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_image_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_popup.ggCurrentLogicStateVisible == 0) {
			me._image_popup.visible=((!me._image_popup.material && Number(me._image_popup.userData.opacity>0)) || Number(me._image_popup.material.opacity)>0)?true:false;
			me._image_popup.userData.visible=true;
				}
				else {
			me._image_popup.visible=false;
			me._image_popup.userData.visible=false;
				}
			}
		}
		me._image_popup.logicBlock_visible();
		me._image_popup.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._image_popup.userData.clientWidth;
			var parentHeight = me._image_popup.userData.clientHeight;
			var img = me._image_popup.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_imgGeometry';
			};
		}
		me._media_popup_bg.add(me._image_popup);
		geometry = new THREE.PlaneGeometry(1, 0.2, 5, 5 );
		geometry.name = 'url_hs_popup_iframe_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'url_hs_popup_iframe_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._url_hs_popup_iframe.material.opacity = v;
			if (me._url_hs_popup_iframe.userData.hasScrollbar) {
				me._url_hs_popup_iframe.userData.scrollbar.material.opacity = v;
				me._url_hs_popup_iframe.userData.scrollbarBg.material.opacity = v;
			}
			if (me._url_hs_popup_iframe.userData.ggSubElement) {
				me._url_hs_popup_iframe.userData.ggSubElement.material.opacity = v
				me._url_hs_popup_iframe.userData.ggSubElement.visible = (v>0 && me._url_hs_popup_iframe.userData.visible);
			}
			me._url_hs_popup_iframe.visible = (v>0 && me._url_hs_popup_iframe.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_iframe.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColorAlpha = v;
			me._url_hs_popup_iframe.userData.setOpacity(me._url_hs_popup_iframe.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-2.105);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_hs_popup_iframe';
		el.userData.x = 0;
		el.userData.y = -2.105;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.250);
		el.renderOrder = 25;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._url_hs_popup_iframe.visible
			let parentEl = me._url_hs_popup_iframe.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_hs_popup_iframe.userData.opacity = v;
			v = v * me._url_hs_popup_iframe.userData.parentOpacity;
			me._url_hs_popup_iframe.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_iframe.children.length; i++) {
				let child = me._url_hs_popup_iframe.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_hs_popup_iframe.userData.parentOpacity = v;
			v = v * me._url_hs_popup_iframe.userData.opacity
			me._url_hs_popup_iframe.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_iframe.children.length; i++) {
				let child = me._url_hs_popup_iframe.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_hs_popup_iframe = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 200;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._url_hs_popup_iframe.userData.totalHeightCanv = 2 * (3);
			me._url_hs_popup_iframe.userData.textLines = [];
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._url_hs_popup_iframe.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._url_hs_popup_iframe.userData.textLines.push(line);
					line = '';
					me._url_hs_popup_iframe.userData.totalHeightCanv += me._url_hs_popup_iframe.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._url_hs_popup_iframe.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._url_hs_popup_iframe.userData.textLines.push(line);
					line = words[i];
					me._url_hs_popup_iframe.userData.totalHeightCanv += me._url_hs_popup_iframe.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._url_hs_popup_iframe.userData.textLines.push(line);
			me._url_hs_popup_iframe.userData.totalHeightCanv += me._url_hs_popup_iframe.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._url_hs_popup_iframe.userData.textCanvas;
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._url_hs_popup_iframe.userData.textColor.r * 255 + ', ' + me._url_hs_popup_iframe.userData.textColor.g * 255 + ', ' + me._url_hs_popup_iframe.userData.textColor.b * 255 + ', ' + me._url_hs_popup_iframe.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._url_hs_popup_iframe.userData.boxWidthCanv - (me._url_hs_popup_iframe.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._url_hs_popup_iframe.userData.textLines.length; i++) {
				ctx.fillText(me._url_hs_popup_iframe.userData.textLines[i], x, y);
				y += me._url_hs_popup_iframe.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'url_hs_popup_iframe_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._url_hs_popup_iframe.material.map) {
				me._url_hs_popup_iframe.material.map.dispose();
			}
			me._url_hs_popup_iframe.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._url_hs_popup_iframe.children.length; i++) {
				let child = me._url_hs_popup_iframe.children[i];
				if (child.name.includes('scrollbar')) me._url_hs_popup_iframe.remove(child);
			}
			var canv = me._url_hs_popup_iframe.userData.textCanvas;
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._url_hs_popup_iframe.userData.lineHeightCanv = 33.6;
			me._url_hs_popup_iframe.userData.textLines = [];
			me._url_hs_popup_iframe.userData.textLines.push(me._url_hs_popup_iframe.userData.ggText);
			me._url_hs_popup_iframe.userData.totalHeightCanv = 2 * (3);
			me._url_hs_popup_iframe.userData.totalHeightCanv += me._url_hs_popup_iframe.userData.lineHeightCanv;
			me._url_hs_popup_iframe.userData.boxWidthCanv = 2 * me._url_hs_popup_iframe.userData.width;
			me._url_hs_popup_iframe.userData.boxHeightCanv = 2 * me._url_hs_popup_iframe.userData.height;
			me._url_hs_popup_iframe.userData.hasScrollbar = false;
			canv.width = me._url_hs_popup_iframe.userData.boxWidthCanv;
			canv.height = me._url_hs_popup_iframe.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._url_hs_popup_iframe.userData.ggPaintCanvasText();
		}
		me._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._url_hs_popup_iframe.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._url_hs_popup_iframe.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._url_hs_popup_iframe.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.textColorAlpha = v;
		}
		el.userData.ggId="url_hs_popup_iframe";
		me._url_hs_popup_iframe.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._url_hs_popup_iframe.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._url_hs_popup_iframe.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._url_hs_popup_iframe.ggCurrentLogicStateVisible == 0) {
			me._url_hs_popup_iframe.visible=((!me._url_hs_popup_iframe.material && Number(me._url_hs_popup_iframe.userData.opacity>0)) || Number(me._url_hs_popup_iframe.material.opacity)>0)?true:false;
			me._url_hs_popup_iframe.userData.visible=true;
				}
				else {
			me._url_hs_popup_iframe.visible=false;
			me._url_hs_popup_iframe.userData.visible=false;
				}
			}
		}
		me._url_hs_popup_iframe.logicBlock_visible();
		me._url_hs_popup_iframe.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._url_hs_popup_iframe);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'media_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAUlEQVR4nO3YQQqCUBSF4b/2kLSGCNr/ILAtREi0GRvoI4mIylv2nv8HDZpcPQfTayBJkiRJkiRJ4+yAGqgCZ66BA7ANnPk1NdACJ2JKWANNP3MfMO/rKrrwESUMwx+B1eiz+5GIErINn4wpIfvwySclFBM+eaeE4sInr5RQbPjkWQnFh08elTCb8MmwhDNwYUbhk4oufNt/GiYKv5zioP1xl3ffFxOdy88Nf/MNtysh6t3hrz264UW+O/y1Z3f74kt45VFXbAnvPOeLK+GTJaeYEsZseNmXELHeZltC5G6fZQkHYnf7YQlZ/Cm6pTvRyN2+6mduAmdKkiRJkiRJmqErgtJ3+z+7omAAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'media_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.295);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'media_popup_close';
		el.userData.x = 3.04;
		el.userData.y = 2.295;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.260);
		el.renderOrder = 26;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._media_popup_close.material) me._media_popup_close.material.opacity = v;
			me._media_popup_close.visible = (v>0 && me._media_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._media_popup_close.visible
			let parentEl = me._media_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._media_popup_close.userData.opacity = v;
			v = v * me._media_popup_close.userData.parentOpacity;
			me._media_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_close.children.length; i++) {
				let child = me._media_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._media_popup_close.userData.parentOpacity = v;
			v = v * me._media_popup_close.userData.opacity
			me._media_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_close.children.length; i++) {
				let child = me._media_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._media_popup_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABKklEQVR4nO3YQYrCQBCF4R8FryMBd55CcAjMwT2DIM4BZgachanFaBtiulq6y/dBtm2/F0mqAyIiIiIiIiIiIm9lWWjdDbAFDk7r9cAKODqtV9QG+AJ+uG481+ew1hnoHNYrysJfhiu3BAtv61Vfwgf/N5xTwm34C/AN7Fx2WlBPfgmPwu9dd1pQTgnNhzdzSggT3jxTQrjwZkoJYcObsRLChzepEn6HK3x4kyrhbcKbnvu7bv+Gl4dfvPoHGT+AlTqcVSP1wPMYm5uQCp96CIYsYexV53F2qNqU93zYEp4ZcsKVMGfCC1NCznjbfAkes32zJaQ2Pne8fVRC1aNyx/XDpddsf1vCCVhn7rE4K8HrYGMlNBHedPh+vd3TUHgREREREREREZGK/QGME+'+
	'mZMZL8SQAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'media_popup_close_materialOver';
		el.userData.ggId="media_popup_close";
		me._media_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_image_hs_popup', false);
			player.setVariableValue('vis_url_hs_popup', false);
			player.setVariableValue('vis_pdf_hs_popup', false);
			player.setVariableValue('vis_video_youtube_hs_popup', false);
			player.setVariableValue('vis_video_vimeo_hs_popup', false);
			player.setVariableValue('vis_video_file_hs_popup', false);
			player.setVariableValue('vis_video_url_hs_popup', false);
		}
		me._media_popup_close.userData.onmouseenter=function (e) {
			me._media_popup_close.material = me._media_popup_close.userData.materialOver;
			me.elementMouseOver['media_popup_close']=true;
		}
		me._media_popup_close.userData.onmouseleave=function (e) {
			me._media_popup_close.material = me._media_popup_close.userData.materialNormal;
			me.elementMouseOver['media_popup_close']=false;
		}
		me._media_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._media_popup_close);
		geometry = new THREE.PlaneGeometry(1, 0.3, 5, 5 );
		geometry.name = 'media_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'media_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._media_popup_title.material.opacity = v;
			if (me._media_popup_title.userData.hasScrollbar) {
				me._media_popup_title.userData.scrollbar.material.opacity = v;
				me._media_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._media_popup_title.userData.ggSubElement) {
				me._media_popup_title.userData.ggSubElement.material.opacity = v
				me._media_popup_title.userData.ggSubElement.visible = (v>0 && me._media_popup_title.userData.visible);
			}
			me._media_popup_title.visible = (v>0 && me._media_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._media_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._media_popup_title.userData.backgroundColorAlpha = v;
			me._media_popup_title.userData.setOpacity(me._media_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(1.985);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'media_popup_title';
		el.userData.x = 0;
		el.userData.y = 1.985;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.270);
		el.renderOrder = 27;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._media_popup_title.visible
			let parentEl = me._media_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._media_popup_title.userData.opacity = v;
			v = v * me._media_popup_title.userData.parentOpacity;
			me._media_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_title.children.length; i++) {
				let child = me._media_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._media_popup_title.userData.parentOpacity = v;
			v = v * me._media_popup_title.userData.opacity
			me._media_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._media_popup_title.children.length; i++) {
				let child = me._media_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._media_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 200;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._media_popup_title.userData.totalHeightCanv = 2 * (3);
			me._media_popup_title.userData.textLines = [];
			var ctx = me._media_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._media_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._media_popup_title.userData.textLines.push(line);
					line = '';
					me._media_popup_title.userData.totalHeightCanv += me._media_popup_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._media_popup_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._media_popup_title.userData.textLines.push(line);
					line = words[i];
					me._media_popup_title.userData.totalHeightCanv += me._media_popup_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._media_popup_title.userData.textLines.push(line);
			me._media_popup_title.userData.totalHeightCanv += me._media_popup_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._media_popup_title.userData.textCanvas;
			var ctx = me._media_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._media_popup_title.userData.textColor.r * 255 + ', ' + me._media_popup_title.userData.textColor.g * 255 + ', ' + me._media_popup_title.userData.textColor.b * 255 + ', ' + me._media_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._media_popup_title.userData.boxWidthCanv - (me._media_popup_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._media_popup_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._media_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._media_popup_title.userData.textLines[i];
				var curTextLineBase = me._media_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._media_popup_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'media_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._media_popup_title.material.map) {
				me._media_popup_title.material.map.dispose();
			}
			me._media_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._media_popup_title.children.length; i++) {
				let child = me._media_popup_title.children[i];
				if (child.name.includes('scrollbar')) me._media_popup_title.remove(child);
			}
			var canv = me._media_popup_title.userData.textCanvas;
			var ctx = me._media_popup_title.userData.textCanvasContext;
			ctx.font = '600 44px Verdana';
			me._media_popup_title.userData.lineHeightCanv = 44 * 1.2;
			me._media_popup_title.userData.textLines = [];
			me._media_popup_title.userData.textLines.push(me._media_popup_title.userData.ggText);
			me._media_popup_title.userData.totalHeightCanv = 2 * (3);
			me._media_popup_title.userData.totalHeightCanv += me._media_popup_title.userData.lineHeightCanv;
			me._media_popup_title.userData.boxWidthCanv = 2 * me._media_popup_title.userData.width;
			me._media_popup_title.userData.boxHeightCanv = 2 * me._media_popup_title.userData.height;
			me._media_popup_title.userData.hasScrollbar = false;
			canv.width = me._media_popup_title.userData.boxWidthCanv;
			canv.height = me._media_popup_title.userData.boxHeightCanv;
			ctx.font = '600 44px Verdana';
			me._media_popup_title.userData.ggPaintCanvasText();
		}
		me._media_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._media_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._media_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._media_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._media_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._media_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._media_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="media_popup_title";
		me._media_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._media_popup_bg.add(me._media_popup_title);
		me._media_popup.add(me._media_popup_bg);
		me.skinGroup.add(me._media_popup);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(3.5);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Contact Form';
		el.userData.x = 3.5;
		el.userData.y = 0.4;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._contact_form.material) me._contact_form.material.opacity = v;
			me._contact_form.visible = (v>0 && me._contact_form.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._contact_form.visible
			let parentEl = me._contact_form.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._contact_form.userData.opacity = v;
			v = v * me._contact_form.userData.parentOpacity;
			me._contact_form.userData.setOpacityInternal(v);
			for (let i = 0; i < me._contact_form.children.length; i++) {
				let child = me._contact_form.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._contact_form.userData.parentOpacity = v;
			v = v * me._contact_form.userData.opacity
			me._contact_form.userData.setOpacityInternal(v);
			for (let i = 0; i < me._contact_form.children.length; i++) {
				let child = me._contact_form.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._contact_form = el;
		el.userData.ggId="Contact Form";
		me._contact_form.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'Map_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/map.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'Map_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.2);
		el.translateY(-2.8);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Map';
		el.userData.x = 0.2;
		el.userData.y = -2.8;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map.material) me._map.material.opacity = v;
			me._map.visible = (v>0 && me._map.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map.visible
			let parentEl = me._map.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map.userData.opacity = v;
			v = v * me._map.userData.parentOpacity;
			me._map.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map.children.length; i++) {
				let child = me._map.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map.userData.parentOpacity = v;
			v = v * me._map.userData.opacity
			me._map.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map.children.length; i++) {
				let child = me._map.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map = el;
		me._map.userData.materialNormal = me._map.material;
		el.userData.ggId="Map";
		me._map.userData.onclick=function (e) {
			player.openUrl("https:\/\/maps.app.goo.gl\/apVwyeGdu65byQWv6","_blank");
		}
		me._map.userData.ggUpdatePosition=function (useTransition) {
		}
		me._contact_form.add(me._map);
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/phone.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.2);
		el.translateY(-2.1);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'phone';
		el.userData.x = 0.2;
		el.userData.y = -2.1;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._phone.material) me._phone.material.opacity = v;
			me._phone.visible = (v>0 && me._phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._phone.visible
			let parentEl = me._phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._phone.userData.opacity = v;
			v = v * me._phone.userData.parentOpacity;
			me._phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._phone.children.length; i++) {
				let child = me._phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._phone.userData.parentOpacity = v;
			v = v * me._phone.userData.opacity
			me._phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._phone.children.length; i++) {
				let child = me._phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._phone = el;
		me._phone.userData.materialNormal = me._phone.material;
		el.userData.ggId="phone";
		me._phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._contact_form.add(me._phone);
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'Zalo_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/zalo.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'Zalo_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.2);
		el.translateY(-1.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Zalo';
		el.userData.x = 0.2;
		el.userData.y = -1.4;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._zalo.material) me._zalo.material.opacity = v;
			me._zalo.visible = (v>0 && me._zalo.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._zalo.visible
			let parentEl = me._zalo.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._zalo.userData.opacity = v;
			v = v * me._zalo.userData.parentOpacity;
			me._zalo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._zalo.children.length; i++) {
				let child = me._zalo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._zalo.userData.parentOpacity = v;
			v = v * me._zalo.userData.opacity
			me._zalo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._zalo.children.length; i++) {
				let child = me._zalo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._zalo = el;
		me._zalo.userData.materialNormal = me._zalo.material;
		el.userData.ggId="Zalo";
		me._zalo.userData.ggUpdatePosition=function (useTransition) {
		}
		me._contact_form.add(me._zalo);
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'Fb_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/fb.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'Fb_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.2);
		el.translateY(-0.7);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Fb';
		el.userData.x = 0.2;
		el.userData.y = -0.7;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._fb.material) me._fb.material.opacity = v;
			me._fb.visible = (v>0 && me._fb.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._fb.visible
			let parentEl = me._fb.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._fb.userData.opacity = v;
			v = v * me._fb.userData.parentOpacity;
			me._fb.userData.setOpacityInternal(v);
			for (let i = 0; i < me._fb.children.length; i++) {
				let child = me._fb.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._fb.userData.parentOpacity = v;
			v = v * me._fb.userData.opacity
			me._fb.userData.setOpacityInternal(v);
			for (let i = 0; i < me._fb.children.length; i++) {
				let child = me._fb.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._fb = el;
		me._fb.userData.materialNormal = me._fb.material;
		el.userData.ggId="Fb";
		me._fb.userData.onclick=function (e) {
			player.openUrl("https:\/\/www.facebook.com\/profile.php?id=61582139724016","_blank");
		}
		me._fb.userData.ggUpdatePosition=function (useTransition) {
		}
		me._contact_form.add(me._fb);
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'website_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/website.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'website_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.2);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'website';
		el.userData.x = 0.2;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._website.material) me._website.material.opacity = v;
			me._website.visible = (v>0 && me._website.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._website.visible
			let parentEl = me._website.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._website.userData.opacity = v;
			v = v * me._website.userData.parentOpacity;
			me._website.userData.setOpacityInternal(v);
			for (let i = 0; i < me._website.children.length; i++) {
				let child = me._website.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._website.userData.parentOpacity = v;
			v = v * me._website.userData.opacity
			me._website.userData.setOpacityInternal(v);
			for (let i = 0; i < me._website.children.length; i++) {
				let child = me._website.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._website = el;
		me._website.userData.materialNormal = me._website.material;
		el.userData.ggId="website";
		me._website.userData.onclick=function (e) {
			player.openUrl("https:\/\/xrtech.com.vn\/","_blank");
		}
		me._website.userData.ggUpdatePosition=function (useTransition) {
		}
		me._contact_form.add(me._website);
		me.skinGroup.add(me._contact_form);
		width = 3.65;
		height = 0.75;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'Text 1_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Text 1_material';
		el = new THREE.Mesh( geometry, material );
		width = 3.65;
		height = 0.75;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.02 + 0.1, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02 - 0.1, (height / 2.0) + 0.02);
		borderShape.arc(0, -0.1, 0.1, Math.PI / 2.0, 2.0 * Math.PI, true);
		borderShape.lineTo((width / 2.0) + 0.02, (-height / 2.0) - 0.02 + 0.1);
		borderShape.arc(-0.1, 0, 0.1, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		borderShape.lineTo((-width / 2.0) - 0.02 + 0.1, (-height / 2.0) - 0.02);
		borderShape.arc(0, 0.1, 0.1, 3.0 * Math.PI / 2.0, Math.PI, true);
		borderShape.lineTo((-width / 2.0) - 0.02, (height / 2.0) + 0.02 - 0.1);
		borderShape.arc(0.1, 0, 0.1, Math.PI, Math.PI / 2.0, true);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		innerShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		innerShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		innerShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		innerShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		innerShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'Text 1_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0.0235294, 0.713726, 0.0235294).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'Text 1_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'Text 1_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 0.784314;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._text_1.material.opacity = v;
			if (me._text_1.userData.hasScrollbar) {
				me._text_1.userData.scrollbar.material.opacity = v;
				me._text_1.userData.scrollbarBg.material.opacity = v;
			}
			me._text_1.userData.border.material.opacity = v * me._text_1.userData.borderColorAlpha;
			if (me._text_1.userData.ggSubElement) {
				me._text_1.userData.ggSubElement.material.opacity = v
				me._text_1.userData.ggSubElement.visible = (v>0 && me._text_1.userData.visible);
			}
			me._text_1.visible = (v>0 && me._text_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._text_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_1.userData.backgroundColorAlpha = v;
			me._text_1.userData.setOpacity(me._text_1.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._text_1.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._text_1.userData.borderColorAlpha = v;
			me._text_1.userData.setOpacity(me._text_1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 365;
		el.userData.height = 75;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Text 1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._text_1.visible
			let parentEl = me._text_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._text_1.userData.opacity = v;
			v = v * me._text_1.userData.parentOpacity;
			me._text_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_1.children.length; i++) {
				let child = me._text_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._text_1.userData.parentOpacity = v;
			v = v * me._text_1.userData.opacity
			me._text_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_1.children.length; i++) {
				let child = me._text_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._text_1 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.533333, 0.101961).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0.972549, 0.984314, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 730;
		canvas.height = 150;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._text_1.userData.totalHeightCanv = 2 * (7);
			me._text_1.userData.textLines = [];
			var ctx = me._text_1.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._text_1.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._text_1.userData.textLines.push(line);
					line = '';
					me._text_1.userData.totalHeightCanv += me._text_1.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._text_1.userData.width - 4 - (scrollbar ? 25 : 0))) && i > 0) {
					me._text_1.userData.textLines.push(line);
					line = words[i];
					me._text_1.userData.totalHeightCanv += me._text_1.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._text_1.userData.textLines.push(line);
			me._text_1.userData.totalHeightCanv += me._text_1.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._text_1.userData.textCanvas;
			var ctx = me._text_1.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._text_1.userData.backgroundColor.r * 255 + ', ' + me._text_1.userData.backgroundColor.g * 255 + ', ' + me._text_1.userData.backgroundColor.b * 255 + ', ' + me._text_1.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._text_1.userData.textColor.r * 255 + ', ' + me._text_1.userData.textColor.g * 255 + ', ' + me._text_1.userData.textColor.b * 255 + ', ' + me._text_1.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._text_1.userData.boxWidthCanv - (me._text_1.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 5;
			y -= me._text_1.userData.scrollPosPercent * me._text_1.userData.totalHeightCanv;
			y += (canv.height - me._text_1.userData.totalHeightCanv - (2 * 2)) / 2;
			for (var i = 0; i < me._text_1.userData.textLines.length; i++) {
				ctx.fillText(me._text_1.userData.textLines[i], x, y);
				y += me._text_1.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'Text 1_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._text_1.material.map) {
				me._text_1.material.map.dispose();
			}
			me._text_1.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._text_1.children.length; i++) {
				let child = me._text_1.children[i];
				if (child.name.includes('scrollbar')) me._text_1.remove(child);
			}
			var canv = me._text_1.userData.textCanvas;
			var ctx = me._text_1.userData.textCanvasContext;
			ctx.font = '600 60px Verdana';
			me._text_1.userData.lineHeightCanv = 60 * 1.2;
			me._text_1.userData.textLines = [];
			me._text_1.userData.textLines.push(me._text_1.userData.ggText);
			me._text_1.userData.totalHeightCanv = 2 * (7);
			me._text_1.userData.totalHeightCanv += me._text_1.userData.lineHeightCanv;
			me._text_1.userData.boxWidthCanv = 2 * me._text_1.userData.width;
			me._text_1.userData.boxHeightCanv = 2 * me._text_1.userData.height;
			me._text_1.userData.scrollPosPercent = 0.0
			if (me._text_1.userData.totalHeightCanv > (2 * (me._text_1.userData.height))) {
				me._text_1.userData.ggWrapText(true);
				me._text_1.userData.pagePercent = (2 * (me._text_1.userData.height) - me._text_1.userData.lineHeightCanv) / me._text_1.userData.totalHeightCanv;
				me._text_1.userData.maxScrollPercent = (me._text_1.userData.totalHeightCanv - (2 * (me._text_1.userData.height))) / me._text_1.userData.totalHeightCanv;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._text_1.userData.height / 100.0, 5, 5 );
				geometry.name = 'Text 1_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 1_scrollbarBgMaterial';
				me._text_1.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._text_1.userData.scrollbarBg.name = 'Text 1_scrollbarBg';
				me._text_1.add(me._text_1.userData.scrollbarBg);
				me._text_1.userData.scrollbarXPos = (me._text_1.userData.width - 25) / 200.0;
				me._text_1.userData.scrollbarBg.position.x = me._text_1.userData.scrollbarXPos;
				me._text_1.userData.scrollbarBg.position.z = me._text_1.position.z + 0.01;
				me._text_1.userData.scrollbarBg.userData.stopPropagation = true;
				me._text_1.userData.scrollbarHeight = ((2 * me._text_1.userData.height) / me._text_1.userData.totalHeightCanv) * me._text_1.userData.height;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._text_1.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'Text 1_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 1_scrollbarMaterial';
				me._text_1.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._text_1.userData.scrollbar.name = 'Text 1_scrollbar';
				me._text_1.add(me._text_1.userData.scrollbar);
				me._text_1.userData.scrollbar.position.x = me._text_1.userData.scrollbarXPos;
				me._text_1.userData.scrollbar.position.z = me._text_1.position.z + 0.02;
				me._text_1.userData.scrollbarYPosMin = (me._text_1.userData.height - me._text_1.userData.scrollbarHeight) / 200.0;
				me._text_1.userData.scrollbarYPosMax = me._text_1.userData.scrollbarYPosMin - (me._text_1.userData.height - me._text_1.userData.scrollbarHeight) / 100.0;
				me._text_1.userData.scrollbar.position.y = me._text_1.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._text_1.userData.height / 200.0, 5, 5 );
				geometry.name = 'Text 1_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 1_scrollbarPageDownMaterial';
				me._text_1.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._text_1.userData.scrollbarPageDown.name = 'Text 1_scrollbarPageDown';
				me._text_1.userData.scrollbarPageDown.userData.onclick = function() {
					me._text_1.userData.scrollPosPercent -= me._text_1.userData.pagePercent;
					me._text_1.userData.scrollPosPercent = Math.max(me._text_1.userData.scrollPosPercent, 0);
					me._text_1.userData.ggPaintCanvasText();
					me._text_1.userData.scrollbar.position.y += (me._text_1.userData.height * me._text_1.userData.pagePercent) / 100.0;
					me._text_1.userData.scrollbar.position.y = Math.min(me._text_1.userData.scrollbar.position.y, me._text_1.userData.scrollbarYPosMin);
				}
				me._text_1.userData.scrollbarPageDown.position.x = me._text_1.userData.scrollbarXPos;
				me._text_1.userData.scrollbarPageDown.position.y = me._text_1.userData.height / 400.0;
				me._text_1.userData.scrollbarPageDown.position.z = me._text_1.position.z + 0.05;
				me._text_1.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._text_1.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._text_1.userData.scrollbarPageDown.visible = false;
				me._text_1.add(me._text_1.userData.scrollbarPageDown);
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._text_1.userData.height / 200.0, 5, 5 );
				geometry.name = 'Text 1_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 1_scrollbarPageUpMaterial';
				me._text_1.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._text_1.userData.scrollbarPageUp.name = 'Text 1_scrollbarPageUp';
				me._text_1.userData.scrollbarPageUp.userData.onclick = function() {
					me._text_1.userData.scrollPosPercent += me._text_1.userData.pagePercent;
					me._text_1.userData.scrollPosPercent = Math.min(me._text_1.userData.scrollPosPercent, me._text_1.userData.maxScrollPercent);
					me._text_1.userData.ggPaintCanvasText();
					me._text_1.userData.scrollbar.position.y -= (me._text_1.userData.height * me._text_1.userData.pagePercent) / 100.0;
					me._text_1.userData.scrollbar.position.y = Math.max(me._text_1.userData.scrollbar.position.y, me._text_1.userData.scrollbarYPosMax);
				}
				me._text_1.userData.scrollbarPageUp.position.x = me._text_1.userData.scrollbarXPos;
				me._text_1.userData.scrollbarPageUp.position.y = -me._text_1.userData.height / 400.0;
				me._text_1.userData.scrollbarPageUp.position.z = me._text_1.position.z + 0.05;
				me._text_1.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._text_1.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._text_1.userData.scrollbarPageUp.visible = false;
				me._text_1.add(me._text_1.userData.scrollbarPageUp);
				me._text_1.userData.hasScrollbar = true;
			} else {
				me._text_1.userData.hasScrollbar = false;
			}
			canv.width = me._text_1.userData.boxWidthCanv;
			canv.height = me._text_1.userData.boxHeightCanv;
			ctx.font = '600 60px Verdana';
			me._text_1.userData.ggPaintCanvasText();
		}
		me._text_1.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("Hotline: 0886326336", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._text_1.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._text_1.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._text_1.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_1.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._text_1.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._text_1.userData.textColorAlpha = v;
		}
		el.userData.ggId="Text 1";
		me._text_1.userData.onclick=function (e) {
			me._text_1.visible=false;
			me._text_1.userData.visible=false;
		}
		me._text_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._text_1);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-3.2);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 160;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Menu_no_image';
		el.userData.x = -3.2;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._menu_no_image.material) me._menu_no_image.material.opacity = v;
			me._menu_no_image.visible = (v>0 && me._menu_no_image.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._menu_no_image.visible
			let parentEl = me._menu_no_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._menu_no_image.userData.opacity = v;
			v = v * me._menu_no_image.userData.parentOpacity;
			me._menu_no_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._menu_no_image.children.length; i++) {
				let child = me._menu_no_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._menu_no_image.userData.parentOpacity = v;
			v = v * me._menu_no_image.userData.opacity
			me._menu_no_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._menu_no_image.children.length; i++) {
				let child = me._menu_no_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._menu_no_image = el;
		el.userData.ggId="Menu_no_image";
		me._menu_no_image.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.6;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.07, (height / 2.0));
		roundedRectShape.arc(0, -0.07, 0.07, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.07);
		roundedRectShape.arc(-0.07, 0, 0.07, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnail_cate_menu_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.0196078, 0.54902, 0.321569).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_cate_menu_material';
		el = new THREE.Mesh( geometry, material );
		width = 1.6;
		height = 6;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.01 + 0, (height / 2.0) + 0.05);
		borderShape.lineTo((width / 2.0) + 0.05 - 0.12, (height / 2.0) + 0.05);
		borderShape.arc(0, -0.12, 0.12, Math.PI / 2.0, 2.0 * Math.PI, true);
		borderShape.lineTo((width / 2.0) + 0.05, (-height / 2.0) - 0.05 + 0.12);
		borderShape.arc(-0.12, 0, 0.12, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		borderShape.lineTo((-width / 2.0) - 0.01 + 0, (-height / 2.0) - 0.05);
		borderShape.lineTo((-width / 2.0) - 0.01, (height / 2.0) + 0.05 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + -0.03, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.07, (height / 2.0));
		innerShape.arc(0, -0.07, 0.07, Math.PI / 2.0, 2.0 * Math.PI, true);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.07);
		innerShape.arc(-0.07, 0, 0.07, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		innerShape.lineTo((-width / 2.0) + -0.03, (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (height / 2.0) - -0.03);
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnail_cate_menu_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0.901961, 0.901961, 0.901961).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnail_cate_menu_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnail_cate_menu_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 0.490196;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_cate_menu.material.opacity = v * me._thumbnail_cate_menu.userData.backgroundColorAlpha;
			me._thumbnail_cate_menu.userData.border.material.opacity = v * me._thumbnail_cate_menu.userData.borderColorAlpha;
			if (me._thumbnail_cate_menu.userData.ggSubElement) {
				me._thumbnail_cate_menu.userData.ggSubElement.material.opacity = v
				me._thumbnail_cate_menu.userData.ggSubElement.visible = (v>0 && me._thumbnail_cate_menu.userData.visible);
			}
			me._thumbnail_cate_menu.visible = (v>0 && me._thumbnail_cate_menu.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_cate_menu.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_cate_menu.userData.backgroundColorAlpha = v;
			me._thumbnail_cate_menu.userData.setOpacity(me._thumbnail_cate_menu.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnail_cate_menu.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnail_cate_menu.userData.borderColorAlpha = v;
			me._thumbnail_cate_menu.userData.setOpacity(me._thumbnail_cate_menu.userData.opacity);
		}
		el.translateX(0.01);
		el.translateY(-0.05);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 160;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_cate_menu';
		el.userData.x = 0.01;
		el.userData.y = -0.05;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_cate_menu.visible
			let parentEl = me._thumbnail_cate_menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_cate_menu.userData.opacity = v;
			v = v * me._thumbnail_cate_menu.userData.parentOpacity;
			me._thumbnail_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_cate_menu.children.length; i++) {
				let child = me._thumbnail_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_cate_menu.userData.parentOpacity = v;
			v = v * me._thumbnail_cate_menu.userData.opacity
			me._thumbnail_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_cate_menu.children.length; i++) {
				let child = me._thumbnail_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_cate_menu = el;
		el.userData.ggId="thumbnail_cate_menu";
		me._thumbnail_cate_menu.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._thumbnail_cate_menu.ggCurrentLogicStateSize != newLogicStateSize) {
				me._thumbnail_cate_menu.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._thumbnail_cate_menu.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._thumbnail_cate_menu.logicBlock_size();
		me._thumbnail_cate_menu.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbs') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_cate_menu.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_cate_menu.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_cate_menu.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_cate_menu.visible=((!me._thumbnail_cate_menu.material && Number(me._thumbnail_cate_menu.userData.opacity>0)) || Number(me._thumbnail_cate_menu.material.opacity)>0)?true:false;
			me._thumbnail_cate_menu.userData.visible=true;
				}
				else {
			me._thumbnail_cate_menu.visible=false;
			me._thumbnail_cate_menu.userData.visible=false;
				}
			}
		}
		me._thumbnail_cate_menu.logicBlock_visible();
		me._thumbnail_cate_menu.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0.52);
		el.translateY(1.51);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 274;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_1';
		el.userData.x = 0.52;
		el.userData.y = 1.51;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._nodes_1.material) me._nodes_1.material.opacity = v;
			me._nodes_1.visible = (v>0 && me._nodes_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._nodes_1.visible
			let parentEl = me._nodes_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_1.userData.opacity = v;
			v = v * me._nodes_1.userData.parentOpacity;
			me._nodes_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_1.children.length; i++) {
				let child = me._nodes_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_1.userData.parentOpacity = v;
			v = v * me._nodes_1.userData.opacity
			me._nodes_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_1.children.length; i++) {
				let child = me._nodes_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_1 = el;
		el.userData.ggId="nodes_1";
		me._nodes_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('has_categories') == true)) && 
				((player.getVariableValue('vis_thumbs_nodes') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._nodes_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._nodes_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._nodes_1.ggCurrentLogicStateVisible == 0) {
			me._nodes_1.visible=false;
			me._nodes_1.userData.visible=false;
				}
				else {
			me._nodes_1.visible=((!me._nodes_1.material && Number(me._nodes_1.userData.opacity>0)) || Number(me._nodes_1.material.opacity)>0)?true:false;
			me._nodes_1.userData.visible=true;
				}
			}
		}
		me._nodes_1.logicBlock_visible();
		me._nodes_1.userData.ggUpdatePosition=function (useTransition) {
		}
		el.translateX(0);
		el.translateY(-0.3);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 234;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_scroller_1';
		el.userData.x = 0;
		el.userData.y = -0.3;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._nodes_scroller_1.material) me._nodes_scroller_1.material.opacity = v;
			me._nodes_scroller_1.visible = (v>0 && me._nodes_scroller_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._nodes_scroller_1.visible
			let parentEl = me._nodes_scroller_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_scroller_1.userData.opacity = v;
			v = v * me._nodes_scroller_1.userData.parentOpacity;
			me._nodes_scroller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_scroller_1.children.length; i++) {
				let child = me._nodes_scroller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_scroller_1.userData.parentOpacity = v;
			v = v * me._nodes_scroller_1.userData.opacity
			me._nodes_scroller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_scroller_1.children.length; i++) {
				let child = me._nodes_scroller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_scroller_1 = el;
		el.userData.ggId="nodes_scroller_1";
		me._nodes_scroller_1.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getVariableValue('has_categories') == false))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._nodes_scroller_1.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._nodes_scroller_1.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._nodes_scroller_1.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._nodes_scroller_1, 0, 0);
					me._nodes_scroller_1.position.x = newPos.x;
					me._nodes_scroller_1.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._nodes_scroller_1, 0, 50);
					me._nodes_scroller_1.position.x = elPos.x;
					me._nodes_scroller_1.position.y = elPos.y;
				}
			}
		}
		me._nodes_scroller_1.logicBlock_position();
		me._nodes_scroller_1.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('has_categories') == false))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._nodes_scroller_1.ggCurrentLogicStateSize != newLogicStateSize) {
				me._nodes_scroller_1.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._nodes_scroller_1.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._nodes_scroller_1.logicBlock_size();
		me._nodes_scroller_1.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0.545);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 125;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_cloner_1';
		el.userData.x = 0;
		el.userData.y = 0.545;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._nodes_cloner_1.material) me._nodes_cloner_1.material.opacity = v;
			me._nodes_cloner_1.visible = (v>0 && me._nodes_cloner_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._nodes_cloner_1.visible
			let parentEl = me._nodes_cloner_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_cloner_1.userData.opacity = v;
			v = v * me._nodes_cloner_1.userData.parentOpacity;
			me._nodes_cloner_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_cloner_1.children.length; i++) {
				let child = me._nodes_cloner_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_cloner_1.userData.parentOpacity = v;
			v = v * me._nodes_cloner_1.userData.opacity
			me._nodes_cloner_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_cloner_1.children.length; i++) {
				let child = me._nodes_cloner_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_cloner_1 = el;
		el.userData.ggNumRepeat = 1;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._nodes_cloner_1.userData.ggUpdating == true) return;
			me._nodes_cloner_1.userData.ggUpdating = true;
			var el=me._nodes_cloner_1;
			var curNumCols = 0;
			curNumCols = me._nodes_cloner_1.userData.ggNumRepeat;
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._nodes_cloner_1.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._nodes_cloner_1.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._nodes_cloner_1.userData.ggNumFilterPassed = 0;
			tourNodes = me._nodes_cloner_1.getFilteredNodes(tourNodes, filter);
			me._nodes_cloner_1.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._nodes_cloner_1.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._nodes_cloner_1.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._nodes_cloner_1.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_nodes_cloner_1_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._nodes_cloner_1, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._nodes_cloner_1.userData.ggNodeCount = me._nodes_cloner_1.userData.ggNumFilterPassed;
			me._nodes_cloner_1.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggId="nodes_cloner_1";
		me._nodes_cloner_1.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._nodes_cloner_1.ggCurrentLogicStateSize != newLogicStateSize) {
				me._nodes_cloner_1.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._nodes_cloner_1.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._nodes_cloner_1.logicBlock_size();
		me._nodes_cloner_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._nodes_scroller_1.add(me._nodes_cloner_1);
		me._nodes_1.add(me._nodes_scroller_1);
		width = 2.4;
		height = 0.38;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.12, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.12, (height / 2.0));
		roundedRectShape.arc(0, -0.12, 0.12, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.12);
		roundedRectShape.arc(-0.12, 0, 0.12, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.12, (-height / 2.0));
		roundedRectShape.arc(0, 0.12, 0.12, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.12);
		roundedRectShape.arc(0.12, 0, 0.12, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'nodes_category_bg_1_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0.74902, 0.368627).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'nodes_category_bg_1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._nodes_category_bg_1.material.opacity = v * me._nodes_category_bg_1.userData.backgroundColorAlpha;
			if (me._nodes_category_bg_1.userData.ggSubElement) {
				me._nodes_category_bg_1.userData.ggSubElement.material.opacity = v
				me._nodes_category_bg_1.userData.ggSubElement.visible = (v>0 && me._nodes_category_bg_1.userData.visible);
			}
			me._nodes_category_bg_1.visible = (v>0 && me._nodes_category_bg_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._nodes_category_bg_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._nodes_category_bg_1.userData.backgroundColorAlpha = v;
			me._nodes_category_bg_1.userData.setOpacity(me._nodes_category_bg_1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(1.18);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 38;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_category_bg_1';
		el.userData.x = 0;
		el.userData.y = 1.18;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._nodes_category_bg_1.visible
			let parentEl = me._nodes_category_bg_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_category_bg_1.userData.opacity = v;
			v = v * me._nodes_category_bg_1.userData.parentOpacity;
			me._nodes_category_bg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_category_bg_1.children.length; i++) {
				let child = me._nodes_category_bg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_category_bg_1.userData.parentOpacity = v;
			v = v * me._nodes_category_bg_1.userData.opacity
			me._nodes_category_bg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_category_bg_1.children.length; i++) {
				let child = me._nodes_category_bg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_category_bg_1 = el;
		el.userData.ggId="nodes_category_bg_1";
		me._nodes_category_bg_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('has_categories') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._nodes_category_bg_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._nodes_category_bg_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._nodes_category_bg_1.ggCurrentLogicStateVisible == 0) {
			me._nodes_category_bg_1.visible=false;
			me._nodes_category_bg_1.userData.visible=false;
				}
				else {
			me._nodes_category_bg_1.visible=((!me._nodes_category_bg_1.material && Number(me._nodes_category_bg_1.userData.opacity>0)) || Number(me._nodes_category_bg_1.material.opacity)>0)?true:false;
			me._nodes_category_bg_1.userData.visible=true;
				}
			}
		}
		me._nodes_category_bg_1.logicBlock_visible();
		me._nodes_category_bg_1.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbs_nodes', false);
			player.setVariableValue('vis_thumbs_categories', true);
		}
		me._nodes_category_bg_1.userData.onmouseenter=function (e) {
			me.elementMouseOver['nodes_category_bg_1']=true;
			me._nodes_back_hover_1.logicBlock_visible();
		}
		me._nodes_category_bg_1.userData.onmouseleave=function (e) {
			me.elementMouseOver['nodes_category_bg_1']=false;
			me._nodes_back_hover_1.logicBlock_visible();
		}
		me._nodes_category_bg_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(2.4, 0.38, 5, 5 );
		geometry.name = 'nodes_category_title_1_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'nodes_category_title_1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._nodes_category_title_1.material.opacity = v;
			if (me._nodes_category_title_1.userData.hasScrollbar) {
				me._nodes_category_title_1.userData.scrollbar.material.opacity = v;
				me._nodes_category_title_1.userData.scrollbarBg.material.opacity = v;
			}
			if (me._nodes_category_title_1.userData.ggSubElement) {
				me._nodes_category_title_1.userData.ggSubElement.material.opacity = v
				me._nodes_category_title_1.userData.ggSubElement.visible = (v>0 && me._nodes_category_title_1.userData.visible);
			}
			me._nodes_category_title_1.visible = (v>0 && me._nodes_category_title_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._nodes_category_title_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._nodes_category_title_1.userData.backgroundColorAlpha = v;
			me._nodes_category_title_1.userData.setOpacity(me._nodes_category_title_1.userData.opacity);
		}
		el.translateX(0.38);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 38;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_category_title_1';
		el.userData.x = 0.38;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._nodes_category_title_1.visible
			let parentEl = me._nodes_category_title_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_category_title_1.userData.opacity = v;
			v = v * me._nodes_category_title_1.userData.parentOpacity;
			me._nodes_category_title_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_category_title_1.children.length; i++) {
				let child = me._nodes_category_title_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_category_title_1.userData.parentOpacity = v;
			v = v * me._nodes_category_title_1.userData.opacity
			me._nodes_category_title_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_category_title_1.children.length; i++) {
				let child = me._nodes_category_title_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_category_title_1 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 480;
		canvas.height = 76;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._nodes_category_title_1.userData.totalHeightCanv = 2 * (3);
			me._nodes_category_title_1.userData.textLines = [];
			var ctx = me._nodes_category_title_1.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._nodes_category_title_1.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._nodes_category_title_1.userData.textLines.push(line);
					line = '';
					me._nodes_category_title_1.userData.totalHeightCanv += me._nodes_category_title_1.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._nodes_category_title_1.userData.width - 24 - (scrollbar ? 25 : 0))) && i > 0) {
					me._nodes_category_title_1.userData.textLines.push(line);
					line = words[i];
					me._nodes_category_title_1.userData.totalHeightCanv += me._nodes_category_title_1.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._nodes_category_title_1.userData.textLines.push(line);
			me._nodes_category_title_1.userData.totalHeightCanv += me._nodes_category_title_1.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._nodes_category_title_1.userData.textCanvas;
			var ctx = me._nodes_category_title_1.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._nodes_category_title_1.userData.textColor.r * 255 + ', ' + me._nodes_category_title_1.userData.textColor.g * 255 + ', ' + me._nodes_category_title_1.userData.textColor.b * 255 + ', ' + me._nodes_category_title_1.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 12;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y -= me._nodes_category_title_1.userData.scrollPosPercent * me._nodes_category_title_1.userData.totalHeightCanv;
			y += (canv.height - me._nodes_category_title_1.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._nodes_category_title_1.userData.textLines.length; i++) {
				ctx.fillText(me._nodes_category_title_1.userData.textLines[i], x, y);
				y += me._nodes_category_title_1.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'nodes_category_title_1_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._nodes_category_title_1.material.map) {
				me._nodes_category_title_1.material.map.dispose();
			}
			me._nodes_category_title_1.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._nodes_category_title_1.children.length; i++) {
				let child = me._nodes_category_title_1.children[i];
				if (child.name.includes('scrollbar')) me._nodes_category_title_1.remove(child);
			}
			var canv = me._nodes_category_title_1.userData.textCanvas;
			var ctx = me._nodes_category_title_1.userData.textCanvasContext;
			ctx.font = '400 30px Verdana';
			me._nodes_category_title_1.userData.lineHeightCanv = 30 * 1.2;
			me._nodes_category_title_1.userData.ggWrapText(false);
			me._nodes_category_title_1.userData.boxWidthCanv = 2 * me._nodes_category_title_1.userData.width;
			me._nodes_category_title_1.userData.boxHeightCanv = 2 * me._nodes_category_title_1.userData.height;
			me._nodes_category_title_1.userData.scrollPosPercent = 0.0
			if (me._nodes_category_title_1.userData.totalHeightCanv > (2 * (me._nodes_category_title_1.userData.height))) {
				me._nodes_category_title_1.userData.ggWrapText(true);
				me._nodes_category_title_1.userData.pagePercent = (2 * (me._nodes_category_title_1.userData.height) - me._nodes_category_title_1.userData.lineHeightCanv) / me._nodes_category_title_1.userData.totalHeightCanv;
				me._nodes_category_title_1.userData.maxScrollPercent = (me._nodes_category_title_1.userData.totalHeightCanv - (2 * (me._nodes_category_title_1.userData.height))) / me._nodes_category_title_1.userData.totalHeightCanv;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._nodes_category_title_1.userData.height / 100.0, 5, 5 );
				geometry.name = 'nodes_category_title_1_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'nodes_category_title_1_scrollbarBgMaterial';
				me._nodes_category_title_1.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._nodes_category_title_1.userData.scrollbarBg.name = 'nodes_category_title_1_scrollbarBg';
				me._nodes_category_title_1.add(me._nodes_category_title_1.userData.scrollbarBg);
				me._nodes_category_title_1.userData.scrollbarXPos = (me._nodes_category_title_1.userData.width - 25) / 200.0;
				me._nodes_category_title_1.userData.scrollbarBg.position.x = me._nodes_category_title_1.userData.scrollbarXPos;
				me._nodes_category_title_1.userData.scrollbarBg.position.z = me._nodes_category_title_1.position.z + 0.01;
				me._nodes_category_title_1.userData.scrollbarBg.userData.stopPropagation = true;
				me._nodes_category_title_1.userData.scrollbarHeight = ((2 * me._nodes_category_title_1.userData.height) / me._nodes_category_title_1.userData.totalHeightCanv) * me._nodes_category_title_1.userData.height;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._nodes_category_title_1.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'nodes_category_title_1_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'nodes_category_title_1_scrollbarMaterial';
				me._nodes_category_title_1.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._nodes_category_title_1.userData.scrollbar.name = 'nodes_category_title_1_scrollbar';
				me._nodes_category_title_1.add(me._nodes_category_title_1.userData.scrollbar);
				me._nodes_category_title_1.userData.scrollbar.position.x = me._nodes_category_title_1.userData.scrollbarXPos;
				me._nodes_category_title_1.userData.scrollbar.position.z = me._nodes_category_title_1.position.z + 0.02;
				me._nodes_category_title_1.userData.scrollbarYPosMin = (me._nodes_category_title_1.userData.height - me._nodes_category_title_1.userData.scrollbarHeight) / 200.0;
				me._nodes_category_title_1.userData.scrollbarYPosMax = me._nodes_category_title_1.userData.scrollbarYPosMin - (me._nodes_category_title_1.userData.height - me._nodes_category_title_1.userData.scrollbarHeight) / 100.0;
				me._nodes_category_title_1.userData.scrollbar.position.y = me._nodes_category_title_1.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._nodes_category_title_1.userData.height / 200.0, 5, 5 );
				geometry.name = 'nodes_category_title_1_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'nodes_category_title_1_scrollbarPageDownMaterial';
				me._nodes_category_title_1.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._nodes_category_title_1.userData.scrollbarPageDown.name = 'nodes_category_title_1_scrollbarPageDown';
				me._nodes_category_title_1.userData.scrollbarPageDown.userData.onclick = function() {
					me._nodes_category_title_1.userData.scrollPosPercent -= me._nodes_category_title_1.userData.pagePercent;
					me._nodes_category_title_1.userData.scrollPosPercent = Math.max(me._nodes_category_title_1.userData.scrollPosPercent, 0);
					me._nodes_category_title_1.userData.ggPaintCanvasText();
					me._nodes_category_title_1.userData.scrollbar.position.y += (me._nodes_category_title_1.userData.height * me._nodes_category_title_1.userData.pagePercent) / 100.0;
					me._nodes_category_title_1.userData.scrollbar.position.y = Math.min(me._nodes_category_title_1.userData.scrollbar.position.y, me._nodes_category_title_1.userData.scrollbarYPosMin);
				}
				me._nodes_category_title_1.userData.scrollbarPageDown.position.x = me._nodes_category_title_1.userData.scrollbarXPos;
				me._nodes_category_title_1.userData.scrollbarPageDown.position.y = me._nodes_category_title_1.userData.height / 400.0;
				me._nodes_category_title_1.userData.scrollbarPageDown.position.z = me._nodes_category_title_1.position.z + 0.05;
				me._nodes_category_title_1.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._nodes_category_title_1.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._nodes_category_title_1.userData.scrollbarPageDown.visible = false;
				me._nodes_category_title_1.add(me._nodes_category_title_1.userData.scrollbarPageDown);
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._nodes_category_title_1.userData.height / 200.0, 5, 5 );
				geometry.name = 'nodes_category_title_1_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'nodes_category_title_1_scrollbarPageUpMaterial';
				me._nodes_category_title_1.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._nodes_category_title_1.userData.scrollbarPageUp.name = 'nodes_category_title_1_scrollbarPageUp';
				me._nodes_category_title_1.userData.scrollbarPageUp.userData.onclick = function() {
					me._nodes_category_title_1.userData.scrollPosPercent += me._nodes_category_title_1.userData.pagePercent;
					me._nodes_category_title_1.userData.scrollPosPercent = Math.min(me._nodes_category_title_1.userData.scrollPosPercent, me._nodes_category_title_1.userData.maxScrollPercent);
					me._nodes_category_title_1.userData.ggPaintCanvasText();
					me._nodes_category_title_1.userData.scrollbar.position.y -= (me._nodes_category_title_1.userData.height * me._nodes_category_title_1.userData.pagePercent) / 100.0;
					me._nodes_category_title_1.userData.scrollbar.position.y = Math.max(me._nodes_category_title_1.userData.scrollbar.position.y, me._nodes_category_title_1.userData.scrollbarYPosMax);
				}
				me._nodes_category_title_1.userData.scrollbarPageUp.position.x = me._nodes_category_title_1.userData.scrollbarXPos;
				me._nodes_category_title_1.userData.scrollbarPageUp.position.y = -me._nodes_category_title_1.userData.height / 400.0;
				me._nodes_category_title_1.userData.scrollbarPageUp.position.z = me._nodes_category_title_1.position.z + 0.05;
				me._nodes_category_title_1.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._nodes_category_title_1.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._nodes_category_title_1.userData.scrollbarPageUp.visible = false;
				me._nodes_category_title_1.add(me._nodes_category_title_1.userData.scrollbarPageUp);
				me._nodes_category_title_1.userData.hasScrollbar = true;
			} else {
				me._nodes_category_title_1.userData.hasScrollbar = false;
			}
			canv.width = me._nodes_category_title_1.userData.boxWidthCanv;
			canv.height = me._nodes_category_title_1.userData.boxHeightCanv;
			ctx.font = '400 30px Verdana';
			me._nodes_category_title_1.userData.ggPaintCanvasText();
		}
		me._nodes_category_title_1.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("$(ctitle)", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._nodes_category_title_1.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._nodes_category_title_1.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._nodes_category_title_1.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._nodes_category_title_1.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._nodes_category_title_1.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._nodes_category_title_1.userData.textColorAlpha = v;
		}
		el.userData.ggId="nodes_category_title_1";
		me._nodes_category_title_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._nodes_category_bg_1.add(me._nodes_category_title_1);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'nodes_back_1_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABQUlEQVR4nO3aLU4DURTF8f9FEAQOVYkiIcHhCUtBsw40C8CzDQIbQIwBVYkg3QDmIOikCV99UzL3lXnn55qmmXvO9E3TlwdmZmZm1qaodWFJu8DZ8uV9RLzVmiWdpJmkTiudpIPac6VYhn/SV1c15tnJvJikGXAHHH3z9mHmLOl+ufO9i9ozjqYg/I2kag/kURWGT12KaRze4R3e4R3e4R3e4WvPOQqHd/hphB/0D0zSMfAA/LR7MwceAf1xrk0IeAauI2JR+qHiAiTtA6/A3vDZUnXAaeke45Cv6iXbHx7ghNVm61r/Zq2Opfkl0PxDcPhVJvYzuBGXgEsAXALgEgCXALgEwCUALgFwCYBLAFwC4BKAxg9I9ApKmO4Rmd6aEm5rzJS69iLiBTjnY+'+
	'Pis3nmLFVpiw5K+qismZmZmTXqHYhk8nW1YW1WAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'nodes_back_1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.94);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_back_1';
		el.userData.x = -0.94;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._nodes_back_1.material) me._nodes_back_1.material.opacity = v;
			me._nodes_back_1.visible = (v>0 && me._nodes_back_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._nodes_back_1.visible
			let parentEl = me._nodes_back_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_back_1.userData.opacity = v;
			v = v * me._nodes_back_1.userData.parentOpacity;
			me._nodes_back_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_back_1.children.length; i++) {
				let child = me._nodes_back_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_back_1.userData.parentOpacity = v;
			v = v * me._nodes_back_1.userData.opacity
			me._nodes_back_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_back_1.children.length; i++) {
				let child = me._nodes_back_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_back_1 = el;
		el.userData.ggId="nodes_back_1";
		me._nodes_back_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._nodes_category_bg_1.add(me._nodes_back_1);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'nodes_back_hover_1_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABQUlEQVR4nO3aLU4DURTF8f9FEAQOVYkiIcHhCUtBsw40C8CzDQIbQIwBVYkg3QDmIOikCV99UzL3lXnn55qmmXvO9E3TlwdmZmZm1qaodWFJu8DZ8uV9RLzVmiWdpJmkTiudpIPac6VYhn/SV1c15tnJvJikGXAHHH3z9mHmLOl+ufO9i9ozjqYg/I2kag/kURWGT12KaRze4R3e4R3e4R3e4WvPOQqHd/hphB/0D0zSMfAA/LR7MwceAf1xrk0IeAauI2JR+qHiAiTtA6/A3vDZUnXAaeke45Cv6iXbHx7ghNVm61r/Zq2Opfkl0PxDcPhVJvYzuBGXgEsAXALgEgCXALgEwCUALgFwCYBLAFwC4BKAxg9I9ApKmO4Rmd6aEm5rzJS69iLiBTjnY+'+
	'Pis3nmLFVpiw5K+qismZmZmTXqHYhk8nW1YW1WAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'nodes_back_hover_1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.94);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'nodes_back_hover_1';
		el.userData.x = -0.94;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._nodes_back_hover_1.material) me._nodes_back_hover_1.material.opacity = v;
			me._nodes_back_hover_1.visible = (v>0 && me._nodes_back_hover_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._nodes_back_hover_1.visible
			let parentEl = me._nodes_back_hover_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._nodes_back_hover_1.userData.opacity = v;
			v = v * me._nodes_back_hover_1.userData.parentOpacity;
			me._nodes_back_hover_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_back_hover_1.children.length; i++) {
				let child = me._nodes_back_hover_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._nodes_back_hover_1.userData.parentOpacity = v;
			v = v * me._nodes_back_hover_1.userData.opacity
			me._nodes_back_hover_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._nodes_back_hover_1.children.length; i++) {
				let child = me._nodes_back_hover_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._nodes_back_hover_1 = el;
		el.userData.ggId="nodes_back_hover_1";
		me._nodes_back_hover_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['nodes_category_bg_1'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._nodes_back_hover_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._nodes_back_hover_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._nodes_back_hover_1.ggCurrentLogicStateVisible == 0) {
			me._nodes_back_hover_1.visible=((!me._nodes_back_hover_1.material && Number(me._nodes_back_hover_1.userData.opacity>0)) || Number(me._nodes_back_hover_1.material.opacity)>0)?true:false;
			me._nodes_back_hover_1.userData.visible=true;
				}
				else {
			me._nodes_back_hover_1.visible=false;
			me._nodes_back_hover_1.userData.visible=false;
				}
			}
		}
		me._nodes_back_hover_1.logicBlock_visible();
		me._nodes_back_hover_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._nodes_category_bg_1.add(me._nodes_back_hover_1);
		me._nodes_1.add(me._nodes_category_bg_1);
		me._thumbnail_cate_menu.add(me._nodes_1);
		el.translateX(0.84248);
		el.translateY(-0.14);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 302.496;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'categories_scroller_1';
		el.userData.x = 0.84248;
		el.userData.y = -0.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._categories_scroller_1.material) me._categories_scroller_1.material.opacity = v;
			me._categories_scroller_1.visible = (v>0 && me._categories_scroller_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._categories_scroller_1.visible
			let parentEl = me._categories_scroller_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._categories_scroller_1.userData.opacity = v;
			v = v * me._categories_scroller_1.userData.parentOpacity;
			me._categories_scroller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._categories_scroller_1.children.length; i++) {
				let child = me._categories_scroller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._categories_scroller_1.userData.parentOpacity = v;
			v = v * me._categories_scroller_1.userData.opacity
			me._categories_scroller_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._categories_scroller_1.children.length; i++) {
				let child = me._categories_scroller_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._categories_scroller_1 = el;
		el.userData.ggId="categories_scroller_1";
		me._categories_scroller_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbs_categories') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._categories_scroller_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._categories_scroller_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._categories_scroller_1.ggCurrentLogicStateVisible == 0) {
			me._categories_scroller_1.visible=((!me._categories_scroller_1.material && Number(me._categories_scroller_1.userData.opacity>0)) || Number(me._categories_scroller_1.material.opacity)>0)?true:false;
			me._categories_scroller_1.userData.visible=true;
				}
				else {
			me._categories_scroller_1.visible=false;
			me._categories_scroller_1.userData.visible=false;
				}
			}
		}
		me._categories_scroller_1.logicBlock_visible();
		me._categories_scroller_1.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(2.75);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 302.496;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'categories_cloner_1';
		el.userData.x = 0;
		el.userData.y = 2.75;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._categories_cloner_1.material) me._categories_cloner_1.material.opacity = v;
			me._categories_cloner_1.visible = (v>0 && me._categories_cloner_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._categories_cloner_1.visible
			let parentEl = me._categories_cloner_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._categories_cloner_1.userData.opacity = v;
			v = v * me._categories_cloner_1.userData.parentOpacity;
			me._categories_cloner_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._categories_cloner_1.children.length; i++) {
				let child = me._categories_cloner_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._categories_cloner_1.userData.parentOpacity = v;
			v = v * me._categories_cloner_1.userData.opacity
			me._categories_cloner_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._categories_cloner_1.children.length; i++) {
				let child = me._categories_cloner_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._categories_cloner_1 = el;
		el.userData.ggNumRepeat = 1;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._categories_cloner_1.userData.ggUpdating == true) return;
			me._categories_cloner_1.userData.ggUpdating = true;
			var el=me._categories_cloner_1;
			var curNumCols = 0;
			curNumCols = me._categories_cloner_1.userData.ggNumRepeat;
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._categories_cloner_1.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._categories_cloner_1.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._categories_cloner_1.userData.ggNumFilterPassed = 0;
			var firstNode;
			for (var i = 0; i < el.userData.ggTagTable.length; i++) {
				var cItem = el.userData.ggTagTable[i];
				firstNode = '';
				cItem.nodecount = 0;
				for (var j=0; j < tourNodes.length; j++) {
					var nodeData = player.getNodeUserdata(tourNodes[j]);
					if ((nodeData['tags'].indexOf(cItem.tag) != -1) || (cItem.tag=='')) {
						var passed = true;
						if (filter.length > 0) {
							for (var k=0; k < filter.length; k++) {
								if (nodeData['tags'].indexOf(filter[k].trim()) == -1) passed = false;
							}
						}
						if (passed) {
							cItem.nodecount++;
							if (firstNode == '') firstNode = tourNodes[j];
						}
					}
				}
				cItem.firstnode=firstNode;
				if (cItem.nodecount == 0) continue;
				me._categories_cloner_1.userData.ggNumFilterPassed++;
				var nodeId = {};
				nodeId['tag'] = cItem.tag;
				nodeId['title'] = cItem.title;
				nodeId['description'] = cItem.description;
				nodeId['nodecount'] = cItem.nodecount;
				nodeId['firstnode'] = cItem.firstnode;
				if (!keepCloning || i < me._categories_cloner_1.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._categories_cloner_1.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._categories_cloner_1.userData.width) / 100.0;
				parameter.index=currentIndex;
				var inst = new SkinCloner_categories_cloner_1_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._categories_cloner_1, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._categories_cloner_1.userData.ggNodeCount = me._categories_cloner_1.userData.ggNumFilterPassed;
			me._categories_cloner_1.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggTagTable = [
			];
		el.userData.ggId="categories_cloner_1";
		me._categories_cloner_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._categories_scroller_1.add(me._categories_cloner_1);
		me._thumbnail_cate_menu.add(me._categories_scroller_1);
		geometry = new THREE.PlaneGeometry(0.27, 0.27, 5, 5 );
		geometry.name = 'btn_close_cate_menu_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAA/UlEQVRoge2ZUQqDMBBEQ6En7H28jj/SC/jZg01/NiBVG1c3zW46D0RQyMzToGJSIoQQQgghvwTAHcAAYJb9vYesJAFLphqBIjV9ZA3WOcvAGWtM5XakAGDWjHNT5r42jj1SSqOFnIwxyphHsm34cjUv37maYzcr0FyqRhE3UpaF3ElZFHMrdaWge6mMpmgYqcyRwuGkMoXiT9liSWUKcjGlMgq5OFIZkdubepBz1aS0H8H/TZdTUSEVR64gFfNxX5CK+YLWFA4jd6aoe7krBd3KWRRzJ2dZyI1cjSLN5WoWaCqH9S9u0+CCHH9xnwntdlGiz2UkQgghhBCyxRt1ItXP58LplQAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_close_cate_menu_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.665);
		el.translateY(2.765);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 27;
		el.userData.height = 27;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_close_cate_menu';
		el.userData.x = 0.665;
		el.userData.y = 2.765;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_close_cate_menu.material) me._btn_close_cate_menu.material.opacity = v;
			me._btn_close_cate_menu.visible = (v>0 && me._btn_close_cate_menu.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_close_cate_menu.visible
			let parentEl = me._btn_close_cate_menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_close_cate_menu.userData.opacity = v;
			v = v * me._btn_close_cate_menu.userData.parentOpacity;
			me._btn_close_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_cate_menu.children.length; i++) {
				let child = me._btn_close_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_close_cate_menu.userData.parentOpacity = v;
			v = v * me._btn_close_cate_menu.userData.opacity
			me._btn_close_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_cate_menu.children.length; i++) {
				let child = me._btn_close_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_close_cate_menu = el;
		el.userData.ggId="btn_close_cate_menu";
		me._btn_close_cate_menu.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbs', false);
		}
		me._btn_close_cate_menu.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_cate_menu.add(me._btn_close_cate_menu);
		me._menu_no_image.add(me._thumbnail_cate_menu);
		width = 0.5;
		height = 0.5;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'bg_toggle_cate_menu_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.0196078, 0.54902, 0.321569).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'bg_toggle_cate_menu_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._bg_toggle_cate_menu.material.opacity = v * me._bg_toggle_cate_menu.userData.backgroundColorAlpha;
			if (me._bg_toggle_cate_menu.userData.ggSubElement) {
				me._bg_toggle_cate_menu.userData.ggSubElement.material.opacity = v
				me._bg_toggle_cate_menu.userData.ggSubElement.visible = (v>0 && me._bg_toggle_cate_menu.userData.visible);
			}
			me._bg_toggle_cate_menu.visible = (v>0 && me._bg_toggle_cate_menu.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._bg_toggle_cate_menu.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._bg_toggle_cate_menu.userData.backgroundColorAlpha = v;
			me._bg_toggle_cate_menu.userData.setOpacity(me._bg_toggle_cate_menu.userData.opacity);
		}
		el.translateX(-0.45);
		el.translateY(2.55);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'bg_toggle_cate_menu';
		el.userData.x = -0.45;
		el.userData.y = 2.55;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._bg_toggle_cate_menu.visible
			let parentEl = me._bg_toggle_cate_menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._bg_toggle_cate_menu.userData.opacity = v;
			v = v * me._bg_toggle_cate_menu.userData.parentOpacity;
			me._bg_toggle_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_toggle_cate_menu.children.length; i++) {
				let child = me._bg_toggle_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._bg_toggle_cate_menu.userData.parentOpacity = v;
			v = v * me._bg_toggle_cate_menu.userData.opacity
			me._bg_toggle_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_toggle_cate_menu.children.length; i++) {
				let child = me._bg_toggle_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._bg_toggle_cate_menu = el;
		el.userData.ggId="bg_toggle_cate_menu";
		me._bg_toggle_cate_menu.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbs') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._bg_toggle_cate_menu.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._bg_toggle_cate_menu.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._bg_toggle_cate_menu.ggCurrentLogicStateVisible == 0) {
			me._bg_toggle_cate_menu.visible=false;
			me._bg_toggle_cate_menu.userData.visible=false;
				}
				else {
			me._bg_toggle_cate_menu.visible=((!me._bg_toggle_cate_menu.material && Number(me._bg_toggle_cate_menu.userData.opacity>0)) || Number(me._bg_toggle_cate_menu.material.opacity)>0)?true:false;
			me._bg_toggle_cate_menu.userData.visible=true;
				}
			}
		}
		me._bg_toggle_cate_menu.logicBlock_visible();
		me._bg_toggle_cate_menu.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbs', true);
			player.setVariableValue('controls_left_open', false);
		}
		me._bg_toggle_cate_menu.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.24, 0.24, 5, 5 );
		geometry.name = 'toggle_cate_menu_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAb0lEQVRoge3WsQ2AIBhE4YetkzgL8zKLk1BjQWIMEkvA5H3lheL+0BxIkqR5QhuUUg4gAvv4Op8ykEII5zPcOg9XLA+1U2zD3gG/0jsgUb9rNZnaTZKkm1toILfQbG4hSdKLW2ggt9BsbiFJkpZzASyjHhbUkj4eAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'toggle_cate_menu_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 24;
		el.userData.height = 24;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'toggle_cate_menu';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._toggle_cate_menu.material) me._toggle_cate_menu.material.opacity = v;
			me._toggle_cate_menu.visible = (v>0 && me._toggle_cate_menu.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._toggle_cate_menu.visible
			let parentEl = me._toggle_cate_menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._toggle_cate_menu.userData.opacity = v;
			v = v * me._toggle_cate_menu.userData.parentOpacity;
			me._toggle_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_cate_menu.children.length; i++) {
				let child = me._toggle_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._toggle_cate_menu.userData.parentOpacity = v;
			v = v * me._toggle_cate_menu.userData.opacity
			me._toggle_cate_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_cate_menu.children.length; i++) {
				let child = me._toggle_cate_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._toggle_cate_menu = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAbUlEQVRoge3Wuw2AMBAE0T2KgL7cBaXbTSwBCUIgQMKfYF7oaM/RSAAAYCC2k+3s8WTb6bw3Lg7IkuYmv/VdiYjl+DD1WvKXqwNWSaX1kBeK9m0AANwzLVQVLdQTLQQAeGZaqCpaqCdaCACA4WzHfvCfEfuE7AAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'toggle_cate_menu_materialOver';
		el.userData.ggId="toggle_cate_menu";
		me._toggle_cate_menu.userData.onmouseenter=function (e) {
			me._toggle_cate_menu.material = me._toggle_cate_menu.userData.materialOver;
			me.elementMouseOver['toggle_cate_menu']=true;
		}
		me._toggle_cate_menu.userData.onmouseleave=function (e) {
			me._toggle_cate_menu.material = me._toggle_cate_menu.userData.materialNormal;
			me.elementMouseOver['toggle_cate_menu']=false;
		}
		me._toggle_cate_menu.userData.ggUpdatePosition=function (useTransition) {
		}
		me._bg_toggle_cate_menu.add(me._toggle_cate_menu);
		me._menu_no_image.add(me._bg_toggle_cate_menu);
		me.skinGroup.add(me._menu_no_image);
		width = 4;
		height = 0.47;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.14, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.14, (height / 2.0));
		roundedRectShape.arc(0, -0.14, 0.14, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.14);
		roundedRectShape.arc(-0.14, 0, 0.14, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.14, (-height / 2.0));
		roundedRectShape.arc(0, 0.14, 0.14, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.14);
		roundedRectShape.arc(0.14, 0, 0.14, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'control_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.121569, 0.478431, 0.101961).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'control_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._control.material.opacity = v * me._control.userData.backgroundColorAlpha;
			if (me._control.userData.ggSubElement) {
				me._control.userData.ggSubElement.material.opacity = v
				me._control.userData.ggSubElement.visible = (v>0 && me._control.userData.visible);
			}
			me._control.visible = (v>0 && me._control.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._control.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._control.userData.backgroundColorAlpha = v;
			me._control.userData.setOpacity(me._control.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-2.765);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 400;
		el.userData.height = 47;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'control';
		el.userData.x = 0;
		el.userData.y = -2.765;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._control.visible
			let parentEl = me._control.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._control.userData.opacity = v;
			v = v * me._control.userData.parentOpacity;
			me._control.userData.setOpacityInternal(v);
			for (let i = 0; i < me._control.children.length; i++) {
				let child = me._control.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._control.userData.parentOpacity = v;
			v = v * me._control.userData.opacity
			me._control.userData.setOpacityInternal(v);
			for (let i = 0; i < me._control.children.length; i++) {
				let child = me._control.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._control = el;
		el.userData.ggId="control";
		me._control.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getVariableValue('vis_controls') == false))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._control.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._control.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._control.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._control, 0, -50);
					me._control.position.x = newPos.x;
					me._control.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._control, 0, 0);
					me._control.position.x = elPos.x;
					me._control.position.y = elPos.y;
				}
			}
		}
		me._control.logicBlock_position();
		me._control.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'back_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABJklEQVR4nO3bsU3EQBQG4RUnkRGSmPgqoBcSAkogpxyuAOq5/Fq4lCHACCFkbPR+ewWar4An72hXTnZbkyRJkiRJkiRJ0qaAHbAHrlaaPwDDGrO7G8MdeXcG7oOzL4EDn56BXWp+d2O8E1+dEztxjPfCd3eJb+9uIt6HfXH2VDyAp9QaupmJd6wcs5l4r8Btci2bm4l3quy+BfEekmvZnPEKjFdgvALjFRivwHgFxiswXoHxCoxXYLwC4xUA12vFG+cfJmb//XittQY8TiyQQLzhh9nd4130/gA1j3AE/kTqjBhgxAAjBhgxwIgBRgwwYoARA4wYYMQAIwYYMWAmotfblpiJ6AXLJSYiesX3N/CSeR3rP3O44b8+c5AkSZIkSZIkSVrRG2dqeNjEnp'+
	'iLAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'back_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-1.77);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'back_icon';
		el.userData.x = -1.77;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._back_icon.material) me._back_icon.material.opacity = v;
			me._back_icon.visible = (v>0 && me._back_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._back_icon.visible
			let parentEl = me._back_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._back_icon.userData.opacity = v;
			v = v * me._back_icon.userData.parentOpacity;
			me._back_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._back_icon.children.length; i++) {
				let child = me._back_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._back_icon.userData.parentOpacity = v;
			v = v * me._back_icon.userData.opacity
			me._back_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._back_icon.children.length; i++) {
				let child = me._back_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._back_icon = el;
		el.userData.ggId="back_icon";
		me._back_icon.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['back_icon'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._back_icon.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._back_icon.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._back_icon.ggCurrentLogicStateScaling == 0) {
					me._back_icon.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._back_icon.position.x = (me._back_icon.position.x - me._back_icon.userData.curScaleOffX) + scaleOffX;
					me._back_icon.userData.curScaleOffX = scaleOffX;
					me._back_icon.position.y = (me._back_icon.position.y - me._back_icon.userData.curScaleOffY) + scaleOffY;
					me._back_icon.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._back_icon.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._back_icon.position.x = (me._back_icon.position.x - me._back_icon.userData.curScaleOffX) + scaleOffX;
					me._back_icon.userData.curScaleOffX = scaleOffX;
					me._back_icon.position.y = (me._back_icon.position.y - me._back_icon.userData.curScaleOffY) + scaleOffY;
					me._back_icon.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._back_icon.logicBlock_scaling();
		me._back_icon.userData.onclick=function (e) {
			player.openNext("{"+player.getPrevNode()+"}","");
		}
		me._back_icon.userData.onmouseenter=function (e) {
			me.elementMouseOver['back_icon']=true;
			me._back_icon.logicBlock_scaling();
		}
		me._back_icon.userData.ontouchend=function (e) {
			me._back_icon.logicBlock_scaling();
		}
		me._back_icon.userData.onmouseleave=function (e) {
			me.elementMouseOver['back_icon']=false;
			me._back_icon.logicBlock_scaling();
		}
		me._back_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._control.add(me._back_icon);
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'forward_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABFUlEQVR4nO3bsW3CUBhFYRQkupQ0UHsCdkmTIiPQZ5wwAPPQswItJ82TIgWIie5vGZnzDXAFRxgk/DybSZIkSZIkSZIk6V+AFbAaaPsV6ID5EPujAubAFz92wKJw/x04te0D0FVtPwTgjUv7iojtk3f6tX2cVETg80rAkojtsr1mOhGBDXAeImL7ejg8Q8SPASN2LZYRg20jGvFORixgxAJGLGDEAkYsYMQCRixgxAJGLGDEAj0Rd+F2X8Rl1fsYVYt4S3R7gNv/JQJsK17/S8WIRuIlHOiJ54/IX4wXMF7AeAHjBYwXMF7AeAHjBYwXMF7AeAHjBfB4WwYPWGbwiG8GD5nXANb4mIMkSZIkSZIkSdLkfAO9WHjYeImHygAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'forward_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.8);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'forward_icon';
		el.userData.x = 1.8;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._forward_icon.material) me._forward_icon.material.opacity = v;
			me._forward_icon.visible = (v>0 && me._forward_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._forward_icon.visible
			let parentEl = me._forward_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._forward_icon.userData.opacity = v;
			v = v * me._forward_icon.userData.parentOpacity;
			me._forward_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._forward_icon.children.length; i++) {
				let child = me._forward_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._forward_icon.userData.parentOpacity = v;
			v = v * me._forward_icon.userData.opacity
			me._forward_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._forward_icon.children.length; i++) {
				let child = me._forward_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._forward_icon = el;
		el.userData.ggId="forward_icon";
		me._forward_icon.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['forward_icon'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._forward_icon.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._forward_icon.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._forward_icon.ggCurrentLogicStateScaling == 0) {
					me._forward_icon.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._forward_icon.position.x = (me._forward_icon.position.x - me._forward_icon.userData.curScaleOffX) + scaleOffX;
					me._forward_icon.userData.curScaleOffX = scaleOffX;
					me._forward_icon.position.y = (me._forward_icon.position.y - me._forward_icon.userData.curScaleOffY) + scaleOffY;
					me._forward_icon.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._forward_icon.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._forward_icon.position.x = (me._forward_icon.position.x - me._forward_icon.userData.curScaleOffX) + scaleOffX;
					me._forward_icon.userData.curScaleOffX = scaleOffX;
					me._forward_icon.position.y = (me._forward_icon.position.y - me._forward_icon.userData.curScaleOffY) + scaleOffY;
					me._forward_icon.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._forward_icon.logicBlock_scaling();
		me._forward_icon.userData.onclick=function (e) {
			player.openNext("{"+player.getNextNode()+"}","");
		}
		me._forward_icon.userData.onmouseenter=function (e) {
			me.elementMouseOver['forward_icon']=true;
			me._forward_icon.logicBlock_scaling();
		}
		me._forward_icon.userData.ontouchend=function (e) {
			me._forward_icon.logicBlock_scaling();
		}
		me._forward_icon.userData.onmouseleave=function (e) {
			me.elementMouseOver['forward_icon']=false;
			me._forward_icon.logicBlock_scaling();
		}
		me._forward_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._control.add(me._forward_icon);
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'btn_vr_mode_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAFWklEQVR4nO2bXailVRnHf882NadkpA9L/AIVhWSEGT8gCBpBU8I+LwQvBhSl0TGTqMHJujCC7CJGay60C3PAjwuzDEmMInL8qAvHsXEudHBqTGEqHCpxZsxRz6+L/e5h7e0+5+x3ve/e7zmwfnBgn7XX86z/+Z/1fqwvKBQKhUKhUCgUCoVCoVAoFAqFwkTEuEL1eGAd8BVgNfDRWYpaQrwL/A34A3BPRDw3WuF9BqrrgM3Ax6Yub/nxEHBjROwfFBwxUO0BPwG+3oGw5cTfgUsiYg8MG3g7sCmpeBj4NfA08C9gboYilwrHAucAXwXOTcpfAc6PiH8DoK51mKfV02Yud4mihnqdejjxaGv65fbki53qim4lL03U9YlPc+pZqGtGet/FXQtdqqg9dW'+
	'/i1aYecFlSZx/wRDfylj4RMQc8lRRd0KN/kxywKyKcraxlx6Hk88oe8OGk4MCMxSxH0kHFJ3udyVi+pIOP3cXAhhQDG9KKgdW75JXq4+oe9VV1l3qv+qk22mig7Qvqb9SXp6JLfTh5r3k4I/569U0XZrd67uLZ2kO9Sv1P27pG/crugepR6h+Buxh+ko/jbOAF9abc9mroCvUR4EHghGnr+kBuIPBn4MIa9XvAT1UiYkuDdhfjd8AlNeo30pXVA9U7qGdeyp3TupzV71PPvJQsXbUNVE8EvlE3bqTNXzWIH4t6AvDdBimydOX0wM2ZcSlnT+HpvBk4qmGO2rpyjLg8I2YcG1vKM+CKlvLU0pVj4EcyYsZxQUt5BrS18FVLV46BY1fyMljZUp4BbY2qaunqcij3dodtL0QtXTkGHsyIGcfLLeUZcGjxKhNRS1eOgc9m'+
	'xIxja0t5BvylpTxb61TOMfBbGTGjHAB+0UKelFtbyFFbV20DI2IH8GTduBE2tr10EBHbgB0N09TWlfsQ+TzwRmbsExFxd2bsYlxK/r0wS1eWgRFxEFhFfROfJX+suijVToHzqW9itq7s15iIeA04BXhmgupzwJ0RcVFEvLdQxWo66tPqbeoD1c9t6oXqou+gEfEScCqTXc4T61pIcKMJ1SrHReo29UCSa07dr95fTUBMkmetumOBCdA/qatr6Pqs+ox6sImukZzDfrVhYFOqXve9BYxLOaxe04XOSuuQX00mVNvkm8APRspeBXbSv82sAU6qyo8Gfq6+ExH3z07iPHTdA9Uz1LcTDfvVL5rc7+wvH6xX/5fUO6Se0YHedtZEWmQTcEzy++UR8Wj6PhYR70XEz4Ark3rHAbfMSOO8dGqgejJwdVJ0X0Rsn69+RDwKPJ'+
	'YUXV3l6Iyue+C36d/TAAR+OEHMxqou9HtuG0PLbDozUP048LWk6JfVO9yCRMSLDK9drFc72xDfZQ+8GUh3wk7S+wbcnnxeUeXqhB7DW9oWWyBvBXUlw6cBHo+I5yeNr85r/DYpuqnKOQuGtgP2gN1JwSonGC61wAaGp87r9L5xMSuBGxopmoDKm1VJ0Usz3yOtHqv+M2lvW4NcTyZ5/mv/hNXUUC8e8WrNzHfpqxtHRGQvR6qfG8l177SuIHVF5c2A7UfacgbnRKp/1LXqu0k7j7SQ974R7Xepx7WhOWnjtMqTlLUwm5NKHwTOBL5E/+DigIPAqojYm5kXOPJA2gmcnhTvAx4AdgFvZabuAZ8APgN8meHR0o8i4jujQnrqFmfDP9Q1mX/Y+6h6yPMz0r7F/rnCecWsU1+fooDH1NPnFZBv4ofUux0+jtUmr9s/yTqR'+
	'mOPVDerv7c+ONOEd9a/qPep5bRs3Rvup6o/VF21u5n77Hmxwyk/4QqFQKBQKhUKhUCgUCoXCJPwfsbicnj/VfU4AAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_vr_mode_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.55);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_vr_mode';
		el.userData.x = -0.55;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_vr_mode.material) me._btn_vr_mode.material.opacity = v;
			me._btn_vr_mode.visible = (v>0 && me._btn_vr_mode.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_vr_mode.visible
			let parentEl = me._btn_vr_mode.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_vr_mode.userData.opacity = v;
			v = v * me._btn_vr_mode.userData.parentOpacity;
			me._btn_vr_mode.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_vr_mode.children.length; i++) {
				let child = me._btn_vr_mode.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_vr_mode.userData.parentOpacity = v;
			v = v * me._btn_vr_mode.userData.opacity
			me._btn_vr_mode.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_vr_mode.children.length; i++) {
				let child = me._btn_vr_mode.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_vr_mode = el;
		el.userData.ggId="btn_vr_mode";
		me._btn_vr_mode.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_vr_mode'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_vr_mode.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_vr_mode.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_vr_mode.ggCurrentLogicStateScaling == 0) {
					me._btn_vr_mode.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_vr_mode.position.x = (me._btn_vr_mode.position.x - me._btn_vr_mode.userData.curScaleOffX) + scaleOffX;
					me._btn_vr_mode.userData.curScaleOffX = scaleOffX;
					me._btn_vr_mode.position.y = (me._btn_vr_mode.position.y - me._btn_vr_mode.userData.curScaleOffY) + scaleOffY;
					me._btn_vr_mode.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_vr_mode.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_vr_mode.position.x = (me._btn_vr_mode.position.x - me._btn_vr_mode.userData.curScaleOffX) + scaleOffX;
					me._btn_vr_mode.userData.curScaleOffX = scaleOffX;
					me._btn_vr_mode.position.y = (me._btn_vr_mode.position.y - me._btn_vr_mode.userData.curScaleOffY) + scaleOffY;
					me._btn_vr_mode.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_vr_mode.logicBlock_scaling();
		me._btn_vr_mode.userData.onclick=function (e) {
			player.enterVR();
		}
		me._btn_vr_mode.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_vr_mode']=true;
			me._btn_vr_mode.logicBlock_scaling();
		}
		me._btn_vr_mode.userData.ontouchend=function (e) {
			me._btn_vr_mode.logicBlock_scaling();
		}
		me._btn_vr_mode.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_vr_mode']=false;
			me._btn_vr_mode.logicBlock_scaling();
		}
		me._btn_vr_mode.userData.ggUpdatePosition=function (useTransition) {
		}
		me._control.add(me._btn_vr_mode);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(1);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_fullscreen';
		el.userData.x = 1;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_fullscreen.material) me._btn_fullscreen.material.opacity = v;
			me._btn_fullscreen.visible = (v>0 && me._btn_fullscreen.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_fullscreen.visible
			let parentEl = me._btn_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_fullscreen.userData.opacity = v;
			v = v * me._btn_fullscreen.userData.parentOpacity;
			me._btn_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen.children.length; i++) {
				let child = me._btn_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_fullscreen.userData.parentOpacity = v;
			v = v * me._btn_fullscreen.userData.opacity
			me._btn_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen.children.length; i++) {
				let child = me._btn_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_fullscreen = el;
		el.userData.ggId="btn_fullscreen";
		me._btn_fullscreen.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_fullscreen'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_fullscreen.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_fullscreen.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_fullscreen.ggCurrentLogicStateScaling == 0) {
					me._btn_fullscreen.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_fullscreen.position.x = (me._btn_fullscreen.position.x - me._btn_fullscreen.userData.curScaleOffX) + scaleOffX;
					me._btn_fullscreen.userData.curScaleOffX = scaleOffX;
					me._btn_fullscreen.position.y = (me._btn_fullscreen.position.y - me._btn_fullscreen.userData.curScaleOffY) + scaleOffY;
					me._btn_fullscreen.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_fullscreen.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_fullscreen.position.x = (me._btn_fullscreen.position.x - me._btn_fullscreen.userData.curScaleOffX) + scaleOffX;
					me._btn_fullscreen.userData.curScaleOffX = scaleOffX;
					me._btn_fullscreen.position.y = (me._btn_fullscreen.position.y - me._btn_fullscreen.userData.curScaleOffY) + scaleOffY;
					me._btn_fullscreen.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_fullscreen.logicBlock_scaling();
		me._btn_fullscreen.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('has_fullscreen') == true)) && 
				((player.getVariableValue('opt_fullscreen') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_fullscreen.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_fullscreen.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_fullscreen.ggCurrentLogicStateVisible == 0) {
			me._btn_fullscreen.visible=((!me._btn_fullscreen.material && Number(me._btn_fullscreen.userData.opacity>0)) || Number(me._btn_fullscreen.material.opacity)>0)?true:false;
			me._btn_fullscreen.userData.visible=true;
				}
				else {
			me._btn_fullscreen.visible=((!me._btn_fullscreen.material && Number(me._btn_fullscreen.userData.opacity>0)) || Number(me._btn_fullscreen.material.opacity)>0)?true:false;
			me._btn_fullscreen.userData.visible=true;
				}
			}
		}
		me._btn_fullscreen.logicBlock_visible();
		me._btn_fullscreen.userData.onclick=function (e) {
			player.toggleFullscreen();
		}
		me._btn_fullscreen.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_fullscreen']=true;
			me._btn_fullscreen.logicBlock_scaling();
		}
		me._btn_fullscreen.userData.ontouchend=function (e) {
			me._btn_fullscreen.logicBlock_scaling();
		}
		me._btn_fullscreen.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_fullscreen']=false;
			me._btn_fullscreen.logicBlock_scaling();
		}
		me._btn_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'btn_fullscreen_exit_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAC6UlEQVR4nO2cvW4TQRRGz9CgQEo6BJEQ7ilToCiSKdLkKWhoCC9CkBAFVd4gHW3oUARdGiSEEFIcUYUyP6KIvhSehPzY3hl7Zte7c09naefeO0ezXq/37oBhGIZhGM3gmi5g3pC0CDz3H784546arKdVSFqVdKj/HEpaabquViCpL+lEtzn0q9IYxwR5F6yNG3unzkJTIGlZ0q6kM0kDSRuSpv4ul9QHPgEL6aqcUyT1JB2NWCEbU8arWnndOoUlbY6Z5GCKWCHyTiStZphKM0jaHjfTyDih8vq55tIIKQQWKw9mF1i0PJhNYPHyYHqBJs8zjUCTd4VYgSbvBjECTd4IQgWavDGECDR5E6gSaPIqmCTQ5AVQIbARea37P3ACk/7POwXWnXOfUyftks'+
	'BxZJMH3ReYVR50W2B2edBtgQvATsWF5SbRz1jaJjD3s4lHwHvgdeiAVnUmSPoJ9GpIdeCcexxyYNtW4N2a8jwMPbBtAvdqyvMt9MC2ncIPgH3gXsY0x8AL59zXkINbJRAuJW4Bz4B/wG8gVQfVPvDROfcrUTzDMAzDMLIR9TNGUg94BSwlyr8IPGF4h7EHvHTO/U0UuxaCBUpaBnaA+/nK4QRYapPEmFu5d+SVB8M7jK3MOZISswLPqOfe+dg515qW2hghf7JVcZ3cqzwpMQLfZqviOj9qypOEGIEfgDfAQaZaLvieOX67UFjHwFW2m645hqwXBRXwEks2gSXIg0wCS5EHGQQGyjtNnbcpkgqMkLeeMm8nCLzaXraYdeUqnIRYeX6MCYTp22pNILP1JBcvcBZ5fny5AmeV52OUKTCFPB+nPIGp5PlYZQlMKc/HK0dg'+
	'ank+ZhkCc8jzcbsvUMO9pLK8AaRhQ/coNnPMpXYkLer6RlzJ5Pn4GyPiHUl6mnoujSBpLZc8H995iQMNt3Ha1fDhfTeoEFj2W48hTDiFTV4oklZ0e0PC1abrmicqWztkW2IahmEYhjGXnAMl7WBY0UvDNwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_fullscreen_exit_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.1);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_fullscreen_exit';
		el.userData.x = 0.1;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_fullscreen_exit.material) me._btn_fullscreen_exit.material.opacity = v;
			me._btn_fullscreen_exit.visible = (v>0 && me._btn_fullscreen_exit.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_fullscreen_exit.visible
			let parentEl = me._btn_fullscreen_exit.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_fullscreen_exit.userData.opacity = v;
			v = v * me._btn_fullscreen_exit.userData.parentOpacity;
			me._btn_fullscreen_exit.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen_exit.children.length; i++) {
				let child = me._btn_fullscreen_exit.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_fullscreen_exit.userData.parentOpacity = v;
			v = v * me._btn_fullscreen_exit.userData.opacity
			me._btn_fullscreen_exit.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen_exit.children.length; i++) {
				let child = me._btn_fullscreen_exit.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_fullscreen_exit = el;
		el.userData.ggId="btn_fullscreen_exit";
		me._btn_fullscreen_exit.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getIsFullscreen() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_fullscreen_exit.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_fullscreen_exit.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_fullscreen_exit.ggCurrentLogicStateVisible == 0) {
			me._btn_fullscreen_exit.visible=((!me._btn_fullscreen_exit.material && Number(me._btn_fullscreen_exit.userData.opacity>0)) || Number(me._btn_fullscreen_exit.material.opacity)>0)?true:false;
			me._btn_fullscreen_exit.userData.visible=true;
				}
				else {
			me._btn_fullscreen_exit.visible=false;
			me._btn_fullscreen_exit.userData.visible=false;
				}
			}
		}
		me._btn_fullscreen_exit.logicBlock_visible();
		me._btn_fullscreen_exit.userData.ggUpdatePosition=function (useTransition) {
		}
		me._btn_fullscreen.add(me._btn_fullscreen_exit);
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'btn_fullscreen_enter_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAC/UlEQVR4nO2cP2sUQRiHnxGRmKQJBEWrFAbSpEx5pkiVwu4+g1gJpvIjCJJawQ9gIzbWFppS0lsIdoImdl4SA/qz2AuGIzt7uzezc/PngasG3pl9eJedm3lnoFAoFAqFQhhM6AHMiqRlYAAsOQq5AGwAZ8ArY8x3R3HnD0nbko7kjz+SHtvGEG0GjjPvK7Dquau/wB1jzI+rGq957twnA/zLg8rRQ1tjoZlBXUPMAg+A4576elvXEK1AY8wvYEg/En/WNVzvoXNvGGM+SFoD7tNuGrMJPAVu+BhX0kjakXTScjozrIsX7SvcBUk7wDvgpquY2Qj0IQ8yETilvPMusZMXOKW8U+BZl/hRf4WbaCHvAbDSpY9kM7CNPGPM+679JCmwL3mQoMA+5UFiAv'+
	'uWBwkJDCEPEhEYSh4kIDCkPIhcYGh5ELHAeZAHkQqcF3kQoUCP8kYd2+JB0rqkUcPi58lYctvYy7p6j/lIkqtN+7BI2vch71L87QmJR5K2XT5DUCS99iXvUh9LknbHvzQy7wJJez7lJY+kRUmHE/JGIeVFVxsjaRF4BGwB34AXxpgvYUdVKBQKhUKhf4JOYyStU01J7gKfgJfGmJOQY4oGVVVSkwsDh+N5XsGG7CVme6HH14bG0g79P4cBcDCuDO2MmtfztmaJP1e4Xt5pyLwL9l0+QzDkeIFxSnkjSfd8PE/vqFoPq2O3Zaxp5EW5JGXbE7Fl2dQZqDnaAPKB102l1OWBR4E5yANPAnORBx4E5iQPHAvMTR44FJijPHAkMFd54EBgzvJgRoG5y4MZBBZ5FV0FblLk2ZE0tPzx/53iwkAXumag7aR3Vpnn+p9IVvLA'+
	'rcDs5IG7467nwHNgRZb7BSYY4WCPZW5p+Ii4IvoSWtsrvNBD/6vAG0VcSmsTuNHTGFap7n2JEpvAs95GETG1tTGSblOV0Po+jHMMrBljojzMUitnfHPjE6r783xxDAxjlQdTVGdJukV1f94C8Bl3r/YI+BizvEKhUCgUCiH5B1C4LwA/FccOAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_fullscreen_enter_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.1);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_fullscreen_enter';
		el.userData.x = 0.1;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_fullscreen_enter.material) me._btn_fullscreen_enter.material.opacity = v;
			me._btn_fullscreen_enter.visible = (v>0 && me._btn_fullscreen_enter.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_fullscreen_enter.visible
			let parentEl = me._btn_fullscreen_enter.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_fullscreen_enter.userData.opacity = v;
			v = v * me._btn_fullscreen_enter.userData.parentOpacity;
			me._btn_fullscreen_enter.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen_enter.children.length; i++) {
				let child = me._btn_fullscreen_enter.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_fullscreen_enter.userData.parentOpacity = v;
			v = v * me._btn_fullscreen_enter.userData.opacity
			me._btn_fullscreen_enter.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen_enter.children.length; i++) {
				let child = me._btn_fullscreen_enter.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_fullscreen_enter = el;
		el.userData.ggId="btn_fullscreen_enter";
		me._btn_fullscreen_enter.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getIsFullscreen() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_fullscreen_enter.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_fullscreen_enter.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_fullscreen_enter.ggCurrentLogicStateVisible == 0) {
			me._btn_fullscreen_enter.visible=false;
			me._btn_fullscreen_enter.userData.visible=false;
				}
				else {
			me._btn_fullscreen_enter.visible=((!me._btn_fullscreen_enter.material && Number(me._btn_fullscreen_enter.userData.opacity>0)) || Number(me._btn_fullscreen_enter.material.opacity)>0)?true:false;
			me._btn_fullscreen_enter.userData.visible=true;
				}
			}
		}
		me._btn_fullscreen_enter.logicBlock_visible();
		me._btn_fullscreen_enter.userData.ggUpdatePosition=function (useTransition) {
		}
		me._btn_fullscreen.add(me._btn_fullscreen_enter);
		me._control.add(me._btn_fullscreen);
		el = new THREE.Group();
		el.translateX(-0.9);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_toggle_controls';
		el.userData.x = -0.9;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._btn_toggle_controls.visible
			let parentEl = me._btn_toggle_controls.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_toggle_controls.userData.opacity = v;
			v = v * me._btn_toggle_controls.userData.parentOpacity;
			me._btn_toggle_controls.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_toggle_controls.children.length; i++) {
				let child = me._btn_toggle_controls.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_toggle_controls.userData.parentOpacity = v;
			v = v * me._btn_toggle_controls.userData.opacity
			me._btn_toggle_controls.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_toggle_controls.children.length; i++) {
				let child = me._btn_toggle_controls.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_toggle_controls = el;
		el.userData.ggId="btn_toggle_controls";
		me._btn_toggle_controls.userData.onclick=function (e) {
			player.setVariableValue('vis_controls', !player.getVariableValue('vis_controls'));
		}
		me._btn_toggle_controls.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'btn_toggle_controls_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB50lEQVR4nO3Zvy4EURTH8d8RFa2GRqUVFKLxBFSegsdQ7z6Aah9BpdWQKEiIXiOReAIq/BQzVzayf9xjd+bMzO+TbLHFnTn3m5nNZBYQERERERERERERERERkaBI7pG8IfnJ5vpksYc9bwdzxtsA8ABg2XviYN4AbJnZU+7CBecJj9GeeECxlxPPQm/ANee6yFx78ga8c66LzLUn72/gEoBrADue9QHdA9g3s/fcha6AwE/EYwC7ABa9x6nZB4BbAGeeeCIiIlIn92MMAJBcB7AN4BXArZlxJlPNGUlD8fi1CuDBzJ7rGOKU5NfQm40rkiuVD5KJ5Eo5a/JF8rTqIQ7GvB56jByxjPc4ZvaDKgcZTHjHFjLilHgkOfAc1/syYZJNAJeRIpazXKKYrX'+
	'4TbuFwV+Ifrrzqb+FysF70iBnxenUMZyT7USNmxOuzeKypXtSIjYg3NGyoiI2Kl0SJ2Mh4Sd0RGx0vqStiK+IlVUdsVbykqoitjJfMO2Kr4yXzitiJeMmsI3YqXjKriJ2Ml/w3YqfjJd6IijckN6LijZAR8aX8KN5vGREVb5wZROxuvOQfERUvcURUvN8yIireOH+IqHjTlBFH/WXaixgv3EAJyUMAR+XXczO7qHMeERERERERERGJ4BvscGZ+uUXN4QAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_toggle_controls_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.2);
		el.translateY(-0.01);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_toggle_controls_icon';
		el.userData.x = -0.2;
		el.userData.y = -0.01;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_toggle_controls_icon.material) me._btn_toggle_controls_icon.material.opacity = v;
			me._btn_toggle_controls_icon.visible = (v>0 && me._btn_toggle_controls_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_toggle_controls_icon.visible
			let parentEl = me._btn_toggle_controls_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_toggle_controls_icon.userData.opacity = v;
			v = v * me._btn_toggle_controls_icon.userData.parentOpacity;
			me._btn_toggle_controls_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_toggle_controls_icon.children.length; i++) {
				let child = me._btn_toggle_controls_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_toggle_controls_icon.userData.parentOpacity = v;
			v = v * me._btn_toggle_controls_icon.userData.opacity
			me._btn_toggle_controls_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_toggle_controls_icon.children.length; i++) {
				let child = me._btn_toggle_controls_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_toggle_controls_icon = el;
		el.userData.ggId="btn_toggle_controls_icon";
		me._btn_toggle_controls_icon.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_toggle_controls_icon'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_toggle_controls_icon.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_toggle_controls_icon.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_toggle_controls_icon.ggCurrentLogicStateScaling == 0) {
					me._btn_toggle_controls_icon.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_toggle_controls_icon.position.x = (me._btn_toggle_controls_icon.position.x - me._btn_toggle_controls_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_toggle_controls_icon.userData.curScaleOffX = scaleOffX;
					me._btn_toggle_controls_icon.position.y = (me._btn_toggle_controls_icon.position.y - me._btn_toggle_controls_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_toggle_controls_icon.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_toggle_controls_icon.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_toggle_controls_icon.position.x = (me._btn_toggle_controls_icon.position.x - me._btn_toggle_controls_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_toggle_controls_icon.userData.curScaleOffX = scaleOffX;
					me._btn_toggle_controls_icon.position.y = (me._btn_toggle_controls_icon.position.y - me._btn_toggle_controls_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_toggle_controls_icon.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_toggle_controls_icon.logicBlock_scaling();
		me._btn_toggle_controls_icon.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_toggle_controls_icon']=true;
			me._btn_toggle_controls_icon.logicBlock_scaling();
		}
		me._btn_toggle_controls_icon.userData.ontouchend=function (e) {
			me._btn_toggle_controls_icon.logicBlock_scaling();
		}
		me._btn_toggle_controls_icon.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_toggle_controls_icon']=false;
			me._btn_toggle_controls_icon.logicBlock_scaling();
		}
		me._btn_toggle_controls_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._btn_toggle_controls.add(me._btn_toggle_controls_icon);
		me._control.add(me._btn_toggle_controls);
		geometry = new THREE.PlaneGeometry(0.35, 0.35, 5, 5 );
		geometry.name = 'btn_floorplan_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABcCAYAAACYyxCUAAAEi0lEQVR4nO2dQW7cNhRAn32BDNBFl53suot7gk5OEAc5QLLoMkDcE1Q9QRygyywmBwiSnqDyCeoAKeBd5GUXBWzkAL8LSnFizIwo8pP6Y/wHELZhiqLmfX+SMkAeiAgz8hp40n//H/AHcDpfd6qxBJr+K8B7YA1cISJzlJWIfJbNXPS/n6tvJctCRE63PPe5iCxqd2gpIu2WDt2mlbsl5kRErkae+dRCZIyx72JWItJFPmtnJTJi2DcxS4nPBl+wEhlTsC4mJxvYiYwELIrJzgZmIiMDC2JWopQNzESGAnOIWYpyNjgQyVoYrvoFzQ85jShzRlh0tQXvsejv8UK74cPE65aEB/4LWzIAfib0qyUEjDYnQEcBGTBdyILwauMT4cFTuAT+GanzCniT2P'+
	'6AtpgVQcRL4F5iG2ejNSbky9xx4kpEmr6tsbw71FuKyDrjnl+TOsZojBOtiBz1999JrRnEWsIsbGgzVsjXH0ptMRqzxk5EjuXbz3IntSLjdttThdQWo5kNbgf3TmpFhpaQ0mJKZIMsIaUiQ1tICTG5IrZlg0lChlnWkcIM4g03/3ipRQc8A+6TPytLnb5fAo8Js7DzzD5wSJDRZnToDPiJ8MFc5XYokQ49MbFcA78TgvC9VqOHhIhO+atQjQwlOuqIKZYNDoFHE68pEhnKdJQRUzwbTF2pzzFO5NChI6ZaNogVYmGcyKEjTUz1bBAj5FdsjRM5dNyI+TBS919myAYxQu6CiNt0jEf8BTNkg9TX704hXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgx'+
	'XIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgxXIgx5hCyAH4cqXPMzflMd4mjsQq1hTSEjV++H6n3gLB79pq7IWbYRvHlWMVaQo4JIn5j2naCT9lvMQtC3/8mcmv20kKGyHhH3qb9+yimIQTh0ykXlRIyOTIi2QcxqdkA4M8SQhoSImMiFsXkZoNroNEUkhMZqVgQo5ENLum3UdQQojFOXGb2YS4xDXnZ4Jqwp+WSfivFHCFakfGw79BDYg482U0tMRrZ4BWhj9+e/RuxyfymIx0ayd+0/2RDu8OG9bnHZAysJWzYv+k+zci17YZrjhT61u7o02Qhx5J/isCpbD/OoaaYKUIWkn8KQycRB8nECikeGTtKKTGxQkpmgyQhuR9GVGREFG0xY4fWfJR62eBLOR'+
	'CRUifcXxNmIdoH1q/6djUXnNqcEXbQ7qZeWGqlvnkGoUNLkKIxK9NmmDWuSJABRKWsKaSOE1ZSWSqTxoldRUuI1jixj2ImjxO7Sq4QtchQLLXEtFIgG+QIUY2MAqWUmE4KZoMUIUUio2DRElMlGyDxc+2ikVGh5Iiplg2Q8QWSxXGilphWKmcDJJg/39Ih6+NErpiLLc/9WWbKBgciAuFV+jPCa2X6RU2TvLjZL06A58B3/c9vgV/m6sz/BxdRk8EEq4oAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'btn_floorplan_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.5);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 35;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_floorplan_icon';
		el.userData.x = 0.5;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_floorplan_icon.material) me._btn_floorplan_icon.material.opacity = v;
			me._btn_floorplan_icon.visible = (v>0 && me._btn_floorplan_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_floorplan_icon.visible
			let parentEl = me._btn_floorplan_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_floorplan_icon.userData.opacity = v;
			v = v * me._btn_floorplan_icon.userData.parentOpacity;
			me._btn_floorplan_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_floorplan_icon.children.length; i++) {
				let child = me._btn_floorplan_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_floorplan_icon.userData.parentOpacity = v;
			v = v * me._btn_floorplan_icon.userData.opacity
			me._btn_floorplan_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_floorplan_icon.children.length; i++) {
				let child = me._btn_floorplan_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_floorplan_icon = el;
		me._btn_floorplan_icon.userData.materialNormal = me._btn_floorplan_icon.material;
		el.userData.ggId="btn_floorplan_icon";
		me._btn_floorplan_icon.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_floorplan_icon'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_floorplan_icon.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_floorplan_icon.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_floorplan_icon.ggCurrentLogicStateScaling == 0) {
					me._btn_floorplan_icon.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_floorplan_icon.position.x = (me._btn_floorplan_icon.position.x - me._btn_floorplan_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_floorplan_icon.userData.curScaleOffX = scaleOffX;
					me._btn_floorplan_icon.position.y = (me._btn_floorplan_icon.position.y - me._btn_floorplan_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_floorplan_icon.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_floorplan_icon.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_floorplan_icon.position.x = (me._btn_floorplan_icon.position.x - me._btn_floorplan_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_floorplan_icon.userData.curScaleOffX = scaleOffX;
					me._btn_floorplan_icon.position.y = (me._btn_floorplan_icon.position.y - me._btn_floorplan_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_floorplan_icon.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_floorplan_icon.logicBlock_scaling();
		me._btn_floorplan_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('controls_left_open') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_floorplan_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_floorplan_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_floorplan_icon.ggCurrentLogicStateVisible == 0) {
			me._btn_floorplan_icon.visible=false;
			me._btn_floorplan_icon.userData.visible=false;
				}
				else {
			me._btn_floorplan_icon.visible=((!me._btn_floorplan_icon.material && Number(me._btn_floorplan_icon.userData.opacity>0)) || Number(me._btn_floorplan_icon.material.opacity)>0)?true:false;
			me._btn_floorplan_icon.userData.visible=true;
				}
			}
		}
		me._btn_floorplan_icon.logicBlock_visible();
		me._btn_floorplan_icon.userData.onclick=function (e) {
			player.setVariableValue('vis_floorplan', true);
			player.setVariableValue('vis_map', false);
			player.setVariableValue('vis_info', false);
			player.setVariableValue('controls_left_open', true);
			player.setVariableValue('vis_thumbs', false);
			if (
				(
					((player.getVariableValue('resp_phone_3') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_3', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone_3') == true))
				)
			) {
				player.setVariableValue('vis_thumbnails_phone', false);
			}
		}
		me._btn_floorplan_icon.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_floorplan_icon']=true;
			me._btn_floorplan_icon.logicBlock_scaling();
		}
		me._btn_floorplan_icon.userData.ontouchend=function (e) {
			me._btn_floorplan_icon.logicBlock_scaling();
		}
		me._btn_floorplan_icon.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_floorplan_icon']=false;
			me._btn_floorplan_icon.logicBlock_scaling();
		}
		me._btn_floorplan_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._control.add(me._btn_floorplan_icon);
		geometry = new THREE.PlaneGeometry(0.35, 0.35, 5, 5 );
		geometry.name = 'btn_of_floorplan_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'btn_of_floorplan_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.5);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 35;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_of_floorplan_icon';
		el.userData.x = 0.5;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.240);
		el.renderOrder = 24;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_of_floorplan_icon.material) me._btn_of_floorplan_icon.material.opacity = v;
			me._btn_of_floorplan_icon.visible = (v>0 && me._btn_of_floorplan_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_of_floorplan_icon.visible
			let parentEl = me._btn_of_floorplan_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_of_floorplan_icon.userData.opacity = v;
			v = v * me._btn_of_floorplan_icon.userData.parentOpacity;
			me._btn_of_floorplan_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_of_floorplan_icon.children.length; i++) {
				let child = me._btn_of_floorplan_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_of_floorplan_icon.userData.parentOpacity = v;
			v = v * me._btn_of_floorplan_icon.userData.opacity
			me._btn_of_floorplan_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_of_floorplan_icon.children.length; i++) {
				let child = me._btn_of_floorplan_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_of_floorplan_icon = el;
		me._btn_of_floorplan_icon.userData.materialNormal = me._btn_of_floorplan_icon.material;
		el.userData.ggId="btn_of_floorplan_icon";
		me._btn_of_floorplan_icon.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_of_floorplan_icon'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_of_floorplan_icon.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_of_floorplan_icon.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_of_floorplan_icon.ggCurrentLogicStateScaling == 0) {
					me._btn_of_floorplan_icon.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_of_floorplan_icon.position.x = (me._btn_of_floorplan_icon.position.x - me._btn_of_floorplan_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_of_floorplan_icon.userData.curScaleOffX = scaleOffX;
					me._btn_of_floorplan_icon.position.y = (me._btn_of_floorplan_icon.position.y - me._btn_of_floorplan_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_of_floorplan_icon.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_of_floorplan_icon.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_of_floorplan_icon.position.x = (me._btn_of_floorplan_icon.position.x - me._btn_of_floorplan_icon.userData.curScaleOffX) + scaleOffX;
					me._btn_of_floorplan_icon.userData.curScaleOffX = scaleOffX;
					me._btn_of_floorplan_icon.position.y = (me._btn_of_floorplan_icon.position.y - me._btn_of_floorplan_icon.userData.curScaleOffY) + scaleOffY;
					me._btn_of_floorplan_icon.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_of_floorplan_icon.logicBlock_scaling();
		me._btn_of_floorplan_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('controls_left_open') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_of_floorplan_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_of_floorplan_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_of_floorplan_icon.ggCurrentLogicStateVisible == 0) {
			me._btn_of_floorplan_icon.visible=((!me._btn_of_floorplan_icon.material && Number(me._btn_of_floorplan_icon.userData.opacity>0)) || Number(me._btn_of_floorplan_icon.material.opacity)>0)?true:false;
			me._btn_of_floorplan_icon.userData.visible=true;
				}
				else {
			me._btn_of_floorplan_icon.visible=false;
			me._btn_of_floorplan_icon.userData.visible=false;
				}
			}
		}
		me._btn_of_floorplan_icon.logicBlock_visible();
		me._btn_of_floorplan_icon.userData.onclick=function (e) {
			player.setVariableValue('vis_floorplan', false);
			player.setVariableValue('vis_map', false);
			player.setVariableValue('vis_info', false);
			player.setVariableValue('controls_left_open', false);
			player.setVariableValue('vis_thumbs', false);
		}
		me._btn_of_floorplan_icon.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_of_floorplan_icon']=true;
			me._btn_of_floorplan_icon.logicBlock_scaling();
		}
		me._btn_of_floorplan_icon.userData.ontouchend=function (e) {
			me._btn_of_floorplan_icon.logicBlock_scaling();
		}
		me._btn_of_floorplan_icon.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_of_floorplan_icon']=false;
			me._btn_of_floorplan_icon.logicBlock_scaling();
		}
		me._btn_of_floorplan_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._control.add(me._btn_of_floorplan_icon);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(2.17);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'menu';
		el.userData.x = 0;
		el.userData.y = 2.17;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.250);
		el.renderOrder = 25;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._menu.material) me._menu.material.opacity = v;
			me._menu.visible = (v>0 && me._menu.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._menu.visible
			let parentEl = me._menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._menu.userData.opacity = v;
			v = v * me._menu.userData.parentOpacity;
			me._menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._menu.children.length; i++) {
				let child = me._menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._menu.userData.parentOpacity = v;
			v = v * me._menu.userData.opacity
			me._menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._menu.children.length; i++) {
				let child = me._menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._menu = el;
		el.userData.ggId="menu";
		me._menu.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.5;
		height = 0.5;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.arc(0, -0.18, 0.18, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.arc(-0.18, 0, 0.18, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.arc(0, 0.18, 0.18, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.arc(0.18, 0, 0.18, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnails_toggle_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.313726, 0.313726, 0.313726).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_toggle_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_toggle.material.opacity = v * me._thumbnails_toggle.userData.backgroundColorAlpha;
			if (me._thumbnails_toggle.userData.ggSubElement) {
				me._thumbnails_toggle.userData.ggSubElement.material.opacity = v
				me._thumbnails_toggle.userData.ggSubElement.visible = (v>0 && me._thumbnails_toggle.userData.visible);
			}
			me._thumbnails_toggle.visible = (v>0 && me._thumbnails_toggle.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_toggle.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_toggle.userData.backgroundColorAlpha = v;
			me._thumbnails_toggle.userData.setOpacity(me._thumbnails_toggle.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-2.15);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_toggle';
		el.userData.x = 0;
		el.userData.y = -2.15;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.260);
		el.renderOrder = 26;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_toggle.visible
			let parentEl = me._thumbnails_toggle.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_toggle.userData.opacity = v;
			v = v * me._thumbnails_toggle.userData.parentOpacity;
			me._thumbnails_toggle.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_toggle.children.length; i++) {
				let child = me._thumbnails_toggle.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_toggle.userData.parentOpacity = v;
			v = v * me._thumbnails_toggle.userData.opacity
			me._thumbnails_toggle.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_toggle.children.length; i++) {
				let child = me._thumbnails_toggle.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_toggle = el;
		el.userData.ggId="thumbnails_toggle";
		me._thumbnails_toggle.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbnails_phone') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_toggle.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_toggle.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_toggle.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_toggle.visible=false;
			me._thumbnails_toggle.userData.visible=false;
				}
				else {
			me._thumbnails_toggle.visible=((!me._thumbnails_toggle.material && Number(me._thumbnails_toggle.userData.opacity>0)) || Number(me._thumbnails_toggle.material.opacity)>0)?true:false;
			me._thumbnails_toggle.userData.visible=true;
				}
			}
		}
		me._thumbnails_toggle.logicBlock_visible();
		me._thumbnails_toggle.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['thumbnails_toggle'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._thumbnails_toggle.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._thumbnails_toggle.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._thumbnails_toggle.ggCurrentLogicStateBackgroundColor == 0) {
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor = {};
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color = new THREE.Color('#000000');
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor.alpha = 0.470588;
					for (var i = 0; i < me._thumbnails_toggle.userData.transitions.length; i++) {
						if (me._thumbnails_toggle.userData.transitions[i].property == 'backgroundcolor') {
							clearInterval(me._thumbnails_toggle.userData.transitions[i].interval);
							me._thumbnails_toggle.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_backgroundcolor = {};
					transition_backgroundcolor.property = 'backgroundcolor';
					transition_backgroundcolor.startTime = Date.now();
					transition_backgroundcolor.startBackgroundColor = structuredClone(me._thumbnails_toggle.material.color);
					transition_backgroundcolor.startBackgroundColorAlpha = me._thumbnails_toggle.userData.backgroundColorAlpha;
					transition_backgroundcolor.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_backgroundcolor.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						let deltaRed = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.r - transition_backgroundcolor.startBackgroundColor.r;
						let newRed = transition_backgroundcolor.startBackgroundColor.r + (deltaRed * tfval);
						let deltaGreen = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.g - transition_backgroundcolor.startBackgroundColor.g;
						let newGreen = transition_backgroundcolor.startBackgroundColor.g + (deltaGreen * tfval);
						let deltaBlue = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.b - transition_backgroundcolor.startBackgroundColor.b;
						let newBlue = transition_backgroundcolor.startBackgroundColor.b + (deltaBlue * tfval);
						me._thumbnails_toggle.userData.setBackgroundColor(new THREE.Color(newRed, newGreen, newBlue));
						let deltaAlpha = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.alpha - transition_backgroundcolor.startBackgroundColorAlpha;
						me._thumbnails_toggle.userData.setBackgroundColorAlpha(transition_backgroundcolor.startBackgroundColorAlpha + (deltaAlpha * tfval));
						if (percentDone >= 1.0) {
							clearInterval(transition_backgroundcolor.interval);
							me._thumbnails_toggle.userData.transitions.splice(me._thumbnails_toggle.userData.transitions.indexOf(transition_backgroundcolor), 1);
						}
					}, 20);
					me._thumbnails_toggle.userData.transitions.push(transition_backgroundcolor);
				}
				else {
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor = {};
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color = new THREE.Color('#505050');
					me._thumbnails_toggle.userData.transitionValue_backgroundcolor.alpha = 0;
					for (var i = 0; i < me._thumbnails_toggle.userData.transitions.length; i++) {
						if (me._thumbnails_toggle.userData.transitions[i].property == 'backgroundcolor') {
							clearInterval(me._thumbnails_toggle.userData.transitions[i].interval);
							me._thumbnails_toggle.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_backgroundcolor = {};
					transition_backgroundcolor.property = 'backgroundcolor';
					transition_backgroundcolor.startTime = Date.now();
					transition_backgroundcolor.startBackgroundColor = structuredClone(me._thumbnails_toggle.material.color);
					transition_backgroundcolor.startBackgroundColorAlpha = me._thumbnails_toggle.userData.backgroundColorAlpha;
					transition_backgroundcolor.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_backgroundcolor.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						let deltaRed = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.r - transition_backgroundcolor.startBackgroundColor.r;
						let newRed = transition_backgroundcolor.startBackgroundColor.r + (deltaRed * tfval);
						let deltaGreen = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.g - transition_backgroundcolor.startBackgroundColor.g;
						let newGreen = transition_backgroundcolor.startBackgroundColor.g + (deltaGreen * tfval);
						let deltaBlue = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.color.b - transition_backgroundcolor.startBackgroundColor.b;
						let newBlue = transition_backgroundcolor.startBackgroundColor.b + (deltaBlue * tfval);
						me._thumbnails_toggle.userData.setBackgroundColor(new THREE.Color(newRed, newGreen, newBlue));
						let deltaAlpha = me._thumbnails_toggle.userData.transitionValue_backgroundcolor.alpha - transition_backgroundcolor.startBackgroundColorAlpha;
						me._thumbnails_toggle.userData.setBackgroundColorAlpha(transition_backgroundcolor.startBackgroundColorAlpha + (deltaAlpha * tfval));
						if (percentDone >= 1.0) {
							clearInterval(transition_backgroundcolor.interval);
							me._thumbnails_toggle.userData.transitions.splice(me._thumbnails_toggle.userData.transitions.indexOf(transition_backgroundcolor), 1);
						}
					}, 20);
					me._thumbnails_toggle.userData.transitions.push(transition_backgroundcolor);
				}
			}
		}
		me._thumbnails_toggle.logicBlock_backgroundcolor();
		me._thumbnails_toggle.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', !player.getVariableValue('vis_thumbnails'));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_thumbnails_phone', true);
			}
		}
		me._thumbnails_toggle.userData.onmouseenter=function (e) {
			me.elementMouseOver['thumbnails_toggle']=true;
			me._thumbnails_toggle.logicBlock_backgroundcolor();
		}
		me._thumbnails_toggle.userData.ontouchend=function (e) {
			me._thumbnails_toggle.logicBlock_backgroundcolor();
		}
		me._thumbnails_toggle.userData.onmouseleave=function (e) {
			me.elementMouseOver['thumbnails_toggle']=false;
			me._thumbnails_toggle.logicBlock_backgroundcolor();
		}
		me._thumbnails_toggle.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.38, 0.38, 5, 5 );
		geometry.name = 'btn_thumbnails_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_thumbnails_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 38;
		el.userData.height = 38;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_thumbnails_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.270);
		el.renderOrder = 27;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_thumbnails_icon.material) me._btn_thumbnails_icon.material.opacity = v;
			me._btn_thumbnails_icon.visible = (v>0 && me._btn_thumbnails_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_thumbnails_icon.visible
			let parentEl = me._btn_thumbnails_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_thumbnails_icon.userData.opacity = v;
			v = v * me._btn_thumbnails_icon.userData.parentOpacity;
			me._btn_thumbnails_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_thumbnails_icon.children.length; i++) {
				let child = me._btn_thumbnails_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_thumbnails_icon.userData.parentOpacity = v;
			v = v * me._btn_thumbnails_icon.userData.opacity
			me._btn_thumbnails_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_thumbnails_icon.children.length; i++) {
				let child = me._btn_thumbnails_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_thumbnails_icon = el;
		el.userData.ggId="btn_thumbnails_icon";
		me._btn_thumbnails_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_toggle.add(me._btn_thumbnails_icon);
		me._menu.add(me._thumbnails_toggle);
		el.translateX(0);
		el.translateY(-0.98);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 130;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_menu';
		el.userData.x = 0;
		el.userData.y = -0.98;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.270);
		el.renderOrder = 27;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_menu.material) me._thumbnail_menu.material.opacity = v;
			me._thumbnail_menu.visible = (v>0 && me._thumbnail_menu.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_menu.visible
			let parentEl = me._thumbnail_menu.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_menu.userData.opacity = v;
			v = v * me._thumbnail_menu.userData.parentOpacity;
			me._thumbnail_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_menu.children.length; i++) {
				let child = me._thumbnail_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_menu.userData.parentOpacity = v;
			v = v * me._thumbnail_menu.userData.opacity
			me._thumbnail_menu.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_menu.children.length; i++) {
				let child = me._thumbnail_menu.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_menu = el;
		el.userData.ggId="thumbnail_menu";
		me._thumbnail_menu.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((player.getVariableValue('vis_thumbnails') == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._thumbnail_menu.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._thumbnail_menu.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._thumbnail_menu.ggCurrentLogicStateAlpha == 0) {
					me._thumbnail_menu.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._thumbnail_menu.userData.transitions.length; i++) {
						if (me._thumbnail_menu.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_menu.userData.transitions[i].interval);
							me._thumbnail_menu.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_menu.material ? me._thumbnail_menu.material.opacity : me._thumbnail_menu.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_menu.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_menu.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_menu.userData.transitions.splice(me._thumbnail_menu.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_menu.userData.transitions.push(transition_alpha);
				}
				else {
					me._thumbnail_menu.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._thumbnail_menu.userData.transitions.length; i++) {
						if (me._thumbnail_menu.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_menu.userData.transitions[i].interval);
							me._thumbnail_menu.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_menu.material ? me._thumbnail_menu.material.opacity : me._thumbnail_menu.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_menu.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_menu.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_menu.userData.transitions.splice(me._thumbnail_menu.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_menu.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._thumbnail_menu.logicBlock_alpha();
		me._thumbnail_menu.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-2.29);
		el.translateY(0.15);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 182;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_cloner';
		el.userData.x = -2.29;
		el.userData.y = 0.15;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.280);
		el.renderOrder = 28;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_cloner.material) me._thumbnail_cloner.material.opacity = v;
			me._thumbnail_cloner.visible = (v>0 && me._thumbnail_cloner.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_cloner.visible
			let parentEl = me._thumbnail_cloner.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_cloner.userData.opacity = v;
			v = v * me._thumbnail_cloner.userData.parentOpacity;
			me._thumbnail_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_cloner.children.length; i++) {
				let child = me._thumbnail_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_cloner.userData.parentOpacity = v;
			v = v * me._thumbnail_cloner.userData.opacity
			me._thumbnail_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_cloner.children.length; i++) {
				let child = me._thumbnail_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_cloner = el;
		el.userData.ggNumRepeat = 1;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._thumbnail_cloner.userData.ggUpdating == true) return;
			me._thumbnail_cloner.userData.ggUpdating = true;
			var el=me._thumbnail_cloner;
			var curNumRows = 0;
			curNumRows = me._thumbnail_cloner.userData.ggNumRepeat;
			if (curNumRows < 1) curNumRows = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumRows == curNumRows) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._thumbnail_cloner.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumCols = 1;
				el.userData.ggNumRows = curNumRows;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._thumbnail_cloner.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._thumbnail_cloner.userData.ggNumFilterPassed = 0;
			tourNodes = me._thumbnail_cloner.getFilteredNodes(tourNodes, filter);
			me._thumbnail_cloner.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._thumbnail_cloner.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._thumbnail_cloner.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._thumbnail_cloner.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_thumbnail_cloner_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._thumbnail_cloner, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				row++;
				if (row >= el.userData.ggNumRows) {
					row = 0;
					column++;
					el.userData.ggNumCols++;
				}
			}
			me._thumbnail_cloner.userData.ggNodeCount = me._thumbnail_cloner.userData.ggNumFilterPassed;
			me._thumbnail_cloner.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggId="thumbnail_cloner";
		me._thumbnail_cloner.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_menu.add(me._thumbnail_cloner);
		me._menu.add(me._thumbnail_menu);
		geometry = new THREE.PlaneGeometry(6.4, 4.8, 5, 5 );
		geometry.name = 'screentint_phone_1_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0, 0).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'screentint_phone_1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.705882;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._screentint_phone_1.material.opacity = v * me._screentint_phone_1.userData.backgroundColorAlpha;
			if (me._screentint_phone_1.userData.ggSubElement) {
				me._screentint_phone_1.userData.ggSubElement.material.opacity = v
				me._screentint_phone_1.userData.ggSubElement.visible = (v>0 && me._screentint_phone_1.userData.visible);
			}
			me._screentint_phone_1.visible = (v>0 && me._screentint_phone_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._screentint_phone_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._screentint_phone_1.userData.backgroundColorAlpha = v;
			me._screentint_phone_1.userData.setOpacity(me._screentint_phone_1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 480;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'screentint_phone_1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.280);
		el.renderOrder = 28;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._screentint_phone_1.visible
			let parentEl = me._screentint_phone_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._screentint_phone_1.userData.opacity = v;
			v = v * me._screentint_phone_1.userData.parentOpacity;
			me._screentint_phone_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint_phone_1.children.length; i++) {
				let child = me._screentint_phone_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._screentint_phone_1.userData.parentOpacity = v;
			v = v * me._screentint_phone_1.userData.opacity
			me._screentint_phone_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._screentint_phone_1.children.length; i++) {
				let child = me._screentint_phone_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._screentint_phone_1 = el;
		el.userData.ggId="screentint_phone_1";
		me._screentint_phone_1.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((player.getVariableValue('vis_thumbnails_phone') == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._screentint_phone_1.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._screentint_phone_1.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._screentint_phone_1.ggCurrentLogicStateAlpha == 0) {
					me._screentint_phone_1.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._screentint_phone_1.userData.transitions.length; i++) {
						if (me._screentint_phone_1.userData.transitions[i].property == 'alpha') {
							clearInterval(me._screentint_phone_1.userData.transitions[i].interval);
							me._screentint_phone_1.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._screentint_phone_1.material ? me._screentint_phone_1.material.opacity : me._screentint_phone_1.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._screentint_phone_1.userData.setOpacity(transition_alpha.startAlpha + (me._screentint_phone_1.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._screentint_phone_1.userData.transitions.splice(me._screentint_phone_1.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._screentint_phone_1.userData.transitions.push(transition_alpha);
				}
				else {
					me._screentint_phone_1.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._screentint_phone_1.userData.transitions.length; i++) {
						if (me._screentint_phone_1.userData.transitions[i].property == 'alpha') {
							clearInterval(me._screentint_phone_1.userData.transitions[i].interval);
							me._screentint_phone_1.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._screentint_phone_1.material ? me._screentint_phone_1.material.opacity : me._screentint_phone_1.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._screentint_phone_1.userData.setOpacity(transition_alpha.startAlpha + (me._screentint_phone_1.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._screentint_phone_1.userData.transitions.splice(me._screentint_phone_1.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._screentint_phone_1.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._screentint_phone_1.logicBlock_alpha();
		me._screentint_phone_1.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(2.15);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'close_popup_phone';
		el.userData.x = 0;
		el.userData.y = 2.15;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.290);
		el.renderOrder = 29;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._close_popup_phone.material) me._close_popup_phone.material.opacity = v;
			me._close_popup_phone.visible = (v>0 && me._close_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._close_popup_phone.visible
			let parentEl = me._close_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._close_popup_phone.userData.opacity = v;
			v = v * me._close_popup_phone.userData.parentOpacity;
			me._close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone.children.length; i++) {
				let child = me._close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._close_popup_phone.userData.parentOpacity = v;
			v = v * me._close_popup_phone.userData.opacity
			me._close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone.children.length; i++) {
				let child = me._close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._close_popup_phone = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="close_popup_phone";
		me._close_popup_phone.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbnails_phone', false);
		}
		me._close_popup_phone.userData.onmouseenter=function (e) {
			me.elementMouseOver['close_popup_phone']=true;
			me._btn_close_popup_phone.logicBlock_visible();
		}
		me._close_popup_phone.userData.onmouseleave=function (e) {
			me.elementMouseOver['close_popup_phone']=false;
			me._btn_close_popup_phone.logicBlock_visible();
		}
		me._close_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.3, 0.3, 5, 5 );
		geometry.name = 'btn_close_popup_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAABl0lEQVRoge2ZsU4CQRBA37CxvsKG9qj8CfUTKAhfSSz8BOAjhEbbbSyoyTkWJwbRGNjbnYTsvOSqCzPzjsvezg44juM4juM4juOUZB2byTI27bXlHaX8aBmbVgkvQtiu4u00NfmlrOLtVAkbIWzWsZmkxEgSHoHQXzegCwvpPocu+pzIB2hKnCTh+/HuFWQO7DGQPpHdg8wfx7u3lFiSu5CH8fvzkJilcwwSLlFQ6diDhUsVVupBZhGGvAWWfGuyCUOeQkuvC1mFYVjBFotgdmFIK9xCFgoJw2UCVrJQUBjOE7GUhcLC8L+QtSwYCMPfYv0dW1kwEoaf0qp0CAgEDGXBUBi+2jvVJxECgEInyMxKFhK7pUEcP+KkBm8YZsKHV1ogKHSqdP0/bdNPHz'+
	'ARPl20BJmJyAyjfvoY/yzlpKqNR1Vby6qah6raw6oOAKo64qnqEK+qY9qqDuItv505cyUJL2PTCmGbo4Bz+b0f7+76GddlDJkeKobNe5/je4CnqdPDZJaxaVNntNeY13Ecx3Ecx3GcyvgEKsOoKkU8t1IAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_close_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-2.85);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_close_popup_phone';
		el.userData.x = -2.85;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.300);
		el.renderOrder = 30;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_close_popup_phone.material) me._btn_close_popup_phone.material.opacity = v;
			me._btn_close_popup_phone.visible = (v>0 && me._btn_close_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_close_popup_phone.visible
			let parentEl = me._btn_close_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_close_popup_phone.userData.opacity = v;
			v = v * me._btn_close_popup_phone.userData.parentOpacity;
			me._btn_close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_popup_phone.children.length; i++) {
				let child = me._btn_close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_close_popup_phone.userData.parentOpacity = v;
			v = v * me._btn_close_popup_phone.userData.opacity
			me._btn_close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_close_popup_phone.children.length; i++) {
				let child = me._btn_close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_close_popup_phone = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAABBklEQVRoge2ZSw6DMAwFLe7B/U+EKKiL3uR1gb1BVQUhMTZ5I7FEnokiPooIIYQQQgghhLQEwABgyDa36EYdOInIDGAsHV4wdxSRl4hMroutq7xi4+0RDWDUWQCwuO+unUDTaM9Zt4uEifUQChdrtBALG2vUFAwfa9QQTRNrXBFOF2uUiKeNNc4EpI81joQ8Jtb4F/S4WONX2GNjjV3gR69nxhoabaEW7hrr/gPfDV1t6a4eWl29lrr68DgTkj66JCBt9BXxdNE1hNNE1xQNH91CMGx0S7Fw0R5CYaI9RW6PxnaYtngK7KJX3HB6OOtg1+NSXejZNViHpzwQJ4QQQgghhJBDfAHSnjXTQH3XaAAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'btn_close_popup_phone_materialOver';
		el.userData.ggId="btn_close_popup_phone";
		me._btn_close_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['close_popup_phone'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_close_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_close_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_close_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._btn_close_popup_phone.visible=false;
			me._btn_close_popup_phone.userData.visible=false;
				}
				else {
			me._btn_close_popup_phone.visible=((!me._btn_close_popup_phone.material && Number(me._btn_close_popup_phone.userData.opacity>0)) || Number(me._btn_close_popup_phone.material.opacity)>0)?true:false;
			me._btn_close_popup_phone.userData.visible=true;
				}
			}
		}
		me._btn_close_popup_phone.logicBlock_visible();
		me._btn_close_popup_phone.userData.onmouseenter=function (e) {
			me._btn_close_popup_phone.material = me._btn_close_popup_phone.userData.materialOver;
			me.elementMouseOver['btn_close_popup_phone']=true;
		}
		me._btn_close_popup_phone.userData.onmouseleave=function (e) {
			me._btn_close_popup_phone.material = me._btn_close_popup_phone.userData.materialNormal;
			me.elementMouseOver['btn_close_popup_phone']=false;
		}
		me._btn_close_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._close_popup_phone.add(me._btn_close_popup_phone);
		me._screentint_phone_1.add(me._close_popup_phone);
		el.translateX(0.2);
		el.translateY(-1.685);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 717;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_scroller_phone';
		el.userData.x = 0.2;
		el.userData.y = -1.685;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.300);
		el.renderOrder = 30;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_scroller_phone.material) me._thumbnail_scroller_phone.material.opacity = v;
			me._thumbnail_scroller_phone.visible = (v>0 && me._thumbnail_scroller_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_scroller_phone.visible
			let parentEl = me._thumbnail_scroller_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_scroller_phone.userData.opacity = v;
			v = v * me._thumbnail_scroller_phone.userData.parentOpacity;
			me._thumbnail_scroller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_scroller_phone.children.length; i++) {
				let child = me._thumbnail_scroller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_scroller_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_scroller_phone.userData.opacity
			me._thumbnail_scroller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_scroller_phone.children.length; i++) {
				let child = me._thumbnail_scroller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_scroller_phone = el;
		el.userData.ggId="thumbnail_scroller_phone";
		me._thumbnail_scroller_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-2.37);
		el.translateY(3.085);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 166;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_cloner_phone';
		el.userData.x = -2.37;
		el.userData.y = 3.085;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.310);
		el.renderOrder = 31;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._node_cloner_phone.material) me._node_cloner_phone.material.opacity = v;
			me._node_cloner_phone.visible = (v>0 && me._node_cloner_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._node_cloner_phone.visible
			let parentEl = me._node_cloner_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_cloner_phone.userData.opacity = v;
			v = v * me._node_cloner_phone.userData.parentOpacity;
			me._node_cloner_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_cloner_phone.children.length; i++) {
				let child = me._node_cloner_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_cloner_phone.userData.parentOpacity = v;
			v = v * me._node_cloner_phone.userData.opacity
			me._node_cloner_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_cloner_phone.children.length; i++) {
				let child = me._node_cloner_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_cloner_phone = el;
		el.userData.ggNumRepeat = 100;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._node_cloner_phone.userData.ggUpdating == true) return;
			me._node_cloner_phone.userData.ggUpdating = true;
			var el=me._node_cloner_phone;
			var curNumCols = 0;
			var parentWidth = me._node_cloner_phone.parent.userData.width;
			me._node_cloner_phone.userData.offsetLeft = (me._node_cloner_phone.parent.userData.width / 200.0) + me._node_cloner_phone.userData.x - (me._node_cloner_phone.userData.width / 200.0);
			curNumCols = Math.floor(((parentWidth - me._node_cloner_phone.userData.offsetLeft) * me._node_cloner_phone.userData.ggNumRepeat / 100.0) / me._node_cloner_phone.userData.width);
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._node_cloner_phone.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._node_cloner_phone.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._node_cloner_phone.userData.ggNumFilterPassed = 0;
			tourNodes = me._node_cloner_phone.getFilteredNodes(tourNodes, filter);
			me._node_cloner_phone.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._node_cloner_phone.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._node_cloner_phone.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._node_cloner_phone.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_node_cloner_phone_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._node_cloner_phone, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._node_cloner_phone.userData.ggNodeCount = me._node_cloner_phone.userData.ggNumFilterPassed;
			me._node_cloner_phone.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggId="node_cloner_phone";
		me._node_cloner_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_scroller_phone.add(me._node_cloner_phone);
		me._screentint_phone_1.add(me._thumbnail_scroller_phone);
		me._menu.add(me._screentint_phone_1);
		el = new THREE.Group();
		el.translateX(-2.7);
		el.translateY(2.3);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_menu_code';
		el.userData.x = -2.7;
		el.userData.y = 2.3;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.290);
		el.renderOrder = 29;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_menu_code.material) me._thumbnail_menu_code.material.opacity = v;
			me._thumbnail_menu_code.visible = (v>0 && me._thumbnail_menu_code.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_menu_code.visible
			let parentEl = me._thumbnail_menu_code.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_menu_code.userData.opacity = v;
			v = v * me._thumbnail_menu_code.userData.parentOpacity;
			me._thumbnail_menu_code.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_menu_code.children.length; i++) {
				let child = me._thumbnail_menu_code.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_menu_code.userData.parentOpacity = v;
			v = v * me._thumbnail_menu_code.userData.opacity
			me._thumbnail_menu_code.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_menu_code.children.length; i++) {
				let child = me._thumbnail_menu_code.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_menu_code = el;
		el.userData.ggId="thumbnail_menu_code";
		me._thumbnail_menu_code.userData.ggUpdatePosition=function (useTransition) {
		}
		me._menu.add(me._thumbnail_menu_code);
		me._control.add(me._menu);
		me.skinGroup.add(me._control);
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'btn_show_control_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB50lEQVR4nO3Zvy4EURTH8d8RFa2GRqUVFKLxBFSegsdQ7z6Aah9BpdWQKEiIXiOReAIq/BQzVzayf9xjd+bMzO+TbLHFnTn3m5nNZBYQERERERERERERERERkaBI7pG8IfnJ5vpksYc9bwdzxtsA8ABg2XviYN4AbJnZU+7CBecJj9GeeECxlxPPQm/ANee6yFx78ga8c66LzLUn72/gEoBrADue9QHdA9g3s/fcha6AwE/EYwC7ABa9x6nZB4BbAGeeeCIiIlIn92MMAJBcB7AN4BXArZlxJlPNGUlD8fi1CuDBzJ7rGOKU5NfQm40rkiuVD5KJ5Eo5a/JF8rTqIQ7GvB56jByxjPc4ZvaDKgcZTHjHFjLilHgkOfAc1/syYZJNAJeRIpazXKKYrX'+
	'4TbuFwV+Ifrrzqb+FysF70iBnxenUMZyT7USNmxOuzeKypXtSIjYg3NGyoiI2Kl0SJ2Mh4Sd0RGx0vqStiK+IlVUdsVbykqoitjJfMO2Kr4yXzitiJeMmsI3YqXjKriJ2Ml/w3YqfjJd6IijckN6LijZAR8aX8KN5vGREVb5wZROxuvOQfERUvcURUvN8yIireOH+IqHjTlBFH/WXaixgv3EAJyUMAR+XXczO7qHMeERERERERERGJ4BvscGZ+uUXN4QAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_show_control_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(-2.62);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_show_control';
		el.userData.x = 0;
		el.userData.y = -2.62;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(-3.14);
		el.userData.angle = 180.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_show_control.material) me._btn_show_control.material.opacity = v;
			me._btn_show_control.visible = (v>0 && me._btn_show_control.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_show_control.visible
			let parentEl = me._btn_show_control.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_show_control.userData.opacity = v;
			v = v * me._btn_show_control.userData.parentOpacity;
			me._btn_show_control.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_show_control.children.length; i++) {
				let child = me._btn_show_control.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_show_control.userData.parentOpacity = v;
			v = v * me._btn_show_control.userData.opacity
			me._btn_show_control.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_show_control.children.length; i++) {
				let child = me._btn_show_control.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_show_control = el;
		el.userData.ggId="btn_show_control";
		me._btn_show_control.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_show_control'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_show_control.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_show_control.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_show_control.ggCurrentLogicStateScaling == 0) {
					me._btn_show_control.scale.set(1.5, 1.5, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_show_control.position.x = (me._btn_show_control.position.x - me._btn_show_control.userData.curScaleOffX) + scaleOffX;
					me._btn_show_control.userData.curScaleOffX = scaleOffX;
					me._btn_show_control.position.y = (me._btn_show_control.position.y - me._btn_show_control.userData.curScaleOffY) + scaleOffY;
					me._btn_show_control.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_show_control.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_show_control.position.x = (me._btn_show_control.position.x - me._btn_show_control.userData.curScaleOffX) + scaleOffX;
					me._btn_show_control.userData.curScaleOffX = scaleOffX;
					me._btn_show_control.position.y = (me._btn_show_control.position.y - me._btn_show_control.userData.curScaleOffY) + scaleOffY;
					me._btn_show_control.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_show_control.logicBlock_scaling();
		me._btn_show_control.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_controls') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._btn_show_control.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._btn_show_control.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._btn_show_control.ggCurrentLogicStateVisible == 0) {
			me._btn_show_control.visible=((!me._btn_show_control.material && Number(me._btn_show_control.userData.opacity>0)) || Number(me._btn_show_control.material.opacity)>0)?true:false;
			me._btn_show_control.userData.visible=true;
				}
				else {
			me._btn_show_control.visible=false;
			me._btn_show_control.userData.visible=false;
				}
			}
		}
		me._btn_show_control.logicBlock_visible();
		me._btn_show_control.userData.onclick=function (e) {
			player.setVariableValue('vis_controls', !player.getVariableValue('vis_controls'));
		}
		me._btn_show_control.userData.onmouseenter=function (e) {
			me.elementMouseOver['btn_show_control']=true;
			me._btn_show_control.logicBlock_scaling();
		}
		me._btn_show_control.userData.ontouchend=function (e) {
			me._btn_show_control.logicBlock_scaling();
		}
		me._btn_show_control.userData.onmouseleave=function (e) {
			me.elementMouseOver['btn_show_control']=false;
			me._btn_show_control.logicBlock_scaling();
		}
		me._btn_show_control.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._btn_show_control);
		geometry = new THREE.PlaneGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'volum_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'volum_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._volum.material.opacity = v * me._volum.userData.backgroundColorAlpha;
			if (me._volum.userData.ggSubElement) {
				me._volum.userData.ggSubElement.material.opacity = v
				me._volum.userData.ggSubElement.visible = (v>0 && me._volum.userData.visible);
			}
			me._volum.visible = (v>0 && me._volum.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._volum.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._volum.userData.backgroundColorAlpha = v;
			me._volum.userData.setOpacity(me._volum.userData.opacity);
		}
		el.translateX(3.8);
		el.translateY(-2.8);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'volum';
		el.userData.x = 3.8;
		el.userData.y = -2.8;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._volum.visible
			let parentEl = me._volum.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._volum.userData.opacity = v;
			v = v * me._volum.userData.parentOpacity;
			me._volum.userData.setOpacityInternal(v);
			for (let i = 0; i < me._volum.children.length; i++) {
				let child = me._volum.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._volum.userData.parentOpacity = v;
			v = v * me._volum.userData.opacity
			me._volum.userData.setOpacityInternal(v);
			for (let i = 0; i < me._volum.children.length; i++) {
				let child = me._volum.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._volum = el;
		el.userData.ggId="volum";
		me._volum.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'Svg 2_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'Svg 2_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.1);
		el.translateY(0.1);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Svg 2';
		el.userData.x = -0.1;
		el.userData.y = 0.1;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._svg_2.material) me._svg_2.material.opacity = v;
			me._svg_2.visible = (v>0 && me._svg_2.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._svg_2.visible
			let parentEl = me._svg_2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._svg_2.userData.opacity = v;
			v = v * me._svg_2.userData.parentOpacity;
			me._svg_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_2.children.length; i++) {
				let child = me._svg_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._svg_2.userData.parentOpacity = v;
			v = v * me._svg_2.userData.opacity
			me._svg_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_2.children.length; i++) {
				let child = me._svg_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._svg_2 = el;
		el.userData.ggId="Svg 2";
		me._svg_2.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['svg_2'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._svg_2.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._svg_2.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._svg_2.ggCurrentLogicStateScaling == 0) {
					me._svg_2.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_2.position.x = (me._svg_2.position.x - me._svg_2.userData.curScaleOffX) + scaleOffX;
					me._svg_2.userData.curScaleOffX = scaleOffX;
					me._svg_2.position.y = (me._svg_2.position.y - me._svg_2.userData.curScaleOffY) + scaleOffY;
					me._svg_2.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._svg_2.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_2.position.x = (me._svg_2.position.x - me._svg_2.userData.curScaleOffX) + scaleOffX;
					me._svg_2.userData.curScaleOffX = scaleOffX;
					me._svg_2.position.y = (me._svg_2.position.y - me._svg_2.userData.curScaleOffY) + scaleOffY;
					me._svg_2.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._svg_2.logicBlock_scaling();
		me._svg_2.userData.onclick=function (e) {
			player.setVolume("_main",1);
			me._svg_2.visible=false;
			me._svg_2.userData.visible=false;
			me._svg_1.visible=((!me._svg_1.material && Number(me._svg_1.userData.opacity>0)) || Number(me._svg_1.material.opacity)>0)?true:false;
			me._svg_1.userData.visible=true;
		}
		me._svg_2.userData.onmouseenter=function (e) {
			me.elementMouseOver['svg_2']=true;
			me._svg_2.logicBlock_scaling();
		}
		me._svg_2.userData.ontouchend=function (e) {
			me._svg_2.logicBlock_scaling();
		}
		me._svg_2.userData.onmouseleave=function (e) {
			me.elementMouseOver['svg_2']=false;
			me._svg_2.logicBlock_scaling();
		}
		me._svg_2.userData.ggUpdatePosition=function (useTransition) {
		}
		me._volum.add(me._svg_2);
		geometry = new THREE.PlaneGeometry(0.6, 0.6, 5, 5 );
		geometry.name = 'Svg 1_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAARW0lEQVR4nO2da3gURbrH/9U9tySTTAYIEJJICJgQbkHYfVQWdQm73CFclAXWo+5ZxFXwEJbsYYE9HnRRRBFzVI6syj7rBWSjkAQhiOuGR3ERjqAGghAuSRACQoBJMoFkLt11PiQZppMJ6e6pucT071O6urrqnf6nq6ur3noL0NDQ0NDQ0NDQ0NDQ0NDQ0PiRQEJtAHPyYOiuM/QXCNIoaE8CGg1w0QCNJgTRAEAp7ACxA6KdgtgJyGWeouyq23kGs+EM9U9gSacWODEPEXa9bhQIl0mADICmAegHgFdZpACgAiBlFCgBFYujXe7952ejgZ3VwaXTCWwtNAyjopgFQjIBjAJgCHCVTgD7QWkx4bhCW5bzSIDrY0qnELjHNsS7Od08EPIQgGEhNYagBC'+
	'J9Vye6t1yZhYshtUUG4SswBbEU6DLBcUsJpeMBcKE2qRUiJWQPRPGl2unuYhDQUBvki/ATmIJYC41TAHElBe4MtTlyIMBBiOJq2wxhV7gJHVYCWwv4SRTcGoS6GVbPEQJxuW26UBRqQ1oIC4Fj803JgDsXhGSF2hYmUFoIUbe4Zlbj2VCbElqBi2C0OnU5FGQlgIiQ2sKeBgK62mZwv4RJcITKiJAJHL3dmMrzYh4oMkJlQ1AgKBEEbrZ9puNkKKoPSc/Umm+Yy3Pi4R+9uABAkcFz4mFroWFOKKoP6hOcvBem2lp9LgUeC2a94QIFNlotriWVY9AYrDqDJrBlJ6xE0O8Axehg1RmWEHxBede02imwBae6IND9o4gEQXB/DGBIMOrrBJTqiH78lawbFwJdUcAFji40pvFU/ATAbYGuq5NxViDceHuWoyyQlQRU4OhC'+
	'YxoPcR8o4gJZT6eFoFoAd08gRQ6YwM3N8n5oT25HnNUR/ahANdcB+Uyy7IS1+Z2ridsxfd3UtSc2H7GBKJy5wMl7YSKCfge0DpUShoDTf5S8FybWBTMXuLZWn9vlP4XUQDHaVqt/mXWxTN/B1nzDXEroFpZldjUIIXNtWc6tzMpjVVD0dmMqz4mHAZhZldlFqRd5bkTdVMcpFoWxaaKLYOR5MQ+auCwwc6L4AYpgZFEYE4GtTl1Ol5g4CBYUGVanbimLovxuomPzTckgwnfo5PO5GeYRKKn/OtRmeNMAgU/312mAwRPszkUnFjeCi8Sq5DVYm5IbalNaEwHe7bdRfglsLeQnd2Y3m/TIwfhwyC7M7jkv1Ka0A5luLeAn+VOCeoEpCKXcc/5UHio4wuG38b/D1kGF6GdKCbU5t4QS7jlQ9a9S1QI3ubZ2Pu/H3oZ4bE'+
	'rbjKVJy6Hn9MzKHRVzD0gghvYpMqz5/GS1l6sTmIIA4kq1lYaKCd0mo2DoHtwZM6rNOY6ob8wWJmTjrYHv4d/jA+OoInLcSrVPsapfZSnQZXYWp3QAiOLNeLbfOqwf8L+I4S0+84hUVFX2woRsLExYAgBYmrQcWT1mqbazPQhwl+Uj3Rg116r7t+U4Jt9owSDDPALbB+/GjLgHJOlO6v8qUT2nb9MaPNNvLdIi0/0uuw2Uy1FzmWKBe2xDfPNaobBGR3R4IiEb76V/iCSTdNbyZMMJ3F86GZddl/yqwyW6sPDUfJTdOO5J0xM91g/YgAgu0q+yW0MoHR+3C72VXqdYYDenm6fmumCSZLoN76TnYVHCEvBEulT4bz+8idmlU3G6QZmbcpyhl890u7sOC04+jCuuak9aP1N/5CQtV274reFcbp3i7znlQjUt4QxLCAiy'+
	'eszC9sG7Mdw8UnKu2nkJ8088iBe+X624eR5uHomiocWY2H2Kz/PVzktYdiYb1Gvd2Zxe/4ZBkaynxJXfe0UCWwsNwxCmn0YxvAXrBryGNSnrEcVL5zw+te1BVul47K/bp7jc4eaReCvtXU9HbWDkIJ/5vqz7Apsuvu45JiD4U/IzbD+dKDKaNZCNIoGpKIblqNVPY+5CwdA9mNhN+oQ1ig14qmIZFp96DDVudW7IOUnLEclHAQBMXAQ2pG5CN313n3k3VP0PqhznPcfDzSMxJvYXquptDwpxmpL8yproprAJYYOe6PH7pGX428Ct6G2Il5wrvX4EM0sn4sPqrZKmUyn/Wb4Y11xXPcfxhj54PuVln0+mQ2zEmrOrJGnMv42pMg1kC5yYhwg0xcQIC/qZUrBlUD7mxz8hudkUFG9ceA2/Pj4TlY0VftdzwVGFJ08tgE'+
	't0edJGW+7D3TG+vZL21nwqmZUaEf1TZJhH+G2HF6OatZCFbIHtel0wAp50CAHB7J7zsG1IEQZHDZWcu+i8gIeP/wq551+UCOIv39QfwvPnnpGkLUla5nP0q+kfbIMk7f44puvOjHaT7m65mXWyiyVcJhhEJ0iPHAwDp85Zwarvht/FP4lh5uFtzhVd3YGnK1fCLtT5a6JP8i5vxpy4B3F7ZBoAYHDUUIyzTsTH13a1yftZbTEqGss9Exnjuk3Enyv/xGRwBQAgcpkAiuVklS1wUxwq/3n19jfRx5jAoigAwHWhHk9XrsTOqwXMyvSFQAWsP78Wr6f+1ZP2ZGIO9lwravOOF6mIwivbkJ34BwBANB+Dn1nuxd6aT5nYQoh8LRR0smiaGmMCyTf1hzCjdELAxW3h85pifFV3wHPcz5SC9MjBPvPuamXTaMt97AwR5Wsh'+
	'T+A8GNAUQS4sEKiAV6vW4+Hjv8J5x7mg1UtBseXy25K0sdZxPvNWOc5LhjB/Es1wboYgpVmTDpHVRHfXGfoLoGrDA96St7wGB+TyT9snIfOf+lftPrhEl2cueWy38Xi1ar3PvIfsBz0TD7dHpiFWZ1X9Pd4KvrvJkHIVzhMdZZQlsEAQkOb5gqMK6889H4iiA0a9YMdX9QcwKuYeAEBqxEAkGpN8tiSH7Afx616PeI4HRKTikP0gEzsEIA1AhwLLaqIpaE+/LfoRsdcm7Sz5ciAAgJM3pKtCk4zs1uJRKk8TWQI3heTVaKH1TFQ/U3+f+c47vodABc9xX1MyMxvkaiKzF81pAntR7bosOe5r8t3/dFEXLjl/8Bxb2xnDVglLgbUn2Jtqp1TgGD6m3bz1gt3zdxQXxdAKwk7glkjpGk3UC3Y46c3gdWZd+7enQbzh+b'+
	'tlVooFhO0TrNEaQm/eOrUOe8FAXi+awt5xrq6DRRcr8am+LtS3m9fbN+uGcJ2ZDRTyNJH5BBNNYC966KVBg2rcNe3mNfM3W9LrIjuBAcpSYFET2Is4vfQT9Kyj3Gc+PdGjl+GmI6TNy3GAAewEptoTLGFQlNSZrrzhjM98icbbJF6dZxsrmdkgVxOZAx3kcse5ug4/jx0rOd5f69uZLzVSOsJ7zvE9MxsIkaeJrLFonqJMCMC6qj7GBPw+6Y+KrwvlZEOszoo7zD/xHJfUf9Nm4KOF1jNISn2xbwUPyIqOJ0vgq27nmViDXoD6DafaZX7844qv+U3vBXj9wit448JrcFM3a5NuyX2xmRJXnWLbP9rN6y3wqRtlrGaSAEC42uj0/eJvhbxOVtN2b/57sDGCJzwWJSzBO+l5SDQmBa1ejnB4pPejkrTimk985k0wJkrW'+
	'KLGaRQIAUJTL3YJPwUAHCWhUVDUMN49E/pCPMbXHjMCszW3FpG7TJKIdu34U5Q2nfead3H265PiL2s/YGcLJ10K2TxYFSgigeiFyC0+eetQvp7vH4hchw3yHJy2KN2NtSi5+HjsWqypWBMzpzkAMWNzsY9VC7vkXfPpcc4STLCO1C3X4V+3nzGyhFCVy88r3qqRiMQhZocoiL47fOObX9Z/Z/on74+Zged//hom76R48sdtUDDePxLIz2Wybw2bm93kCCcZEz/HBuv3t9p7vs2RKQkN8cm03O49KAOBEWR6VgIImOtrl3g+EfutVCooPqt/HzNKJOHb9qORcvKEP3k7/O7IT/8A0PENm7C+xMCFbktbe00tAsKDPQknah9XMIhMCgCO60f2l3MyyBW7eYnW/KpMCQGVjBeZ9NwNvXtwgudFNN3gRNqdvR3I787RKSI'+
	'tMx4sDXpG844uu7kBJ/Tc+84+J/YVkJcPX9q9Yf9Ip2u5W2WwSpbKbhmDgoi68fO4FPHJiDn5wSjcCHRI1DNuH7MYDcXP96oCtSn5OMmFw8sYJPFXp+9vdyJmwvO8qSdpfL/5Fdd0+Ico0UCQw4bhCZdYEh6/qDiDr6DjsvrZTkm7iIvB0v+fxyu1vwKrrpqrsFeVLUe1sigRQ47Zh0an57c4KLUxYLHlPf1t/mJmzewsE3A4l+RUJ3Lw5clhukGwX6pBzehH+WL6kzfTdWOs4FAz52OMJqYSKxnI8cmIOLjovIPv04+36Yd8dMxq/9Rq0oaBYXfmUXysb20BQonSDauUT/pS+o/iaIEFBsePKdswonYBv6w9LzsUZeuGtge9h2W3/BQNR9plW0ViOyUcy8X91vvs2cYZeWNs/V/Iq2HrpXXx3o1T5j7glyu+9YoF1'+
	'onsLgPB1YQBw3nEODx2fjVer1ku8GgHg4d7zkTdkBwZEpCoqs1H03a+J5mPwRurbkjni8obTePEc8yCAol7nVhxsXVXvw1JoKCKUTlRzbbDJMI/A2pRc3GbqK0l3UicM5Obqj+8bz2LCkXsVla3n9NiUtlky5uyiLsw+NlWybIUFlJDdtVlOxXEr1flkieJLqq4LASX1X2PWsUnIv/KBJN1bXLW4RBcO1km/HJ+qWMZcXAAAEdepuUyVwLXT3cUEYD9cFCCuC/VYWZ6DJacfR51Q6zOP2lCGG6pysaGqaS+Nl86tQeGVbartbA8KHKid6t6r5lp1v4qAAtyzqq4NIXuuFSHr6Lg2Tx3gn2fkhqpczD/xIPtv3mY4UXy26Z4rR/0IAAWJLdR/izANq3QrOMLhN70X4D8ScjxDmmrewUGBoKRmmusOtQKr94smoAQi83'+
	'BuwUCkIjZd3Ig532WhotG3P1W4QKi4Qq24gJ+O77bpQhEoDcvRLTkcv3EMs0on4++XN4falHagBbbpQpE/JWibcjSjbcrRDjUzGisJaKfrcLUmzMQFAV3tr7gAo7VJNoN7HYh8LwONDiAosRncTMYa2Cw+mwSHIHCzAbS/SEdDLvUixz2ASXB0nLVjmK0utM90nCSULGBVXleFEPIoq30LAcbLR20znO8TIDBf+10ACmxkufMoEID1wRaLKxsEX7Autwuwz2pxLWFdaECciS07YSVu/efQdgGXy1FQ1701M9D+OlSVBGSFf+0U2HREPx6A3938LsBZHdFPCIS4QICe4BaiC41pPMR9oIjrOHcXhKBaELjR9pkOdqvSWhHQGB32LEeZAO4eaE+yL84GWlwgCEFY7FmOMp7X/QwAawelzsxRHdGPCrS4QICbaG8sO2El'+
	'gn4HKHzHwu867AN1TQvUO7c1QQujVDsFttgY1y8psDFYdYYbFNgYa3GNC5a4QBCfYG+shYY5lNI3AZg7zPzjoJ4Q8ijrQQw5hERgAIjebkzleTEPlM1WAWELQYnIcQ+wHH5UQsgi3dlnOk7W6F13EtCVgPzFVJ2IBkLoihq9685QiQuE8An2pslpwP0yQKZ3nLszQAsg6LJZzOf6S1gI3IK1gJ/UvGd952y2CUoIFVf462bDkrASGABAQaz5/GSR41YS4K5QmyMHChzgiLjaNk0o8sdBLhCEn8AtUBDLR7oxoFxO84bU4RYZV6SE7AER19VOde8NN2FbCF+BveixDfFunW4uQB4Kg+b7WxD6rs7tfv/KLFzsOHto6RQCe2MtNAyjEKc178I5CoC6kD3ycQDYD0KLCbgdStfnhppOJ7A3iXmIsJt0d0PkMglBBkSaBo'+
	'IUqI/IJ4CiHBwpoxQl4MTi6Eb3l0piYoQbnVpgn+TB0N1kSBGANEppz+bdSaIBEt0SBr8pmDa1A7BTEDsh5DIPlF1tdMqOIKehoaGhoaGhoaGhoaGhoaGhEWT+HzAjy8YeDSAYAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'Svg 1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.1);
		el.translateY(0.1);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 60;
		el.userData.height = 60;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Svg 1';
		el.userData.x = -0.1;
		el.userData.y = 0.1;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._svg_1.material) me._svg_1.material.opacity = v;
			me._svg_1.visible = (v>0 && me._svg_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._svg_1.visible
			let parentEl = me._svg_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._svg_1.userData.opacity = v;
			v = v * me._svg_1.userData.parentOpacity;
			me._svg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_1.children.length; i++) {
				let child = me._svg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._svg_1.userData.parentOpacity = v;
			v = v * me._svg_1.userData.opacity
			me._svg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_1.children.length; i++) {
				let child = me._svg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._svg_1 = el;
		el.userData.ggId="Svg 1";
		me._svg_1.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['svg_1'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._svg_1.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._svg_1.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._svg_1.ggCurrentLogicStateScaling == 0) {
					me._svg_1.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_1.position.x = (me._svg_1.position.x - me._svg_1.userData.curScaleOffX) + scaleOffX;
					me._svg_1.userData.curScaleOffX = scaleOffX;
					me._svg_1.position.y = (me._svg_1.position.y - me._svg_1.userData.curScaleOffY) + scaleOffY;
					me._svg_1.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._svg_1.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_1.position.x = (me._svg_1.position.x - me._svg_1.userData.curScaleOffX) + scaleOffX;
					me._svg_1.userData.curScaleOffX = scaleOffX;
					me._svg_1.position.y = (me._svg_1.position.y - me._svg_1.userData.curScaleOffY) + scaleOffY;
					me._svg_1.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._svg_1.logicBlock_scaling();
		me._svg_1.userData.onclick=function (e) {
			player.setVolume("_main",0);
			me._svg_1.visible=false;
			me._svg_1.userData.visible=false;
			me._svg_2.visible=((!me._svg_2.material && Number(me._svg_2.userData.opacity>0)) || Number(me._svg_2.material.opacity)>0)?true:false;
			me._svg_2.userData.visible=true;
		}
		me._svg_1.userData.onmouseenter=function (e) {
			me.elementMouseOver['svg_1']=true;
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.ontouchend=function (e) {
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.onmouseleave=function (e) {
			me.elementMouseOver['svg_1']=false;
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._volum.add(me._svg_1);
		me.skinGroup.add(me._volum);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-1.97);
		el.translateY(-1.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 400;
		el.userData.height = 300;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'content_left';
		el.userData.x = -1.97;
		el.userData.y = -1.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._content_left.material) me._content_left.material.opacity = v;
			me._content_left.visible = (v>0 && me._content_left.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._content_left.visible
			let parentEl = me._content_left.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._content_left.userData.opacity = v;
			v = v * me._content_left.userData.parentOpacity;
			me._content_left.userData.setOpacityInternal(v);
			for (let i = 0; i < me._content_left.children.length; i++) {
				let child = me._content_left.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._content_left.userData.parentOpacity = v;
			v = v * me._content_left.userData.opacity
			me._content_left.userData.setOpacityInternal(v);
			for (let i = 0; i < me._content_left.children.length; i++) {
				let child = me._content_left.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._content_left = el;
		el.userData.ggId="content_left";
		me._content_left.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		width = 2;
		height = 1.5;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0 + 0, (height / 2.0) + 0.05);
		borderShape.lineTo((width / 2.0) + 0.05 - 0.12, (height / 2.0) + 0.05);
		borderShape.arc(0, -0.12, 0.12, Math.PI / 2.0, 2.0 * Math.PI, true);
		borderShape.lineTo((width / 2.0) + 0.05, (-height / 2.0) - 0.05 + 0.12);
		borderShape.arc(-0.12, 0, 0.12, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		borderShape.lineTo((-width / 2.0) - 0 + 0, (-height / 2.0) - 0.05);
		borderShape.lineTo((-width / 2.0) - 0, (height / 2.0) + 0.05 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + -0.025, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.07, (height / 2.0));
		innerShape.arc(0, -0.07, 0.07, Math.PI / 2.0, 2.0 * Math.PI, true);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.07);
		innerShape.arc(-0.07, 0, 0.07, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		innerShape.lineTo((-width / 2.0) + -0.025, (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (height / 2.0) - -0.025);
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'floorplan_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0.901961, 0.901961, 0.901961).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'floorplan_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'floorplan_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._floorplan.userData.border.material.opacity = v * me._floorplan.userData.borderColorAlpha;
			if (me._floorplan.userData.ggSubElement) {
				me._floorplan.userData.ggSubElement.material.opacity = v
				me._floorplan.userData.ggSubElement.visible = (v>0 && me._floorplan.userData.visible);
			}
			me._floorplan.visible = (v>0 && me._floorplan.userData.visible);
		}
		el.userData.setBorderColor = function(v) {
			me._floorplan.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._floorplan.userData.borderColorAlpha = v;
			me._floorplan.userData.setOpacity(me._floorplan.userData.opacity);
		}
		el.translateX(-1);
		el.translateY(-0.7);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 200;
		el.userData.height = 150;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'floorplan';
		el.userData.x = -1;
		el.userData.y = -0.7;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floorplan.visible
			let parentEl = me._floorplan.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floorplan.userData.opacity = v;
			v = v * me._floorplan.userData.parentOpacity;
			me._floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan.children.length; i++) {
				let child = me._floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floorplan.userData.parentOpacity = v;
			v = v * me._floorplan.userData.opacity
			me._floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan.children.length; i++) {
				let child = me._floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floorplan = el;
		el.userData.ggId="floorplan";
		me._floorplan.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._floorplan.ggCurrentLogicStateSize != newLogicStateSize) {
				me._floorplan.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._floorplan.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._floorplan.logicBlock_size();
		me._floorplan.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_floorplan') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._floorplan.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._floorplan.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._floorplan.ggCurrentLogicStateVisible == 0) {
			me._floorplan.visible=((!me._floorplan.material && Number(me._floorplan.userData.opacity>0)) || Number(me._floorplan.material.opacity)>0)?true:false;
			me._floorplan.userData.visible=true;
				}
				else {
			me._floorplan.visible=false;
			me._floorplan.userData.visible=false;
				}
			}
		}
		me._floorplan.logicBlock_visible();
		me._floorplan.userData.ggUpdatePosition=function (useTransition) {
		}
		me._content_left.add(me._floorplan);
		me.skinGroup.add(me._content_left);
		el = new THREE.Group();
		el.translateX(2.2);
		el.translateY(2.11);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Code Element 1';
		el.userData.x = 2.2;
		el.userData.y = 2.11;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._code_element_1.material) me._code_element_1.material.opacity = v;
			me._code_element_1.visible = (v>0 && me._code_element_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._code_element_1.visible
			let parentEl = me._code_element_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._code_element_1.userData.opacity = v;
			v = v * me._code_element_1.userData.parentOpacity;
			me._code_element_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._code_element_1.children.length; i++) {
				let child = me._code_element_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._code_element_1.userData.parentOpacity = v;
			v = v * me._code_element_1.userData.opacity
			me._code_element_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._code_element_1.children.length; i++) {
				let child = me._code_element_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._code_element_1 = el;
		el.userData.ggId="Code Element 1";
		me._code_element_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._code_element_1);
		geometry = new THREE.PlaneGeometry(8, 6, 5, 5 );
		geometry.name = 'intro_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'intro_material';
		el = new THREE.Mesh( geometry, material );
		width = 8;
		height = 6;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.01 + 0, (height / 2.0) + 0.01);
		borderShape.lineTo((width / 2.0) + 0.01 - 0, (height / 2.0) + 0.01);
		borderShape.lineTo((width / 2.0) + 0.01, (-height / 2.0) - 0.01 + 0);
		borderShape.lineTo((-width / 2.0) - 0.01 + 0, (-height / 2.0) - 0.01);
		borderShape.lineTo((-width / 2.0) - 0.01, (height / 2.0) + 0.01 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (-height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'intro_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0, 0, 0).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'intro_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'intro_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._intro.material.opacity = v * me._intro.userData.backgroundColorAlpha;
			me._intro.userData.border.material.opacity = v * me._intro.userData.borderColorAlpha;
			if (me._intro.userData.ggSubElement) {
				me._intro.userData.ggSubElement.material.opacity = v
				me._intro.userData.ggSubElement.visible = (v>0 && me._intro.userData.visible);
			}
			me._intro.visible = (v>0 && me._intro.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._intro.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._intro.userData.backgroundColorAlpha = v;
			me._intro.userData.setOpacity(me._intro.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._intro.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._intro.userData.borderColorAlpha = v;
			me._intro.userData.setOpacity(me._intro.userData.opacity);
		}
		el.translateX(0.01);
		el.translateY(-0.01);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'intro';
		el.userData.x = 0.01;
		el.userData.y = -0.01;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._intro.visible
			let parentEl = me._intro.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._intro.userData.opacity = v;
			v = v * me._intro.userData.parentOpacity;
			me._intro.userData.setOpacityInternal(v);
			for (let i = 0; i < me._intro.children.length; i++) {
				let child = me._intro.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._intro.userData.parentOpacity = v;
			v = v * me._intro.userData.opacity
			me._intro.userData.setOpacityInternal(v);
			for (let i = 0; i < me._intro.children.length; i++) {
				let child = me._intro.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._intro = el;
		el.userData.ggId="intro";
		me._intro.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(8, 6, 5, 5 );
		geometry.name = 'windows_backgr_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/windows_backgr.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'windows_backgr_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(-0.01);
		el.translateY(0.01);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'windows_backgr';
		el.userData.x = -0.01;
		el.userData.y = 0.01;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._windows_backgr.material) me._windows_backgr.material.opacity = v;
			me._windows_backgr.visible = (v>0 && me._windows_backgr.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._windows_backgr.visible
			let parentEl = me._windows_backgr.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._windows_backgr.userData.opacity = v;
			v = v * me._windows_backgr.userData.parentOpacity;
			me._windows_backgr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._windows_backgr.children.length; i++) {
				let child = me._windows_backgr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._windows_backgr.userData.parentOpacity = v;
			v = v * me._windows_backgr.userData.opacity
			me._windows_backgr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._windows_backgr.children.length; i++) {
				let child = me._windows_backgr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._windows_backgr = el;
		me._windows_backgr.userData.materialNormal = me._windows_backgr.material;
		el.userData.ggId="windows_backgr";
		me._windows_backgr.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('resp_phone') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._windows_backgr.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._windows_backgr.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._windows_backgr.ggCurrentLogicStateVisible == 0) {
			me._windows_backgr.visible=((!me._windows_backgr.material && Number(me._windows_backgr.userData.opacity>0)) || Number(me._windows_backgr.material.opacity)>0)?true:false;
			me._windows_backgr.userData.visible=true;
				}
				else {
			me._windows_backgr.visible=((!me._windows_backgr.material && Number(me._windows_backgr.userData.opacity>0)) || Number(me._windows_backgr.material.opacity)>0)?true:false;
			me._windows_backgr.userData.visible=true;
				}
			}
		}
		me._windows_backgr.logicBlock_visible();
		me._windows_backgr.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(3.52, 1.33, 5, 5 );
		geometry.name = 'Button 1_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'Button 1_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.58);
		el.translateY(-0.375);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 352;
		el.userData.height = 133;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Button 1';
		el.userData.x = 0.58;
		el.userData.y = -0.375;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.240);
		el.renderOrder = 24;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._button_1.material) me._button_1.material.opacity = v;
			me._button_1.visible = (v>0 && me._button_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._button_1.visible
			let parentEl = me._button_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._button_1.userData.opacity = v;
			v = v * me._button_1.userData.parentOpacity;
			me._button_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._button_1.children.length; i++) {
				let child = me._button_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._button_1.userData.parentOpacity = v;
			v = v * me._button_1.userData.opacity
			me._button_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._button_1.children.length; i++) {
				let child = me._button_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._button_1 = el;
		me._button_1.userData.materialNormal = me._button_1.material;
		el.userData.ggId="Button 1";
		me._button_1.userData.onclick=function (e) {
			player.setProjection(9);
			player.setPanTiltFov(90,-90,360);
			var params = {
						   pan: -123.13,
						   tilt: -21.1,
						   fov: 149.5,
						   projection: 4,
						   timingFunction: 0,
						   speed: 2
			};
			player.moveToEx(params);
			me._intro.visible=false;
			me._intro.userData.visible=false;
		}
		me._button_1.userData.onmouseleave=function (e) {
			me._button_2.visible=((!me._button_2.material && Number(me._button_2.userData.opacity>0)) || Number(me._button_2.material.opacity)>0)?true:false;
			me._button_2.userData.visible=true;
		}
		me._button_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._windows_backgr.add(me._button_1);
		geometry = new THREE.PlaneGeometry(3.52, 1.33, 5, 5 );
		geometry.name = 'Button 2_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'Button 2_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.58);
		el.translateY(-0.375);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 352;
		el.userData.height = 133;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Button 2';
		el.userData.x = 0.58;
		el.userData.y = -0.375;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.250);
		el.renderOrder = 25;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._button_2.material) me._button_2.material.opacity = v;
			me._button_2.visible = (v>0 && me._button_2.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._button_2.visible
			let parentEl = me._button_2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._button_2.userData.opacity = v;
			v = v * me._button_2.userData.parentOpacity;
			me._button_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._button_2.children.length; i++) {
				let child = me._button_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._button_2.userData.parentOpacity = v;
			v = v * me._button_2.userData.opacity
			me._button_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._button_2.children.length; i++) {
				let child = me._button_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._button_2 = el;
		me._button_2.userData.materialNormal = me._button_2.material;
		el.userData.ggId="Button 2";
		me._button_2.userData.onmouseenter=function (e) {
			me.elementMouseOver['button_2']=true;
		}
		me._button_2.userData.onmouseleave=function (e) {
			me.elementMouseOver['button_2']=false;
		}
		me._button_2.userData.ggUpdateConditionTimer=function () {
			if (me.elementMouseOver['button_2']) {
				me._button_2.visible=false;
				me._button_2.userData.visible=false;
				me._button_1.visible=((!me._button_1.material && Number(me._button_1.userData.opacity>0)) || Number(me._button_1.material.opacity)>0)?true:false;
				me._button_1.userData.visible=true;
			}
		}
		me._button_2.userData.ggUpdatePosition=function (useTransition) {
		}
		me._windows_backgr.add(me._button_2);
		me._intro.add(me._windows_backgr);
		me.skinGroup.add(me._intro);
		me._variable_resp_phone = {};
		me._variable_resp_phone.ggCurrentLogicState = -1;
		me._variable_resp_phone.logicBlock = function() {
			var newLogicState_resp_phone;
			if (
				((player.getViewerSize(true).width <= 1024))
			)
			{
				newLogicState_resp_phone = 0;
			}
			else {
				newLogicState_resp_phone = -1;
			}
			if (me._variable_resp_phone.ggCurrentLogicState != newLogicState_resp_phone) {
				me._variable_resp_phone.ggCurrentLogicState = newLogicState_resp_phone;
				if (me._variable_resp_phone.ggCurrentLogicState == 0) {
					player.setVariableValue('resp_phone', true);
				}
				else {
					player.setVariableValue('resp_phone', false);
				}
			}
		}
		me._variable_vis_sounds_splashscreen = {};
		me._variable_vis_sounds_splashscreen.ggCurrentLogicState = -1;
		me._variable_vis_sounds_splashscreen.logicBlock = function() {
			var newLogicState_vis_sounds_splashscreen;
			if (
				((player.getHasSounds() == true)) && 
				((player.getSoundsPermitted() != 1)) && 
				((player.getVariableValue('sounds_splashscreen_accepted') == false))
			)
			{
				newLogicState_vis_sounds_splashscreen = 0;
			}
			else {
				newLogicState_vis_sounds_splashscreen = -1;
			}
			if (me._variable_vis_sounds_splashscreen.ggCurrentLogicState != newLogicState_vis_sounds_splashscreen) {
				me._variable_vis_sounds_splashscreen.ggCurrentLogicState = newLogicState_vis_sounds_splashscreen;
				if (me._variable_vis_sounds_splashscreen.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_sounds_splashscreen', true);
				}
				else {
					player.setVariableValue('vis_sounds_splashscreen', false);
				}
			}
		}
		me._variable_vis_skin = {};
		me._variable_vis_skin.ggCurrentLogicState = -1;
		me._variable_vis_skin.logicBlock = function() {
			var newLogicState_vis_skin;
			if (
				((player.getVariableValue('vis_sounds_splashscreen') == false))
			)
			{
				newLogicState_vis_skin = 0;
			}
			else {
				newLogicState_vis_skin = -1;
			}
			if (me._variable_vis_skin.ggCurrentLogicState != newLogicState_vis_skin) {
				me._variable_vis_skin.ggCurrentLogicState = newLogicState_vis_skin;
				if (me._variable_vis_skin.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_skin', true);
				}
				else {
					player.setVariableValue('vis_skin', false);
				}
			}
		}
		me._variable_vis_popup = {};
		me._variable_vis_popup.ggCurrentLogicState = -1;
		me._variable_vis_popup.logicBlock = function() {
			var newLogicState_vis_popup;
			if (
				((player.getVariableValue('vis_url_popup') == true)) || 
				((player.getVariableValue('vis_image_popup') == true)) || 
				((player.getVariableValue('vis_pdf_popup') == true)) || 
				((player.getVariableValue('vis_video_youtube_popup') == true)) || 
				((player.getVariableValue('vis_video_vimeo_popup') == true)) || 
				((player.getVariableValue('vis_video_file_popup') == true)) || 
				((player.getVariableValue('vis_video_url_popup') == true)) || 
				((player.getVariableValue('vis_phone_info') == true)) || 
				((player.getVariableValue('vis_phone_image') == true)) || 
				((player.getVariableValue('vis_phone_pdf') == true)) || 
				((player.getVariableValue('vis_phone_youtube') == true)) || 
				((player.getVariableValue('vis_phone_vimeo') == true)) || 
				((player.getVariableValue('vis_phone_video_file') == true)) || 
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicState_vis_popup = 0;
			}
			else {
				newLogicState_vis_popup = -1;
			}
			if (me._variable_vis_popup.ggCurrentLogicState != newLogicState_vis_popup) {
				me._variable_vis_popup.ggCurrentLogicState = newLogicState_vis_popup;
				if (me._variable_vis_popup.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_popup', true);
				}
				else {
					player.setVariableValue('vis_popup', false);
				}
			}
		}
		me._variable_has_fullscreen = {};
		me._variable_has_fullscreen.ggCurrentLogicState = -1;
		me._variable_has_fullscreen.logicBlock = function() {
			var newLogicState_has_fullscreen;
			if (
				((player.getOS() == 4)) && 
				((player.getOS() != 6))
			)
			{
				newLogicState_has_fullscreen = 0;
			}
			else {
				newLogicState_has_fullscreen = -1;
			}
			if (me._variable_has_fullscreen.ggCurrentLogicState != newLogicState_has_fullscreen) {
				me._variable_has_fullscreen.ggCurrentLogicState = newLogicState_has_fullscreen;
				if (me._variable_has_fullscreen.ggCurrentLogicState == 0) {
					player.setVariableValue('has_fullscreen', false);
				}
				else {
					player.setVariableValue('has_fullscreen', true);
				}
			}
		}
		me._variable_resp_phone_3 = {};
		me._variable_resp_phone_3.ggCurrentLogicState = -1;
		me._variable_resp_phone_3.logicBlock = function() {
			var newLogicState_resp_phone_3;
			if (
				((player.getViewerSize(true).width <= 1024))
			)
			{
				newLogicState_resp_phone_3 = 0;
			}
			else {
				newLogicState_resp_phone_3 = -1;
			}
			if (me._variable_resp_phone_3.ggCurrentLogicState != newLogicState_resp_phone_3) {
				me._variable_resp_phone_3.ggCurrentLogicState = newLogicState_resp_phone_3;
				if (me._variable_resp_phone_3.ggCurrentLogicState == 0) {
					player.setVariableValue('resp_phone_3', true);
				}
				else {
					player.setVariableValue('resp_phone_3', false);
				}
			}
		}
		me._variable_opt_maps = {};
		me._variable_opt_maps.ggCurrentLogicState = -1;
		me._variable_opt_maps.logicBlock = function() {
			var newLogicState_opt_maps;
			if (
				((player.hasMap() == true))
			)
			{
				newLogicState_opt_maps = 0;
			}
			else {
				newLogicState_opt_maps = -1;
			}
			if (me._variable_opt_maps.ggCurrentLogicState != newLogicState_opt_maps) {
				me._variable_opt_maps.ggCurrentLogicState = newLogicState_opt_maps;
				if (me._variable_opt_maps.ggCurrentLogicState == 0) {
					player.setVariableValue('opt_maps', true);
				}
				else {
					player.setVariableValue('opt_maps', false);
				}
			}
		}
		me._variable_opt_floorplans = {};
		me._variable_opt_floorplans.ggCurrentLogicState = -1;
		me._variable_opt_floorplans.logicBlock = function() {
			var newLogicState_opt_floorplans;
			if (
				((player.hasFloorplan() == true))
			)
			{
				newLogicState_opt_floorplans = 0;
			}
			else {
				newLogicState_opt_floorplans = -1;
			}
			if (me._variable_opt_floorplans.ggCurrentLogicState != newLogicState_opt_floorplans) {
				me._variable_opt_floorplans.ggCurrentLogicState = newLogicState_opt_floorplans;
				if (me._variable_opt_floorplans.ggCurrentLogicState == 0) {
					player.setVariableValue('opt_floorplans', true);
				}
				else {
					player.setVariableValue('opt_floorplans', false);
				}
			}
		}
		me._screentint.logicBlock_visible();
		me._screentint.userData.setOpacity(1.00);
		me._url_popup.logicBlock_visible();
		me._url_popup.userData.setOpacity(1.00);
		me._popup_url.userData.setOpacity(1.00);
		me._url_popup_title.userData.setOpacity(1.00);
		me._image_popup_1.logicBlock_visible();
		me._image_popup_1.userData.setOpacity(1.00);
		me._loading_image.userData.setOpacity(1.00);
		me._popup_image.logicBlock_visible();
		me._popup_image.userData.setOpacity(1.00);
		me._image_popup_title.userData.setOpacity(1.00);
		me._pdf_popup_1.logicBlock_visible();
		me._pdf_popup_1.userData.setOpacity(1.00);
		me._pdf_popup_title.userData.setOpacity(1.00);
		me._popup_pdf.userData.setOpacity(1.00);
		me._video_youtube_popup_1.logicBlock_visible();
		me._video_youtube_popup_1.userData.setOpacity(1.00);
		me._video_youtube_popup_title.userData.setOpacity(1.00);
		me._popup_video_youtube.logicBlock_visible();
		me._popup_video_youtube.userData.setOpacity(1.00);
		me._popup_video_youtube.userData.ggVideoSource = '';
		me._popup_video_youtube.userData.ggVideoNotLoaded = true;
		me._video_vimeo_popup_1.logicBlock_visible();
		me._video_vimeo_popup_1.userData.setOpacity(1.00);
		me._video_vimeo_popup_title.userData.setOpacity(1.00);
		me._popup_video_vimeo.logicBlock_visible();
		me._popup_video_vimeo.userData.setOpacity(1.00);
		me._popup_video_vimeo.userData.ggVideoSource = '';
		me._popup_video_vimeo.userData.ggVideoNotLoaded = true;
		me._video_file_popup_1.logicBlock_visible();
		me._video_file_popup_1.userData.setOpacity(1.00);
		me._video_file_popup_title.userData.setOpacity(1.00);
		me._popup_video_file.logicBlock_visible();
		me._popup_video_file.userData.setOpacity(1.00);
		me._popup_video_file.userData.ggVideoSource = 'media_vr/';
		me._popup_video_file.userData.ggVideoNotLoaded = true;
		me._video_url_popup_1.logicBlock_visible();
		me._video_url_popup_1.userData.setOpacity(1.00);
		me._video_url_popup_title.userData.setOpacity(1.00);
		me._popup_video_url.logicBlock_visible();
		me._popup_video_url.userData.setOpacity(1.00);
		me._popup_video_url.userData.ggVideoSource = '';
		me._popup_video_url.userData.ggVideoNotLoaded = true;
		me._video_controller_1.logicBlock_visible();
		me._video_controller_1.userData.setOpacity(1.00);
		me._video_controller_button_pause.userData.setOpacity(1.00);
		me.elementMouseOver['video_controller_button_pause']=false;
		me._video_controller_button_play.userData.setOpacity(1.00);
		me.elementMouseOver['video_controller_button_play']=false;
		me._popup_close.logicBlock_visible();
		me._popup_close.userData.setOpacity(1.00);
		me.elementMouseOver['popup_close']=false;
		me._screentint_phone.logicBlock_visible();
		me._screentint_phone.userData.setOpacity(1.00);
		me._close_popup_phone0.userData.setOpacity(1.00);
		me._btn_close_popup_phone0.userData.setOpacity(1.00);
		me.elementMouseOver['btn_close_popup_phone0']=false;
		me._info_popup_phone.logicBlock_visible();
		me._info_popup_phone.userData.setOpacity(1.00);
		me._info_popup_text_phone.userData.setOpacity(1.00);
		me._info_popup_title_phone.userData.setOpacity(1.00);
		me._image_popup_phone.logicBlock_visible();
		me._image_popup_phone.userData.setOpacity(1.00);
		me._pdf_popup_phone.logicBlock_visible();
		me._pdf_popup_phone.userData.setOpacity(1.00);
		me._video_controller_phone.logicBlock_visible();
		me._video_controller_phone.userData.setOpacity(1.00);
		me._video_controller_button_pause_phone.userData.setOpacity(1.00);
		me.elementMouseOver['video_controller_button_pause_phone']=false;
		me._video_controller_button_play_phone.userData.setOpacity(1.00);
		me.elementMouseOver['video_controller_button_play_phone']=false;
		me._youtube_popup_phone.logicBlock_visible();
		me._youtube_popup_phone.userData.setOpacity(1.00);
		me._youtube_popup_phone.userData.ggVideoSource = '';
		me._youtube_popup_phone.userData.ggVideoNotLoaded = true;
		me._vimeo_popup_phone.logicBlock_visible();
		me._vimeo_popup_phone.userData.setOpacity(1.00);
		me._vimeo_popup_phone.userData.ggVideoSource = '';
		me._vimeo_popup_phone.userData.ggVideoNotLoaded = true;
		me._video_file_popup_phone.logicBlock_visible();
		me._video_file_popup_phone.userData.setOpacity(1.00);
		me._video_file_popup_phone.userData.ggVideoSource = 'media_vr/';
		me._video_file_popup_phone.userData.ggVideoNotLoaded = true;
		me._video_url_popup_phone.logicBlock_visible();
		me._video_url_popup_phone.userData.setOpacity(1.00);
		me._video_url_popup_phone.userData.ggVideoSource = 'media_vr/';
		me._video_url_popup_phone.userData.ggVideoNotLoaded = true;
		el = me._code_element_material_dart_hotspot_component;
		;
		me._code_element_material_dart_hotspot_component.userData.setOpacity(1.00);
		me._media_popup.logicBlock_visible();
		me._media_popup.userData.setOpacity(1.00);
		me._blur_bg.userData.setOpacity(1.00);
		me._media_popup_bg.userData.setOpacity(1.00);
		me._video_youtube_popup.logicBlock_visible();
		me._video_youtube_popup.userData.setOpacity(1.00);
		me._video_youtube_popup.userData.ggVideoSource = '';
		me._video_youtube_popup.userData.ggVideoNotLoaded = true;
		me._video_vimeo_popup.logicBlock_visible();
		me._video_vimeo_popup.userData.setOpacity(1.00);
		me._video_vimeo_popup.userData.ggVideoSource = '';
		me._video_vimeo_popup.userData.ggVideoNotLoaded = true;
		me._video_controller.logicBlock_visible();
		me._video_controller.userData.setOpacity(1.00);
		me._video_file_popup.logicBlock_visible();
		me._video_file_popup.userData.setOpacity(1.00);
		me._video_file_popup.userData.ggVideoSource = 'media_vr/';
		me._video_file_popup.userData.ggVideoNotLoaded = true;
		me._video_file_hs_popup_play.logicBlock_visible();
		me._video_file_hs_popup_play.userData.setOpacity(1.00);
		me.elementMouseOver['video_file_hs_popup_play']=false;
		me._video_url_popup.logicBlock_visible();
		me._video_url_popup.userData.setOpacity(1.00);
		me._video_url_popup.userData.ggVideoSource = '';
		me._video_url_popup.userData.ggVideoNotLoaded = true;
		me._video_url_hs_popup_play.logicBlock_visible();
		me._video_url_hs_popup_play.userData.setOpacity(1.00);
		me.elementMouseOver['video_url_hs_popup_play']=false;
		me._pdf_popup.logicBlock_visible();
		me._pdf_popup.userData.setOpacity(1.00);
		me._image_popup.logicBlock_visible();
		me._image_popup.userData.setOpacity(1.00);
		me._url_hs_popup_iframe.logicBlock_visible();
		me._url_hs_popup_iframe.userData.setOpacity(1.00);
		me._media_popup_close.userData.setOpacity(1.00);
		me.elementMouseOver['media_popup_close']=false;
		me._media_popup_title.userData.setOpacity(1.00);
		me._contact_form.userData.setOpacity(1.00);
		me._map.userData.setOpacity(1.00);
		me._phone.userData.setOpacity(1.00);
		me._zalo.userData.setOpacity(1.00);
		me._fb.userData.setOpacity(1.00);
		me._website.userData.setOpacity(1.00);
		me._text_1.userData.setOpacity(1.00);
		me._menu_no_image.userData.setOpacity(1.00);
		me._thumbnail_cate_menu.logicBlock_size();
		me._thumbnail_cate_menu.logicBlock_visible();
		me._thumbnail_cate_menu.userData.setOpacity(1.00);
		me._nodes_1.logicBlock_visible();
		me._nodes_1.userData.setOpacity(1.00);
		me._nodes_scroller_1.logicBlock_position();
		me._nodes_scroller_1.logicBlock_size();
		me._nodes_scroller_1.userData.setOpacity(1.00);
		me._nodes_cloner_1.logicBlock_size();
		me._nodes_cloner_1.userData.setOpacity(1.00);
		me._nodes_cloner_1.userData.ggUpdate();
		me._nodes_category_bg_1.logicBlock_visible();
		me._nodes_category_bg_1.userData.setOpacity(1.00);
		me.elementMouseOver['nodes_category_bg_1']=false;
		me._nodes_category_title_1.userData.setOpacity(1.00);
		me._nodes_back_1.userData.setOpacity(1.00);
		me._nodes_back_hover_1.logicBlock_visible();
		me._nodes_back_hover_1.userData.setOpacity(1.00);
		me._categories_scroller_1.logicBlock_visible();
		me._categories_scroller_1.userData.setOpacity(1.00);
		me._categories_cloner_1.userData.setOpacity(1.00);
		me._categories_cloner_1.userData.ggUpdate();
		me._btn_close_cate_menu.userData.setOpacity(1.00);
		me._bg_toggle_cate_menu.logicBlock_visible();
		me._bg_toggle_cate_menu.userData.setOpacity(1.00);
		me._toggle_cate_menu.userData.setOpacity(1.00);
		me.elementMouseOver['toggle_cate_menu']=false;
		me._control.logicBlock_position();
		me._control.userData.setOpacity(1.00);
		me._back_icon.logicBlock_scaling();
		me._back_icon.userData.setOpacity(1.00);
		me.elementMouseOver['back_icon']=false;
		me._forward_icon.logicBlock_scaling();
		me._forward_icon.userData.setOpacity(1.00);
		me.elementMouseOver['forward_icon']=false;
		me._btn_vr_mode.logicBlock_scaling();
		me._btn_vr_mode.userData.setOpacity(1.00);
		me.elementMouseOver['btn_vr_mode']=false;
		me._btn_fullscreen.logicBlock_scaling();
		me._btn_fullscreen.logicBlock_visible();
		me._btn_fullscreen.userData.setOpacity(1.00);
		me.elementMouseOver['btn_fullscreen']=false;
		me._btn_fullscreen_exit.logicBlock_visible();
		me._btn_fullscreen_exit.userData.setOpacity(1.00);
		me._btn_fullscreen_enter.logicBlock_visible();
		me._btn_fullscreen_enter.userData.setOpacity(1.00);
		me._btn_toggle_controls.userData.setOpacity(1.00);
		me._btn_toggle_controls_icon.logicBlock_scaling();
		me._btn_toggle_controls_icon.userData.setOpacity(1.00);
		me.elementMouseOver['btn_toggle_controls_icon']=false;
		me._btn_floorplan_icon.logicBlock_scaling();
		me._btn_floorplan_icon.logicBlock_visible();
		me._btn_floorplan_icon.userData.setOpacity(1.00);
		me.elementMouseOver['btn_floorplan_icon']=false;
		me._btn_of_floorplan_icon.logicBlock_scaling();
		me._btn_of_floorplan_icon.logicBlock_visible();
		me._btn_of_floorplan_icon.userData.setOpacity(1.00);
		me.elementMouseOver['btn_of_floorplan_icon']=false;
		me._menu.userData.setOpacity(1.00);
		me._thumbnails_toggle.logicBlock_visible();
		me._thumbnails_toggle.logicBlock_backgroundcolor();
		me._thumbnails_toggle.userData.setOpacity(1.00);
		me.elementMouseOver['thumbnails_toggle']=false;
		me._btn_thumbnails_icon.userData.setOpacity(1.00);
		me._thumbnail_menu.logicBlock_alpha();
		me._thumbnail_menu.userData.setOpacity(0.00);
		me._thumbnail_cloner.userData.setOpacity(1.00);
		me._thumbnail_cloner.userData.ggUpdate();
		me._screentint_phone_1.logicBlock_alpha();
		me._screentint_phone_1.userData.setOpacity(0.00);
		me._close_popup_phone.userData.setOpacity(1.00);
		me.elementMouseOver['close_popup_phone']=false;
		me._btn_close_popup_phone.logicBlock_visible();
		me._btn_close_popup_phone.userData.setOpacity(1.00);
		me.elementMouseOver['btn_close_popup_phone']=false;
		me._thumbnail_scroller_phone.userData.setOpacity(1.00);
		me._node_cloner_phone.userData.setOpacity(1.00);
		me._node_cloner_phone.userData.ggUpdate();
		el = me._thumbnail_menu_code;
		;
		me._thumbnail_menu_code.userData.setOpacity(1.00);
		me._btn_show_control.logicBlock_scaling();
		me._btn_show_control.logicBlock_visible();
		me._btn_show_control.userData.setOpacity(1.00);
		me.elementMouseOver['btn_show_control']=false;
		me._volum.userData.setOpacity(1.00);
		me._svg_2.logicBlock_scaling();
		me._svg_2.userData.setOpacity(1.00);
		me.elementMouseOver['svg_2']=false;
		me._svg_1.logicBlock_scaling();
		me._svg_1.userData.setOpacity(1.00);
		me.elementMouseOver['svg_1']=false;
		me._content_left.userData.setOpacity(1.00);
		me._floorplan.logicBlock_size();
		me._floorplan.logicBlock_visible();
		me._floorplan.userData.setOpacity(1.00);
		el = me._code_element_1;
		javascript:
document.addEventListener('contextmenu', (e) => {
  e.preventDefault();
});
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 's' || e.key === 'S') || e.key === 'F12') {
    e.preventDefault();
     }
});
;
		me._code_element_1.userData.setOpacity(1.00);
		me._intro.userData.setOpacity(1.00);
		me._windows_backgr.logicBlock_visible();
		me._windows_backgr.userData.setOpacity(1.00);
		me._button_1.userData.setOpacity(1.00);
		me._button_2.userData.setOpacity(1.00);
		me.elementMouseOver['button_2']=false;
		me.eventactivehotspotchangedCallback = function() {
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node_1')) {
				for(var i = 0; i < hotspotTemplates['ht_node_1'].length; i++) {
					hotspotTemplates['ht_node_1'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url_1')) {
				for(var i = 0; i < hotspotTemplates['ht_url_1'].length; i++) {
					hotspotTemplates['ht_url_1'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('arrow_hotspot')) {
				for(var i = 0; i < hotspotTemplates['arrow_hotspot'].length; i++) {
					hotspotTemplates['arrow_hotspot'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('flycam_hotspot')) {
				for(var i = 0; i < hotspotTemplates['flycam_hotspot'].length; i++) {
					hotspotTemplates['flycam_hotspot'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node__2_vr')) {
				for(var i = 0; i < hotspotTemplates['ht_node__2_vr'].length; i++) {
					hotspotTemplates['ht_node__2_vr'][i].ggEvent_activehotspotchanged();
				}
			}
		};
		player.addListener('activehotspotchanged', me.eventactivehotspotchangedCallback);
		me.eventchangenodeCallback = function() {
			for(var i = 0; i < me._node_cloner_phone.userData.ggInstances.length; i++) {
				me._node_cloner_phone.userData.ggInstances[i].ggEvent_changenode();
			}
			for(var i = 0; i < me._nodes_cloner_1.userData.ggInstances.length; i++) {
				me._nodes_cloner_1.userData.ggInstances[i].ggEvent_changenode();
			}
			for(var i = 0; i < me._thumbnail_cloner.userData.ggInstances.length; i++) {
				me._thumbnail_cloner.userData.ggInstances[i].ggEvent_changenode();
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node_1')) {
				for(var i = 0; i < hotspotTemplates['ht_node_1'].length; i++) {
					hotspotTemplates['ht_node_1'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url_1')) {
				for(var i = 0; i < hotspotTemplates['ht_url_1'].length; i++) {
					hotspotTemplates['ht_url_1'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('arrow_hotspot')) {
				for(var i = 0; i < hotspotTemplates['arrow_hotspot'].length; i++) {
					hotspotTemplates['arrow_hotspot'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('flycam_hotspot')) {
				for(var i = 0; i < hotspotTemplates['flycam_hotspot'].length; i++) {
					hotspotTemplates['flycam_hotspot'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node_vr_1')) {
				for(var i = 0; i < hotspotTemplates['ht_node_vr_1'].length; i++) {
					hotspotTemplates['ht_node_vr_1'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node__2_vr')) {
				for(var i = 0; i < hotspotTemplates['ht_node__2_vr'].length; i++) {
					hotspotTemplates['ht_node__2_vr'][i].ggEvent_changenode();
				}
			}
			me.skin_nodechangeCallback();
			me._screentint.logicBlock_visible();
			me._url_popup.logicBlock_visible();
			me._image_popup_1.logicBlock_visible();
			me._popup_image.logicBlock_visible();
			me._pdf_popup_1.logicBlock_visible();
			me._video_youtube_popup_1.logicBlock_visible();
			me._popup_video_youtube.logicBlock_visible();
			me._video_vimeo_popup_1.logicBlock_visible();
			me._popup_video_vimeo.logicBlock_visible();
			me._video_file_popup_1.logicBlock_visible();
			me._popup_video_file.logicBlock_visible();
			me._video_url_popup_1.logicBlock_visible();
			me._popup_video_url.logicBlock_visible();
			me._video_controller_1.logicBlock_visible();
			me._popup_close.logicBlock_visible();
			me._screentint_phone.logicBlock_visible();
			me._info_popup_phone.logicBlock_visible();
			me._image_popup_phone.logicBlock_visible();
			me._pdf_popup_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._youtube_popup_phone.logicBlock_visible();
			me._vimeo_popup_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._media_popup.logicBlock_visible();
			me._video_youtube_popup.logicBlock_visible();
			me._video_vimeo_popup.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._video_file_popup.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
			me._video_url_popup.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
			me._pdf_popup.logicBlock_visible();
			me._image_popup.logicBlock_visible();
			me._url_hs_popup_iframe.logicBlock_visible();
			me._thumbnail_cate_menu.logicBlock_size();
			me._thumbnail_cate_menu.logicBlock_visible();
			me._nodes_1.logicBlock_visible();
			me._nodes_scroller_1.logicBlock_position();
			me._nodes_scroller_1.logicBlock_size();
			me._nodes_cloner_1.logicBlock_size();
			me._nodes_category_bg_1.logicBlock_visible();
			me._categories_scroller_1.logicBlock_visible();
			me._bg_toggle_cate_menu.logicBlock_visible();
			me._control.logicBlock_position();
			me._btn_fullscreen.logicBlock_visible();
			me._btn_floorplan_icon.logicBlock_visible();
			me._btn_of_floorplan_icon.logicBlock_visible();
			me._thumbnails_toggle.logicBlock_visible();
			me._thumbnail_menu.logicBlock_alpha();
			me._screentint_phone_1.logicBlock_alpha();
			me._btn_show_control.logicBlock_visible();
			me._floorplan.logicBlock_size();
			me._floorplan.logicBlock_visible();
			me._windows_backgr.logicBlock_visible();
			me._variable_vis_sounds_splashscreen.logicBlock();
			me._variable_vis_skin.logicBlock();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('changenode', me.eventchangenodeCallback);
		me.eventchangevisitednodesCallback = function() {
			for(var i = 0; i < me._node_cloner_phone.userData.ggInstances.length; i++) {
				me._node_cloner_phone.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
			for(var i = 0; i < me._nodes_cloner_1.userData.ggInstances.length; i++) {
				me._nodes_cloner_1.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
			for(var i = 0; i < me._thumbnail_cloner.userData.ggInstances.length; i++) {
				me._thumbnail_cloner.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
		};
		player.addListener('changevisitednodes', me.eventchangevisitednodesCallback);
		me.eventconfigloadedCallback = function() {
			for(var i = 0; i < me._nodes_cloner_1.userData.ggInstances.length; i++) {
				me._nodes_cloner_1.userData.ggInstances[i].ggEvent_configloaded();
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node_1')) {
				for(var i = 0; i < hotspotTemplates['ht_node_1'].length; i++) {
					hotspotTemplates['ht_node_1'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url_1')) {
				for(var i = 0; i < hotspotTemplates['ht_url_1'].length; i++) {
					hotspotTemplates['ht_url_1'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('arrow_hotspot')) {
				for(var i = 0; i < hotspotTemplates['arrow_hotspot'].length; i++) {
					hotspotTemplates['arrow_hotspot'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('flycam_hotspot')) {
				for(var i = 0; i < hotspotTemplates['flycam_hotspot'].length; i++) {
					hotspotTemplates['flycam_hotspot'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node__2_vr')) {
				for(var i = 0; i < hotspotTemplates['ht_node__2_vr'].length; i++) {
					hotspotTemplates['ht_node__2_vr'][i].ggEvent_configloaded();
				}
			}
			me._screentint.logicBlock_visible();
			me._url_popup.logicBlock_visible();
			me._image_popup_1.logicBlock_visible();
			me._popup_image.logicBlock_visible();
			me._pdf_popup_1.logicBlock_visible();
			me._video_youtube_popup_1.logicBlock_visible();
			me._popup_video_youtube.logicBlock_visible();
			me._video_vimeo_popup_1.logicBlock_visible();
			me._popup_video_vimeo.logicBlock_visible();
			me._video_file_popup_1.logicBlock_visible();
			me._popup_video_file.logicBlock_visible();
			me._video_url_popup_1.logicBlock_visible();
			me._popup_video_url.logicBlock_visible();
			me._video_controller_1.logicBlock_visible();
			me._popup_close.logicBlock_visible();
			me._screentint_phone.logicBlock_visible();
			me._info_popup_phone.logicBlock_visible();
			me._image_popup_phone.logicBlock_visible();
			me._pdf_popup_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._youtube_popup_phone.logicBlock_visible();
			me._vimeo_popup_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._media_popup.logicBlock_visible();
			me._video_youtube_popup.logicBlock_visible();
			me._video_vimeo_popup.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._video_file_popup.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
			me._video_url_popup.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
			me._pdf_popup.logicBlock_visible();
			me._image_popup.logicBlock_visible();
			me._url_hs_popup_iframe.logicBlock_visible();
			me._thumbnail_cate_menu.logicBlock_size();
			me._thumbnail_cate_menu.logicBlock_visible();
			me._nodes_1.logicBlock_visible();
			me._nodes_scroller_1.logicBlock_position();
			me._nodes_scroller_1.logicBlock_size();
			me._nodes_cloner_1.logicBlock_size();
			me._nodes_category_bg_1.logicBlock_visible();
			me._categories_scroller_1.logicBlock_visible();
			if (
				(
					((skin._categories_cloner_1.ggNodeCount > 1))
				)
			) {
				player.setVariableValue('has_categories', true);
			}
			if (
				(
					((skin._categories_cloner_1.ggNodeCount > 1))
				)
			) {
				player.setVariableValue('vis_thumbs_categories', true);
			}
			if (
				(
					((skin._categories_cloner_1.ggNodeCount <= 1))
				)
			) {
				player.setVariableValue('vis_thumbs_nodes', true);
			}
			me._bg_toggle_cate_menu.logicBlock_visible();
			me._control.logicBlock_position();
			me._btn_fullscreen.logicBlock_visible();
			me._btn_floorplan_icon.logicBlock_visible();
			me._btn_of_floorplan_icon.logicBlock_visible();
			me._thumbnails_toggle.logicBlock_visible();
			me._thumbnail_menu.logicBlock_alpha();
			me._screentint_phone_1.logicBlock_alpha();
			me._btn_show_control.logicBlock_visible();
			me._floorplan.logicBlock_size();
			me._floorplan.logicBlock_visible();
			me._windows_backgr.logicBlock_visible();
			me._variable_vis_sounds_splashscreen.logicBlock();
			me._variable_vis_skin.logicBlock();
			me._variable_vis_popup.logicBlock();
			me._variable_has_fullscreen.logicBlock();
			me._variable_opt_maps.logicBlock();
			me._variable_opt_floorplans.logicBlock();
		};
		player.addListener('configloaded', me.eventconfigloadedCallback);
		me.eventfullscreenenterCallback = function() {
			me._btn_fullscreen_exit.logicBlock_visible();
			me._btn_fullscreen_enter.logicBlock_visible();
		};
		player.addListener('fullscreenenter', me.eventfullscreenenterCallback);
		me.eventfullscreenexitCallback = function() {
			me._btn_fullscreen_exit.logicBlock_visible();
			me._btn_fullscreen_enter.logicBlock_visible();
		};
		player.addListener('fullscreenexit', me.eventfullscreenexitCallback);
		me.eventhastouchCallback = function() {
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_hastouch();
				}
			}
		};
		player.addListener('hastouch', me.eventhastouchCallback);
		me.eventsizechangedCallback = function() {
			me._variable_resp_phone.logicBlock();
			me._variable_resp_phone_3.logicBlock();
		};
		player.addListener('sizechanged', me.eventsizechangedCallback);
		me.eventsoundspermittedchangedCallback = function() {
			me._variable_vis_sounds_splashscreen.logicBlock();
		};
		player.addListener('soundspermittedchanged', me.eventsoundspermittedchangedCallback);
		me.eventvarchanged_controls_left_openCallback = function() {
			me._btn_floorplan_icon.logicBlock_visible();
			me._btn_of_floorplan_icon.logicBlock_visible();
		};
		player.addListener('varchanged_controls_left_open', me.eventvarchanged_controls_left_openCallback);
		me.eventvarchanged_has_categoriesCallback = function() {
			me._nodes_1.logicBlock_visible();
			me._nodes_scroller_1.logicBlock_position();
			me._nodes_scroller_1.logicBlock_size();
			me._nodes_category_bg_1.logicBlock_visible();
		};
		player.addListener('varchanged_has_categories', me.eventvarchanged_has_categoriesCallback);
		me.eventvarchanged_has_fullscreenCallback = function() {
			me._btn_fullscreen.logicBlock_visible();
		};
		player.addListener('varchanged_has_fullscreen', me.eventvarchanged_has_fullscreenCallback);
		me.eventvarchanged_opt_fullscreenCallback = function() {
			me._btn_fullscreen.logicBlock_visible();
		};
		player.addListener('varchanged_opt_fullscreen', me.eventvarchanged_opt_fullscreenCallback);
		me.eventvarchanged_resp_phoneCallback = function() {
			for(var i = 0; i < me._nodes_cloner_1.userData.ggInstances.length; i++) {
				me._nodes_cloner_1.userData.ggInstances[i].ggEvent_varchanged_resp_phone();
			}
			me._popup_close.logicBlock_visible();
			me._thumbnail_cate_menu.logicBlock_size();
			me._nodes_cloner_1.logicBlock_size();
			me._floorplan.logicBlock_size();
			me._windows_backgr.logicBlock_visible();
		};
		player.addListener('varchanged_resp_phone', me.eventvarchanged_resp_phoneCallback);
		me.eventvarchanged_sounds_splashscreen_acceptedCallback = function() {
			me._variable_vis_sounds_splashscreen.logicBlock();
		};
		player.addListener('varchanged_sounds_splashscreen_accepted', me.eventvarchanged_sounds_splashscreen_acceptedCallback);
		me.eventvarchanged_vis_controlsCallback = function() {
			me._control.logicBlock_position();
			me._btn_show_control.logicBlock_visible();
		};
		player.addListener('varchanged_vis_controls', me.eventvarchanged_vis_controlsCallback);
		me.eventvarchanged_vis_floorplanCallback = function() {
			me._floorplan.logicBlock_visible();
		};
		player.addListener('varchanged_vis_floorplan', me.eventvarchanged_vis_floorplanCallback);
		me.eventvarchanged_vis_image_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._image_popup.logicBlock_visible();
		};
		player.addListener('varchanged_vis_image_hs_popup', me.eventvarchanged_vis_image_hs_popupCallback);
		me.eventvarchanged_vis_image_popupCallback = function() {
			me._image_popup_1.logicBlock_visible();
			me._popup_image.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_image_popup', me.eventvarchanged_vis_image_popupCallback);
		me.eventvarchanged_vis_pdf_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._pdf_popup.logicBlock_visible();
		};
		player.addListener('varchanged_vis_pdf_hs_popup', me.eventvarchanged_vis_pdf_hs_popupCallback);
		me.eventvarchanged_vis_pdf_popupCallback = function() {
			me._pdf_popup_1.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_pdf_popup', me.eventvarchanged_vis_pdf_popupCallback);
		me.eventvarchanged_vis_phone_imageCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._image_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_image', me.eventvarchanged_vis_phone_imageCallback);
		me.eventvarchanged_vis_phone_infoCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._info_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_info', me.eventvarchanged_vis_phone_infoCallback);
		me.eventvarchanged_vis_phone_pdfCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._pdf_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_pdf', me.eventvarchanged_vis_phone_pdfCallback);
		me.eventvarchanged_vis_phone_video_fileCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_video_file', me.eventvarchanged_vis_phone_video_fileCallback);
		me.eventvarchanged_vis_phone_video_urlCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_video_url', me.eventvarchanged_vis_phone_video_urlCallback);
		me.eventvarchanged_vis_phone_vimeoCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._vimeo_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_vimeo', me.eventvarchanged_vis_phone_vimeoCallback);
		me.eventvarchanged_vis_phone_youtubeCallback = function() {
			me._screentint_phone.logicBlock_visible();
			me._youtube_popup_phone.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_phone_youtube', me.eventvarchanged_vis_phone_youtubeCallback);
		me.eventvarchanged_vis_popupCallback = function() {
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node_1')) {
				for(var i = 0; i < hotspotTemplates['ht_node_1'].length; i++) {
					hotspotTemplates['ht_node_1'][i].ggEvent_varchanged_vis_popup();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url_1')) {
				for(var i = 0; i < hotspotTemplates['ht_url_1'].length; i++) {
					hotspotTemplates['ht_url_1'][i].ggEvent_varchanged_vis_popup();
				}
			}
			me._screentint.logicBlock_visible();
			me._popup_close.logicBlock_visible();
		};
		player.addListener('varchanged_vis_popup', me.eventvarchanged_vis_popupCallback);
		me.eventvarchanged_vis_skinCallback = function() {
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('arrow_hotspot')) {
				for(var i = 0; i < hotspotTemplates['arrow_hotspot'].length; i++) {
					hotspotTemplates['arrow_hotspot'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('flycam_hotspot')) {
				for(var i = 0; i < hotspotTemplates['flycam_hotspot'].length; i++) {
					hotspotTemplates['flycam_hotspot'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node__2_vr')) {
				for(var i = 0; i < hotspotTemplates['ht_node__2_vr'].length; i++) {
					hotspotTemplates['ht_node__2_vr'][i].ggEvent_varchanged_vis_skin();
				}
			}
		};
		player.addListener('varchanged_vis_skin', me.eventvarchanged_vis_skinCallback);
		me.eventvarchanged_vis_sounds_splashscreenCallback = function() {
			me._variable_vis_skin.logicBlock();
		};
		player.addListener('varchanged_vis_sounds_splashscreen', me.eventvarchanged_vis_sounds_splashscreenCallback);
		me.eventvarchanged_vis_thumbnailsCallback = function() {
			me._thumbnail_menu.logicBlock_alpha();
		};
		player.addListener('varchanged_vis_thumbnails', me.eventvarchanged_vis_thumbnailsCallback);
		me.eventvarchanged_vis_thumbnails_phoneCallback = function() {
			me._thumbnails_toggle.logicBlock_visible();
			me._screentint_phone_1.logicBlock_alpha();
		};
		player.addListener('varchanged_vis_thumbnails_phone', me.eventvarchanged_vis_thumbnails_phoneCallback);
		me.eventvarchanged_vis_thumbsCallback = function() {
			me._thumbnail_cate_menu.logicBlock_visible();
			me._bg_toggle_cate_menu.logicBlock_visible();
		};
		player.addListener('varchanged_vis_thumbs', me.eventvarchanged_vis_thumbsCallback);
		me.eventvarchanged_vis_thumbs_categoriesCallback = function() {
			me._categories_scroller_1.logicBlock_visible();
		};
		player.addListener('varchanged_vis_thumbs_categories', me.eventvarchanged_vis_thumbs_categoriesCallback);
		me.eventvarchanged_vis_thumbs_nodesCallback = function() {
			me._nodes_1.logicBlock_visible();
		};
		player.addListener('varchanged_vis_thumbs_nodes', me.eventvarchanged_vis_thumbs_nodesCallback);
		me.eventvarchanged_vis_url_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._url_hs_popup_iframe.logicBlock_visible();
			if (
				(
					((player.getVariableValue('vis_url_hs_popup') == false))
				)
			) {
					me._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("", params);
						if (hs!=this.ggText || force) {
							this.ggText=me._url_hs_popup_iframe.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				me._url_hs_popup_iframe.userData.ggUpdateText();
			}
		};
		player.addListener('varchanged_vis_url_hs_popup', me.eventvarchanged_vis_url_hs_popupCallback);
		me.eventvarchanged_vis_url_popupCallback = function() {
			me._url_popup.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_url_popup', me.eventvarchanged_vis_url_popupCallback);
		me.eventvarchanged_vis_video_file_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._video_file_popup.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
		};
		player.addListener('varchanged_vis_video_file_hs_popup', me.eventvarchanged_vis_video_file_hs_popupCallback);
		me.eventvarchanged_vis_video_file_popupCallback = function() {
			me._video_file_popup_1.logicBlock_visible();
			me._popup_video_file.logicBlock_visible();
			me._video_controller_1.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_video_file_popup', me.eventvarchanged_vis_video_file_popupCallback);
		me.eventvarchanged_vis_video_url_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._video_url_popup.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
		};
		player.addListener('varchanged_vis_video_url_hs_popup', me.eventvarchanged_vis_video_url_hs_popupCallback);
		me.eventvarchanged_vis_video_url_popupCallback = function() {
			me._video_url_popup_1.logicBlock_visible();
			me._popup_video_url.logicBlock_visible();
			me._video_controller_1.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_video_url_popup', me.eventvarchanged_vis_video_url_popupCallback);
		me.eventvarchanged_vis_video_vimeo_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._video_vimeo_popup.logicBlock_visible();
		};
		player.addListener('varchanged_vis_video_vimeo_hs_popup', me.eventvarchanged_vis_video_vimeo_hs_popupCallback);
		me.eventvarchanged_vis_video_vimeo_popupCallback = function() {
			me._video_vimeo_popup_1.logicBlock_visible();
			me._popup_video_vimeo.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_video_vimeo_popup', me.eventvarchanged_vis_video_vimeo_popupCallback);
		me.eventvarchanged_vis_video_youtube_hs_popupCallback = function() {
			me._media_popup.logicBlock_visible();
			me._video_youtube_popup.logicBlock_visible();
		};
		player.addListener('varchanged_vis_video_youtube_hs_popup', me.eventvarchanged_vis_video_youtube_hs_popupCallback);
		me.eventvarchanged_vis_video_youtube_popupCallback = function() {
			me._video_youtube_popup_1.logicBlock_visible();
			me._popup_video_youtube.logicBlock_visible();
			me._variable_vis_popup.logicBlock();
		};
		player.addListener('varchanged_vis_video_youtube_popup', me.eventvarchanged_vis_video_youtube_popupCallback);
	};
	this.removeSkin=function() {
	};
	function SkinCloner_node_cloner_phone_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'node_cloner_phone_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		geometry = new THREE.PlaneGeometry(1.5, 0.83, 5, 5 );
		geometry.name = 'thumbnail_image_phone_geometry';
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/thumbnail_image_phone_' + nodeId + '.webp');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_image_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(-0.015);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 150;
		el.userData.height = 83;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_image_phone';
		el.userData.x = 0;
		el.userData.y = -0.015;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_image_phone.material) me._thumbnail_image_phone.material.opacity = v;
			me._thumbnail_image_phone.visible = (v>0 && me._thumbnail_image_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_image_phone.visible
			let parentEl = me._thumbnail_image_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_image_phone.userData.opacity = v;
			v = v * me._thumbnail_image_phone.userData.parentOpacity;
			me._thumbnail_image_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_image_phone.children.length; i++) {
				let child = me._thumbnail_image_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_image_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_image_phone.userData.opacity
			me._thumbnail_image_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_image_phone.children.length; i++) {
				let child = me._thumbnail_image_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_image_phone = el;
		el.userData.ggId="thumbnail_image_phone";
		me._thumbnail_image_phone.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._thumbnail_image_phone.userData.onclick=function (e) {
			if (me._thumbnail_image_phone.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
			player.setVariableValue('vis_thumbnails_phone', false);
		}
		me._thumbnail_image_phone.userData.onmouseenter=function (e) {
			me.elementMouseOver['thumbnail_image_phone']=true;
			me._thumbnail_border_phone.logicBlock_alpha();
		}
		me._thumbnail_image_phone.userData.onmouseleave=function (e) {
			me.elementMouseOver['thumbnail_image_phone']=false;
			me._thumbnail_border_phone.logicBlock_alpha();
		}
		me._thumbnail_image_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(1.5, 0.83, 5, 5 );
		geometry.name = 'thumbnail_title_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_title_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_title_phone.material.opacity = v;
			if (me._thumbnail_title_phone.userData.hasScrollbar) {
				me._thumbnail_title_phone.userData.scrollbar.material.opacity = v;
				me._thumbnail_title_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._thumbnail_title_phone.userData.ggSubElement) {
				me._thumbnail_title_phone.userData.ggSubElement.material.opacity = v
				me._thumbnail_title_phone.userData.ggSubElement.visible = (v>0 && me._thumbnail_title_phone.userData.visible);
			}
			me._thumbnail_title_phone.visible = (v>0 && me._thumbnail_title_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_title_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_title_phone.userData.backgroundColorAlpha = v;
			me._thumbnail_title_phone.userData.setOpacity(me._thumbnail_title_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 150;
		el.userData.height = 83;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_title_phone';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_title_phone.visible
			let parentEl = me._thumbnail_title_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_title_phone.userData.opacity = v;
			v = v * me._thumbnail_title_phone.userData.parentOpacity;
			me._thumbnail_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_title_phone.children.length; i++) {
				let child = me._thumbnail_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_title_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_title_phone.userData.opacity
			me._thumbnail_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_title_phone.children.length; i++) {
				let child = me._thumbnail_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_title_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 300;
		canvas.height = 166;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._thumbnail_title_phone.userData.totalHeightCanv = 2 * (3);
			me._thumbnail_title_phone.userData.textLines = [];
			var ctx = me._thumbnail_title_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._thumbnail_title_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._thumbnail_title_phone.userData.textLines.push(line);
					line = '';
					me._thumbnail_title_phone.userData.totalHeightCanv += me._thumbnail_title_phone.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._thumbnail_title_phone.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._thumbnail_title_phone.userData.textLines.push(line);
					line = words[i];
					me._thumbnail_title_phone.userData.totalHeightCanv += me._thumbnail_title_phone.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._thumbnail_title_phone.userData.textLines.push(line);
			me._thumbnail_title_phone.userData.totalHeightCanv += me._thumbnail_title_phone.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._thumbnail_title_phone.userData.textCanvas;
			var ctx = me._thumbnail_title_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._thumbnail_title_phone.userData.textColor.r * 255 + ', ' + me._thumbnail_title_phone.userData.textColor.g * 255 + ', ' + me._thumbnail_title_phone.userData.textColor.b * 255 + ', ' + me._thumbnail_title_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._thumbnail_title_phone.userData.boxWidthCanv - (me._thumbnail_title_phone.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y -= me._thumbnail_title_phone.userData.scrollPosPercent * me._thumbnail_title_phone.userData.totalHeightCanv;
			y += (canv.height - me._thumbnail_title_phone.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._thumbnail_title_phone.userData.textLines.length; i++) {
				ctx.fillText(me._thumbnail_title_phone.userData.textLines[i], x, y);
				y += me._thumbnail_title_phone.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'thumbnail_title_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._thumbnail_title_phone.material.map) {
				me._thumbnail_title_phone.material.map.dispose();
			}
			me._thumbnail_title_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._thumbnail_title_phone.children.length; i++) {
				let child = me._thumbnail_title_phone.children[i];
				if (child.name.includes('scrollbar')) me._thumbnail_title_phone.remove(child);
			}
			var canv = me._thumbnail_title_phone.userData.textCanvas;
			var ctx = me._thumbnail_title_phone.userData.textCanvasContext;
			ctx.font = '36px Verdana';
			me._thumbnail_title_phone.userData.lineHeightCanv = 36 * 1.2;
			me._thumbnail_title_phone.userData.ggWrapText(false);
			me._thumbnail_title_phone.userData.boxWidthCanv = 2 * me._thumbnail_title_phone.userData.width;
			me._thumbnail_title_phone.userData.boxHeightCanv = 2 * me._thumbnail_title_phone.userData.height;
			me._thumbnail_title_phone.userData.scrollPosPercent = 0.0
			if (me._thumbnail_title_phone.userData.totalHeightCanv > (2 * (me._thumbnail_title_phone.userData.height))) {
				me._thumbnail_title_phone.userData.ggWrapText(true);
				me._thumbnail_title_phone.userData.pagePercent = (2 * (me._thumbnail_title_phone.userData.height) - me._thumbnail_title_phone.userData.lineHeightCanv) / me._thumbnail_title_phone.userData.totalHeightCanv;
				me._thumbnail_title_phone.userData.maxScrollPercent = (me._thumbnail_title_phone.userData.totalHeightCanv - (2 * (me._thumbnail_title_phone.userData.height))) / me._thumbnail_title_phone.userData.totalHeightCanv;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title_phone.userData.height / 100.0, 5, 5 );
				geometry.name = 'thumbnail_title_phone_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_phone_scrollbarBgMaterial';
				me._thumbnail_title_phone.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._thumbnail_title_phone.userData.scrollbarBg.name = 'thumbnail_title_phone_scrollbarBg';
				me._thumbnail_title_phone.add(me._thumbnail_title_phone.userData.scrollbarBg);
				me._thumbnail_title_phone.userData.scrollbarXPos = (me._thumbnail_title_phone.userData.width - 25) / 200.0;
				me._thumbnail_title_phone.userData.scrollbarBg.position.x = me._thumbnail_title_phone.userData.scrollbarXPos;
				me._thumbnail_title_phone.userData.scrollbarBg.position.z = me._thumbnail_title_phone.position.z + 0.01;
				me._thumbnail_title_phone.userData.scrollbarBg.userData.stopPropagation = true;
				me._thumbnail_title_phone.userData.scrollbarHeight = ((2 * me._thumbnail_title_phone.userData.height) / me._thumbnail_title_phone.userData.totalHeightCanv) * me._thumbnail_title_phone.userData.height;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title_phone.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'thumbnail_title_phone_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_phone_scrollbarMaterial';
				me._thumbnail_title_phone.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._thumbnail_title_phone.userData.scrollbar.name = 'thumbnail_title_phone_scrollbar';
				me._thumbnail_title_phone.add(me._thumbnail_title_phone.userData.scrollbar);
				me._thumbnail_title_phone.userData.scrollbar.position.x = me._thumbnail_title_phone.userData.scrollbarXPos;
				me._thumbnail_title_phone.userData.scrollbar.position.z = me._thumbnail_title_phone.position.z + 0.02;
				me._thumbnail_title_phone.userData.scrollbarYPosMin = (me._thumbnail_title_phone.userData.height - me._thumbnail_title_phone.userData.scrollbarHeight) / 200.0;
				me._thumbnail_title_phone.userData.scrollbarYPosMax = me._thumbnail_title_phone.userData.scrollbarYPosMin - (me._thumbnail_title_phone.userData.height - me._thumbnail_title_phone.userData.scrollbarHeight) / 100.0;
				me._thumbnail_title_phone.userData.scrollbar.position.y = me._thumbnail_title_phone.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'thumbnail_title_phone_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_phone_scrollbarPageDownMaterial';
				me._thumbnail_title_phone.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._thumbnail_title_phone.userData.scrollbarPageDown.name = 'thumbnail_title_phone_scrollbarPageDown';
				me._thumbnail_title_phone.userData.scrollbarPageDown.userData.onclick = function() {
					me._thumbnail_title_phone.userData.scrollPosPercent -= me._thumbnail_title_phone.userData.pagePercent;
					me._thumbnail_title_phone.userData.scrollPosPercent = Math.max(me._thumbnail_title_phone.userData.scrollPosPercent, 0);
					me._thumbnail_title_phone.userData.ggPaintCanvasText();
					me._thumbnail_title_phone.userData.scrollbar.position.y += (me._thumbnail_title_phone.userData.height * me._thumbnail_title_phone.userData.pagePercent) / 100.0;
					me._thumbnail_title_phone.userData.scrollbar.position.y = Math.min(me._thumbnail_title_phone.userData.scrollbar.position.y, me._thumbnail_title_phone.userData.scrollbarYPosMin);
				}
				me._thumbnail_title_phone.userData.scrollbarPageDown.position.x = me._thumbnail_title_phone.userData.scrollbarXPos;
				me._thumbnail_title_phone.userData.scrollbarPageDown.position.y = me._thumbnail_title_phone.userData.height / 400.0;
				me._thumbnail_title_phone.userData.scrollbarPageDown.position.z = me._thumbnail_title_phone.position.z + 0.05;
				me._thumbnail_title_phone.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._thumbnail_title_phone.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._thumbnail_title_phone.userData.scrollbarPageDown.visible = false;
				me._thumbnail_title_phone.add(me._thumbnail_title_phone.userData.scrollbarPageDown);
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'thumbnail_title_phone_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_phone_scrollbarPageUpMaterial';
				me._thumbnail_title_phone.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._thumbnail_title_phone.userData.scrollbarPageUp.name = 'thumbnail_title_phone_scrollbarPageUp';
				me._thumbnail_title_phone.userData.scrollbarPageUp.userData.onclick = function() {
					me._thumbnail_title_phone.userData.scrollPosPercent += me._thumbnail_title_phone.userData.pagePercent;
					me._thumbnail_title_phone.userData.scrollPosPercent = Math.min(me._thumbnail_title_phone.userData.scrollPosPercent, me._thumbnail_title_phone.userData.maxScrollPercent);
					me._thumbnail_title_phone.userData.ggPaintCanvasText();
					me._thumbnail_title_phone.userData.scrollbar.position.y -= (me._thumbnail_title_phone.userData.height * me._thumbnail_title_phone.userData.pagePercent) / 100.0;
					me._thumbnail_title_phone.userData.scrollbar.position.y = Math.max(me._thumbnail_title_phone.userData.scrollbar.position.y, me._thumbnail_title_phone.userData.scrollbarYPosMax);
				}
				me._thumbnail_title_phone.userData.scrollbarPageUp.position.x = me._thumbnail_title_phone.userData.scrollbarXPos;
				me._thumbnail_title_phone.userData.scrollbarPageUp.position.y = -me._thumbnail_title_phone.userData.height / 400.0;
				me._thumbnail_title_phone.userData.scrollbarPageUp.position.z = me._thumbnail_title_phone.position.z + 0.05;
				me._thumbnail_title_phone.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._thumbnail_title_phone.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._thumbnail_title_phone.userData.scrollbarPageUp.visible = false;
				me._thumbnail_title_phone.add(me._thumbnail_title_phone.userData.scrollbarPageUp);
				me._thumbnail_title_phone.userData.hasScrollbar = true;
			} else {
				me._thumbnail_title_phone.userData.hasScrollbar = false;
			}
			canv.width = me._thumbnail_title_phone.userData.boxWidthCanv;
			canv.height = me._thumbnail_title_phone.userData.boxHeightCanv;
			ctx.font = '36px Verdana';
			me._thumbnail_title_phone.userData.ggPaintCanvasText();
		}
		me._thumbnail_title_phone.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.ggUserdata.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._thumbnail_title_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._thumbnail_title_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_title_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_title_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._thumbnail_title_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._thumbnail_title_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="thumbnail_title_phone";
		me._thumbnail_title_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_image_phone.add(me._thumbnail_title_phone);
		geometry = new THREE.PlaneGeometry(1.5, 0.83, 5, 5 );
		geometry.name = 'thumbnail_border_phone_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0, 0).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_border_phone_material';
		el = new THREE.Mesh( geometry, material );
		width = 1.5;
		height = 0.83;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.02 + 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02 - 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02, (-height / 2.0) - 0.02 + 0);
		borderShape.lineTo((-width / 2.0) - 0.02 + 0, (-height / 2.0) - 0.02);
		borderShape.lineTo((-width / 2.0) - 0.02, (height / 2.0) + 0.02 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (-height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnail_border_phone_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0.760784, 0.909804, 0.0705882).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnail_border_phone_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnail_border_phone_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_border_phone.material.opacity = v * me._thumbnail_border_phone.userData.backgroundColorAlpha;
			me._thumbnail_border_phone.userData.border.material.opacity = v * me._thumbnail_border_phone.userData.borderColorAlpha;
			if (me._thumbnail_border_phone.userData.ggSubElement) {
				me._thumbnail_border_phone.userData.ggSubElement.material.opacity = v
				me._thumbnail_border_phone.userData.ggSubElement.visible = (v>0 && me._thumbnail_border_phone.userData.visible);
			}
			me._thumbnail_border_phone.visible = (v>0 && me._thumbnail_border_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_border_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_border_phone.userData.backgroundColorAlpha = v;
			me._thumbnail_border_phone.userData.setOpacity(me._thumbnail_border_phone.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnail_border_phone.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnail_border_phone.userData.borderColorAlpha = v;
			me._thumbnail_border_phone.userData.setOpacity(me._thumbnail_border_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 150;
		el.userData.height = 83;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_border_phone';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(10.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_border_phone.visible
			let parentEl = me._thumbnail_border_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_border_phone.userData.opacity = v;
			v = v * me._thumbnail_border_phone.userData.parentOpacity;
			me._thumbnail_border_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_border_phone.children.length; i++) {
				let child = me._thumbnail_border_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_border_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_border_phone.userData.opacity
			me._thumbnail_border_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_border_phone.children.length; i++) {
				let child = me._thumbnail_border_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_border_phone = el;
		el.userData.ggId="thumbnail_border_phone";
		me._thumbnail_border_phone.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['thumbnail_image_phone'] == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._thumbnail_border_phone.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._thumbnail_border_phone.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._thumbnail_border_phone.ggCurrentLogicStateAlpha == 0) {
					me._thumbnail_border_phone.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._thumbnail_border_phone.userData.transitions.length; i++) {
						if (me._thumbnail_border_phone.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_border_phone.userData.transitions[i].interval);
							me._thumbnail_border_phone.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_border_phone.material ? me._thumbnail_border_phone.material.opacity : me._thumbnail_border_phone.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_border_phone.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_border_phone.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_border_phone.userData.transitions.splice(me._thumbnail_border_phone.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_border_phone.userData.transitions.push(transition_alpha);
				}
				else {
					me._thumbnail_border_phone.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._thumbnail_border_phone.userData.transitions.length; i++) {
						if (me._thumbnail_border_phone.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_border_phone.userData.transitions[i].interval);
							me._thumbnail_border_phone.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_border_phone.material ? me._thumbnail_border_phone.material.opacity : me._thumbnail_border_phone.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_border_phone.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_border_phone.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_border_phone.userData.transitions.splice(me._thumbnail_border_phone.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_border_phone.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._thumbnail_border_phone.logicBlock_alpha();
		me._thumbnail_border_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_image_phone.add(me._thumbnail_border_phone);
		geometry = new THREE.PlaneGeometry(0.28, 0.28, 5, 5 );
		geometry.name = 'thumbnail_visited_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAABX0lEQVRoge3WPW7CQBBA4beIinJBkNwFJHrOQhFFOUVA4TL0kc1dvESRy5RMKpQIRbGxx+sFzav9M58Q3gHLsizLsizLsqxzeTFZZsEfszBeV107jDGQZnkxWYo77YERSOX8gwgzqfUb54TtYlbuqu5xEeZS6RI3fyhfnEOq7rsJYFMc3ACwDQ4SB7bFQcJADRwkCtTCQYJATRwkBtTGQULALnCQCLArHCQA7BIHNXbRLIzXWfDHvJgstV56rmsc1Fq2ZQhMxZ32msgYOKgBXMzKnRO2wEgLGQsHNf+DIrhD8K/ieAa+nAxWi8fP9yYvjImDKz4yGsjYOLjyK9oG2QcOGhwTTZB94aDhOXgNsk8ctDjo6yD7xkHLTeY/ZAo4UFjV/kICpIADpV30Av'+
	'nz8J5xqong8sJvsuAlC17ywm9E+l/mVQcQwR0+/BPAfFq+3cUvZ1mWZVmWZVmWdZ99AxjOWoveBi2YAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_visited_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.57);
		el.translateY(0.235);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 28;
		el.userData.height = 28;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_visited_phone';
		el.userData.x = 0.57;
		el.userData.y = 0.235;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_visited_phone.material) me._thumbnail_visited_phone.material.opacity = v;
			me._thumbnail_visited_phone.visible = (v>0 && me._thumbnail_visited_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_visited_phone.visible
			let parentEl = me._thumbnail_visited_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_visited_phone.userData.opacity = v;
			v = v * me._thumbnail_visited_phone.userData.parentOpacity;
			me._thumbnail_visited_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited_phone.children.length; i++) {
				let child = me._thumbnail_visited_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_visited_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_visited_phone.userData.opacity
			me._thumbnail_visited_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited_phone.children.length; i++) {
				let child = me._thumbnail_visited_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_visited_phone = el;
		el.userData.ggId="thumbnail_visited_phone";
		me._thumbnail_visited_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._thumbnail_visited_phone.ggElementNodeId()) == true)) || 
				((me._thumbnail_visited_phone.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_visited_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_visited_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_visited_phone.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_visited_phone.visible=((!me._thumbnail_visited_phone.material && Number(me._thumbnail_visited_phone.userData.opacity>0)) || Number(me._thumbnail_visited_phone.material.opacity)>0)?true:false;
			me._thumbnail_visited_phone.userData.visible=true;
				}
				else {
			me._thumbnail_visited_phone.visible=false;
			me._thumbnail_visited_phone.userData.visible=false;
				}
			}
		}
		me._thumbnail_visited_phone.logicBlock_visible();
		me._thumbnail_visited_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_image_phone.add(me._thumbnail_visited_phone);
		me.__obj.add(me._thumbnail_image_phone);
		me._thumbnail_image_phone.userData.setOpacity(1.00);
		me.elementMouseOver['thumbnail_image_phone']=false;
		me._thumbnail_title_phone.userData.setOpacity(1.00);
		me._thumbnail_border_phone.logicBlock_alpha();
		me._thumbnail_border_phone.userData.setOpacity(0.00);
		me._thumbnail_visited_phone.logicBlock_visible();
		me._thumbnail_visited_phone.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
					me._thumbnail_title_phone.userData.ggUpdateText();
				me._thumbnail_visited_phone.logicBlock_visible();
				me._thumbnail_visited_phone.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._thumbnail_visited_phone.logicBlock_visible();
			};
	};
	function SkinCloner_nodes_cloner_1_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'nodes_cloner_1_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 125;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_container';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._node_container.material) me._node_container.material.opacity = v;
			me._node_container.visible = (v>0 && me._node_container.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._node_container.visible
			let parentEl = me._node_container.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_container.userData.opacity = v;
			v = v * me._node_container.userData.parentOpacity;
			me._node_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_container.children.length; i++) {
				let child = me._node_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_container.userData.parentOpacity = v;
			v = v * me._node_container.userData.opacity
			me._node_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_container.children.length; i++) {
				let child = me._node_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_container = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="node_container";
		me._node_container.userData.onclick=function (e) {
			if (me._node_container.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('controls_left_open', false);
			}
		}
		me._node_container.userData.onmouseenter=function (e) {
			me.elementMouseOver['node_container']=true;
			me._node_bg_hover.logicBlock_visible();
		}
		me._node_container.userData.onmouseleave=function (e) {
			me.elementMouseOver['node_container']=false;
			me._node_bg_hover.logicBlock_visible();
		}
		me._node_container.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 2.4;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.arc(0, -0.05, 0.05, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.arc(-0.05, 0, 0.05, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.arc(0, 0.05, 0.05, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.arc(0.05, 0, 0.05, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'node_bg_hover_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0.74902, 0.368627).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'node_bg_hover_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._node_bg_hover.material.opacity = v * me._node_bg_hover.userData.backgroundColorAlpha;
			if (me._node_bg_hover.userData.ggSubElement) {
				me._node_bg_hover.userData.ggSubElement.material.opacity = v
				me._node_bg_hover.userData.ggSubElement.visible = (v>0 && me._node_bg_hover.userData.visible);
			}
			me._node_bg_hover.visible = (v>0 && me._node_bg_hover.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._node_bg_hover.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._node_bg_hover.userData.backgroundColorAlpha = v;
			me._node_bg_hover.userData.setOpacity(me._node_bg_hover.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.065);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 240;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_bg_hover';
		el.userData.x = 0;
		el.userData.y = 0.065;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._node_bg_hover.visible
			let parentEl = me._node_bg_hover.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_bg_hover.userData.opacity = v;
			v = v * me._node_bg_hover.userData.parentOpacity;
			me._node_bg_hover.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_bg_hover.children.length; i++) {
				let child = me._node_bg_hover.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_bg_hover.userData.parentOpacity = v;
			v = v * me._node_bg_hover.userData.opacity
			me._node_bg_hover.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_bg_hover.children.length; i++) {
				let child = me._node_bg_hover.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_bg_hover = el;
		el.userData.ggId="node_bg_hover";
		me._node_bg_hover.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._node_bg_hover.ggCurrentLogicStateSize != newLogicStateSize) {
				me._node_bg_hover.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._node_bg_hover.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._node_bg_hover.logicBlock_size();
		me._node_bg_hover.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['node_container'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._node_bg_hover.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._node_bg_hover.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._node_bg_hover.ggCurrentLogicStateVisible == 0) {
			me._node_bg_hover.visible=((!me._node_bg_hover.material && Number(me._node_bg_hover.userData.opacity>0)) || Number(me._node_bg_hover.material.opacity)>0)?true:false;
			me._node_bg_hover.userData.visible=true;
				}
				else {
			me._node_bg_hover.visible=false;
			me._node_bg_hover.userData.visible=false;
				}
			}
		}
		me._node_bg_hover.logicBlock_visible();
		me._node_bg_hover.userData.ggUpdatePosition=function (useTransition) {
		}
		me._node_container.add(me._node_bg_hover);
		geometry = new THREE.PlaneGeometry(2, 1.12, 5, 5 );
		geometry.name = 'node_title_active_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'node_title_active_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._node_title_active.material.opacity = v;
			if (me._node_title_active.userData.hasScrollbar) {
				me._node_title_active.userData.scrollbar.material.opacity = v;
				me._node_title_active.userData.scrollbarBg.material.opacity = v;
			}
			if (me._node_title_active.userData.ggSubElement) {
				me._node_title_active.userData.ggSubElement.material.opacity = v
				me._node_title_active.userData.ggSubElement.visible = (v>0 && me._node_title_active.userData.visible);
			}
			me._node_title_active.visible = (v>0 && me._node_title_active.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._node_title_active.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._node_title_active.userData.backgroundColorAlpha = v;
			me._node_title_active.userData.setOpacity(me._node_title_active.userData.opacity);
		}
		el.translateX(1.52);
		el.translateY(0.065);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 200;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_title_active';
		el.userData.x = 1.52;
		el.userData.y = 0.065;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._node_title_active.visible
			let parentEl = me._node_title_active.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_title_active.userData.opacity = v;
			v = v * me._node_title_active.userData.parentOpacity;
			me._node_title_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_title_active.children.length; i++) {
				let child = me._node_title_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_title_active.userData.parentOpacity = v;
			v = v * me._node_title_active.userData.opacity
			me._node_title_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_title_active.children.length; i++) {
				let child = me._node_title_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_title_active = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 400;
		canvas.height = 224;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._node_title_active.userData.totalHeightCanv = 2 * (3);
			me._node_title_active.userData.textLines = [];
			var ctx = me._node_title_active.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._node_title_active.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._node_title_active.userData.textLines.push(line);
					line = '';
					me._node_title_active.userData.totalHeightCanv += me._node_title_active.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._node_title_active.userData.width - 40 - (scrollbar ? 25 : 0))) && i > 0) {
					me._node_title_active.userData.textLines.push(line);
					line = words[i];
					me._node_title_active.userData.totalHeightCanv += me._node_title_active.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._node_title_active.userData.textLines.push(line);
			me._node_title_active.userData.totalHeightCanv += me._node_title_active.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._node_title_active.userData.textCanvas;
			var ctx = me._node_title_active.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._node_title_active.userData.textColor.r * 255 + ', ' + me._node_title_active.userData.textColor.g * 255 + ', ' + me._node_title_active.userData.textColor.b * 255 + ', ' + me._node_title_active.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 25;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y += (canv.height - me._node_title_active.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._node_title_active.userData.textLines.length; i++) {
				ctx.fillText(me._node_title_active.userData.textLines[i], x, y);
				y += me._node_title_active.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'node_title_active_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._node_title_active.material.map) {
				me._node_title_active.material.map.dispose();
			}
			me._node_title_active.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._node_title_active.children.length; i++) {
				let child = me._node_title_active.children[i];
				if (child.name.includes('scrollbar')) me._node_title_active.remove(child);
			}
			var canv = me._node_title_active.userData.textCanvas;
			var ctx = me._node_title_active.userData.textCanvasContext;
			ctx.font = 'bold 30px Verdana';
			me._node_title_active.userData.lineHeightCanv = 30 * 1.2;
			me._node_title_active.userData.ggWrapText(false);
			me._node_title_active.userData.boxWidthCanv = 2 * me._node_title_active.userData.width;
			me._node_title_active.userData.boxHeightCanv = 2 * me._node_title_active.userData.height;
			me._node_title_active.userData.hasScrollbar = false;
			canv.width = me._node_title_active.userData.boxWidthCanv;
			canv.height = me._node_title_active.userData.boxHeightCanv;
			ctx.font = 'bold 30px Verdana';
			me._node_title_active.userData.ggPaintCanvasText();
		}
		me._node_title_active.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggUserdata.title)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._node_title_active.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._node_title_active.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._node_title_active.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._node_title_active.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._node_title_active.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._node_title_active.userData.textColorAlpha = v;
		}
		el.userData.ggId="node_title_active";
		me._node_title_active.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._node_title_active.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._node_title_active.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._node_title_active.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._node_title_active, 115, 0);
					me._node_title_active.position.x = newPos.x;
					me._node_title_active.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._node_title_active, 172, 0);
					me._node_title_active.position.x = elPos.x;
					me._node_title_active.position.y = elPos.y;
				}
			}
		}
		me._node_title_active.logicBlock_position();
		me._node_title_active.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._node_title_active.ggCurrentLogicStateSize != newLogicStateSize) {
				me._node_title_active.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._node_title_active.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._node_title_active.logicBlock_size();
		me._node_title_active.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._node_title_active.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._node_title_active.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._node_title_active.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._node_title_active.ggCurrentLogicStateVisible == 0) {
			me._node_title_active.visible=((!me._node_title_active.material && Number(me._node_title_active.userData.opacity>0)) || Number(me._node_title_active.material.opacity)>0)?true:false;
			me._node_title_active.userData.visible=true;
				}
				else {
			me._node_title_active.visible=false;
			me._node_title_active.userData.visible=false;
				}
			}
		}
		me._node_title_active.logicBlock_visible();
		me._node_title_active.userData.ggUpdatePosition=function (useTransition) {
		}
		me._node_container.add(me._node_title_active);
		geometry = new THREE.PlaneGeometry(2, 1.12, 5, 5 );
		geometry.name = 'node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._node_title.material.opacity = v;
			if (me._node_title.userData.hasScrollbar) {
				me._node_title.userData.scrollbar.material.opacity = v;
				me._node_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._node_title.userData.ggSubElement) {
				me._node_title.userData.ggSubElement.material.opacity = v
				me._node_title.userData.ggSubElement.visible = (v>0 && me._node_title.userData.visible);
			}
			me._node_title.visible = (v>0 && me._node_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._node_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._node_title.userData.backgroundColorAlpha = v;
			me._node_title.userData.setOpacity(me._node_title.userData.opacity);
		}
		el.translateX(1.52);
		el.translateY(0.065);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 200;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_title';
		el.userData.x = 1.52;
		el.userData.y = 0.065;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._node_title.visible
			let parentEl = me._node_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_title.userData.opacity = v;
			v = v * me._node_title.userData.parentOpacity;
			me._node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_title.children.length; i++) {
				let child = me._node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_title.userData.parentOpacity = v;
			v = v * me._node_title.userData.opacity
			me._node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_title.children.length; i++) {
				let child = me._node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 400;
		canvas.height = 224;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._node_title.userData.totalHeightCanv = 2 * (3);
			me._node_title.userData.textLines = [];
			var ctx = me._node_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._node_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._node_title.userData.textLines.push(line);
					line = '';
					me._node_title.userData.totalHeightCanv += me._node_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._node_title.userData.width - 40 - (scrollbar ? 25 : 0))) && i > 0) {
					me._node_title.userData.textLines.push(line);
					line = words[i];
					me._node_title.userData.totalHeightCanv += me._node_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._node_title.userData.textLines.push(line);
			me._node_title.userData.totalHeightCanv += me._node_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._node_title.userData.textCanvas;
			var ctx = me._node_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._node_title.userData.textColor.r * 255 + ', ' + me._node_title.userData.textColor.g * 255 + ', ' + me._node_title.userData.textColor.b * 255 + ', ' + me._node_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 25;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y += (canv.height - me._node_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._node_title.userData.textLines.length; i++) {
				ctx.fillText(me._node_title.userData.textLines[i], x, y);
				y += me._node_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._node_title.material.map) {
				me._node_title.material.map.dispose();
			}
			me._node_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._node_title.children.length; i++) {
				let child = me._node_title.children[i];
				if (child.name.includes('scrollbar')) me._node_title.remove(child);
			}
			var canv = me._node_title.userData.textCanvas;
			var ctx = me._node_title.userData.textCanvasContext;
			ctx.font = '30px Verdana';
			me._node_title.userData.lineHeightCanv = 30 * 1.2;
			me._node_title.userData.ggWrapText(false);
			me._node_title.userData.boxWidthCanv = 2 * me._node_title.userData.width;
			me._node_title.userData.boxHeightCanv = 2 * me._node_title.userData.height;
			me._node_title.userData.hasScrollbar = false;
			canv.width = me._node_title.userData.boxWidthCanv;
			canv.height = me._node_title.userData.boxHeightCanv;
			ctx.font = '30px Verdana';
			me._node_title.userData.ggPaintCanvasText();
		}
		me._node_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggUserdata.title)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._node_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._node_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._node_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._node_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._node_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._node_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="node_title";
		me._node_title.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._node_title.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._node_title.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._node_title.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._node_title, 115, 0);
					me._node_title.position.x = newPos.x;
					me._node_title.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._node_title, 172, 0);
					me._node_title.position.x = elPos.x;
					me._node_title.position.y = elPos.y;
				}
			}
		}
		me._node_title.logicBlock_position();
		me._node_title.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._node_title.ggCurrentLogicStateSize != newLogicStateSize) {
				me._node_title.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._node_title.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._node_title.logicBlock_size();
		me._node_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._node_title.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._node_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._node_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._node_title.ggCurrentLogicStateVisible == 0) {
			me._node_title.visible=false;
			me._node_title.userData.visible=false;
				}
				else {
			me._node_title.visible=((!me._node_title.material && Number(me._node_title.userData.opacity>0)) || Number(me._node_title.material.opacity)>0)?true:false;
			me._node_title.userData.visible=true;
				}
			}
		}
		me._node_title.logicBlock_visible();
		me._node_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._node_container.add(me._node_title);
		width = 1.72;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.arc(0, -0.05, 0.05, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.arc(-0.05, 0, 0.05, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.arc(0, 0.05, 0.05, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.arc(0.05, 0, 0.05, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'node_thumbnail_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/node_thumbnail_' + nodeId + '.jpg');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'node_thumbnail_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(-0.34);
		el.translateY(0.065);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 172;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_thumbnail';
		el.userData.x = -0.34;
		el.userData.y = 0.065;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._node_thumbnail.material) me._node_thumbnail.material.opacity = v;
			me._node_thumbnail.visible = (v>0 && me._node_thumbnail.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._node_thumbnail.visible
			let parentEl = me._node_thumbnail.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_thumbnail.userData.opacity = v;
			v = v * me._node_thumbnail.userData.parentOpacity;
			me._node_thumbnail.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_thumbnail.children.length; i++) {
				let child = me._node_thumbnail.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_thumbnail.userData.parentOpacity = v;
			v = v * me._node_thumbnail.userData.opacity
			me._node_thumbnail.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_thumbnail.children.length; i++) {
				let child = me._node_thumbnail.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_thumbnail = el;
		el.userData.ggId="node_thumbnail";
		me._node_thumbnail.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._node_thumbnail.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._node_thumbnail.ggCurrentLogicStateSize != newLogicStateSize) {
				me._node_thumbnail.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._node_thumbnail.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._node_thumbnail.logicBlock_size();
		me._node_thumbnail.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.18, 0.18, 5, 5 );
		geometry.name = 'node_visited_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEAklEQVRYhe2YzUsjSRiHf9VJEMWQHXJJFEERZ7wEdw85KB78AN3FTseonfwHua7Hcc+yzmVY9urVw5JEDHb7ieiKh+BB4lxEXcQ5iJmAuBOR7Eo6nXcPGyUf3emOE+c0zy1Vb1c9VPqtequBb9SGfekAPM+3WK1WNwDk8/lPa2tr/3xVIZ/P1wXAT0QCY+wHAN9VhGSI6JgxJgFYlWX544sICYLwBsACEQXqmoCxOIA5SZLOGyIUDodt6XT6HRH9DMBSj0wJKmPsd5fL9XZxcVF5tlAgEHAqihJjjA0/U6SSvVwuJ25vb/9dt1AgEHCqqpogotcNkvl/Qsb+slgsA/F4/Farn9NqDIfDNkVRYo2WcTgcIKLX+Xw+Gg6HbaaF0un0uwb+TQCA9vZ2zM'+
	'/Pw+FwAMBIKpVaMCUkCMKb4gvcMBhjCAaDSCQSuLu7e2ybLWZubSEAC3h+NmnS19eHjo4OSJJU2mwhol9rCvl8vq569xkjrFYrZmZmIMsystlsZfdUcaPVFgLgb6QMAIyOjkJRFBwcHGj2M8YEXSEiEqCD3W4Hx2nmgC4OhwMTExOIRCJQVVUzplAolC1C2QzFs6kKxhhmZ2cxODhYl9Dk5CROT09xdnamG8MY+15TiOf5FlQflAAAIsLGxgb8fj+am5tNyXR2dsLr9WJ5edko9JUoik+DPgk9lhB6JJNJpFIp8DxvKMMYQygUwu7uLm5ubgzjFUVpqxIygogQjUYxNDQEl8tVM9br9cLpdGJzc9Ps8E88CeXz+U9GwVdXV0gkEhBFUTemqakJ09PTiMfjeHh4MCVhs9lSVULFSi9j9LAkSeju7obH49HsHx8fRyaT'+
	'weHhoSkZAJ9jsdi/VUIAQETHRk/f399DlmWIogiLpXxDdzqdGBsbQyQSARGZsiGiD6W/K9Neggn29/dBRBgeLj9/p6amkEwmcXl5aUoGADiOW9UVArAKE6iqimg0Cp7nYbfbAQA9PT3weDxYWVkxLQMARFS2CGVCsix/LNbAhpycnODi4gKCIIDjOIRCIWxtbSGTMXwNS1mpvARopf0cAO19voJYLIb+/n4Eg0G0tLRgZ2enHhlVVdW5ysaqMuP8/Py2t7fXAaDfaMRsNovW1laMjIxgaWkJ19fXpm2I6Lf19fU/Kts1N0aXy/WWiP40M7Asyzg6OsLxsWGClrLX1tZWtTpAg4p8juNQKBTMypzncrkBvZuH7tERj8dvLRbLAIA9oxnqkNmtJVNT6FHK7Xb/SETvYfJF10Elovdut/unWjJAnVfpYg08VafMCmPsl4'+
	'ZdpSvx+XxdjDGhUCj4i8XVq4qQz0T0geO4VSKSXuxjgx6iKDY/1jM2my1VelB+4yX4D34LnOMNx9FkAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'node_visited_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.84);
		el.translateY(-0.54);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 18;
		el.userData.height = 18;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_visited';
		el.userData.x = 0.84;
		el.userData.y = -0.54;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._node_visited.material) me._node_visited.material.opacity = v;
			me._node_visited.visible = (v>0 && me._node_visited.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._node_visited.visible
			let parentEl = me._node_visited.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_visited.userData.opacity = v;
			v = v * me._node_visited.userData.parentOpacity;
			me._node_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_visited.children.length; i++) {
				let child = me._node_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_visited.userData.parentOpacity = v;
			v = v * me._node_visited.userData.opacity
			me._node_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_visited.children.length; i++) {
				let child = me._node_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_visited = el;
		el.userData.ggId="node_visited";
		me._node_visited.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._node_visited.ggElementNodeId()) == true)) || 
				((me._node_visited.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._node_visited.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._node_visited.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._node_visited.ggCurrentLogicStateVisible == 0) {
			me._node_visited.visible=((!me._node_visited.material && Number(me._node_visited.userData.opacity>0)) || Number(me._node_visited.material.opacity)>0)?true:false;
			me._node_visited.userData.visible=true;
				}
				else {
			me._node_visited.visible=false;
			me._node_visited.userData.visible=false;
				}
			}
		}
		me._node_visited.logicBlock_visible();
		me._node_visited.userData.ggUpdatePosition=function (useTransition) {
		}
		me._node_thumbnail.add(me._node_visited);
		me._node_container.add(me._node_thumbnail);
		me.__obj.add(me._node_container);
		me._node_container.userData.setOpacity(1.00);
		me.elementMouseOver['node_container']=false;
		me._node_bg_hover.logicBlock_size();
		me._node_bg_hover.logicBlock_visible();
		me._node_bg_hover.userData.setOpacity(1.00);
		me._node_title_active.logicBlock_position();
		me._node_title_active.logicBlock_size();
		me._node_title_active.logicBlock_visible();
		me._node_title_active.userData.setOpacity(1.00);
		me._node_title.logicBlock_position();
		me._node_title.logicBlock_size();
		me._node_title.logicBlock_visible();
		me._node_title.userData.setOpacity(1.00);
		me._node_thumbnail.logicBlock_size();
		me._node_thumbnail.userData.setOpacity(1.00);
		me._node_visited.logicBlock_visible();
		me._node_visited.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
				me._node_bg_hover.logicBlock_size();
				me._node_title_active.logicBlock_position();
				me._node_title_active.logicBlock_size();
				me._node_title_active.logicBlock_visible();
				me._node_title.logicBlock_position();
				me._node_title.logicBlock_size();
				me._node_title.logicBlock_visible();
				me._node_thumbnail.logicBlock_size();
				me._node_visited.logicBlock_visible();
				me._node_visited.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._node_visited.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._node_bg_hover.logicBlock_size();
				me._node_title_active.logicBlock_position();
				me._node_title_active.logicBlock_size();
				me._node_title.logicBlock_position();
				me._node_title.logicBlock_size();
				me._node_thumbnail.logicBlock_size();
			};
			me.ggEvent_varchanged_resp_phone=function() {
				me._node_bg_hover.logicBlock_size();
				me._node_title_active.logicBlock_position();
				me._node_title_active.logicBlock_size();
				me._node_title.logicBlock_position();
				me._node_title.logicBlock_size();
				me._node_thumbnail.logicBlock_size();
			};
	};
	function SkinCloner_thumbnail_cloner_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'thumbnail_cloner_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		geometry = new THREE.PlaneGeometry(1.8, 1, 5, 5 );
		geometry.name = 'thumbnail_image_geometry';
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/thumbnail_image_' + nodeId + '.jpg');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_image_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0.01);
		el.translateY(-0.02);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_image';
		el.userData.x = 0.01;
		el.userData.y = -0.02;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_image.material) me._thumbnail_image.material.opacity = v;
			me._thumbnail_image.visible = (v>0 && me._thumbnail_image.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_image.visible
			let parentEl = me._thumbnail_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_image.userData.opacity = v;
			v = v * me._thumbnail_image.userData.parentOpacity;
			me._thumbnail_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_image.children.length; i++) {
				let child = me._thumbnail_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_image.userData.parentOpacity = v;
			v = v * me._thumbnail_image.userData.opacity
			me._thumbnail_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_image.children.length; i++) {
				let child = me._thumbnail_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_image = el;
		el.userData.ggId="thumbnail_image";
		me._thumbnail_image.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._thumbnail_image.userData.ggUpdatePosition=function (useTransition) {
		}
		me.__obj.add(me._thumbnail_image);
		geometry = new THREE.PlaneGeometry(1.8, 1, 5, 5 );
		geometry.name = 'thumbnail_tint_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0, 0).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_tint_material';
		el = new THREE.Mesh( geometry, material );
		width = 1.8;
		height = 1;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.02 + 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02 - 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02, (-height / 2.0) - 0.02 + 0);
		borderShape.lineTo((-width / 2.0) - 0.02 + 0, (-height / 2.0) - 0.02);
		borderShape.lineTo((-width / 2.0) - 0.02, (height / 2.0) + 0.02 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (-height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnail_tint_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnail_tint_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnail_tint_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_tint.material.opacity = v * me._thumbnail_tint.userData.backgroundColorAlpha;
			me._thumbnail_tint.userData.border.material.opacity = v * me._thumbnail_tint.userData.borderColorAlpha;
			if (me._thumbnail_tint.userData.ggSubElement) {
				me._thumbnail_tint.userData.ggSubElement.material.opacity = v
				me._thumbnail_tint.userData.ggSubElement.visible = (v>0 && me._thumbnail_tint.userData.visible);
			}
			me._thumbnail_tint.visible = (v>0 && me._thumbnail_tint.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_tint.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_tint.userData.backgroundColorAlpha = v;
			me._thumbnail_tint.userData.setOpacity(me._thumbnail_tint.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnail_tint.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnail_tint.userData.borderColorAlpha = v;
			me._thumbnail_tint.userData.setOpacity(me._thumbnail_tint.userData.opacity);
		}
		el.translateX(0.01);
		el.translateY(-0.02);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_tint';
		el.userData.x = 0.01;
		el.userData.y = -0.02;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_tint.visible
			let parentEl = me._thumbnail_tint.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_tint.userData.opacity = v;
			v = v * me._thumbnail_tint.userData.parentOpacity;
			me._thumbnail_tint.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_tint.children.length; i++) {
				let child = me._thumbnail_tint.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_tint.userData.parentOpacity = v;
			v = v * me._thumbnail_tint.userData.opacity
			me._thumbnail_tint.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_tint.children.length; i++) {
				let child = me._thumbnail_tint.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_tint = el;
		el.userData.ggId="thumbnail_tint";
		me._thumbnail_tint.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['thumbnail_tint'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._thumbnail_tint.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._thumbnail_tint.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._thumbnail_tint.ggCurrentLogicStateBackgroundColor == 0) {
					me._thumbnail_tint.userData.transitionValue_backgroundcolor = {};
					me._thumbnail_tint.userData.transitionValue_backgroundcolor.color = new THREE.Color('#000000');
					me._thumbnail_tint.userData.transitionValue_backgroundcolor.alpha = 0.313726;
					for (var i = 0; i < me._thumbnail_tint.userData.transitions.length; i++) {
						if (me._thumbnail_tint.userData.transitions[i].property == 'backgroundcolor') {
							clearInterval(me._thumbnail_tint.userData.transitions[i].interval);
							me._thumbnail_tint.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_backgroundcolor = {};
					transition_backgroundcolor.property = 'backgroundcolor';
					transition_backgroundcolor.startTime = Date.now();
					transition_backgroundcolor.startBackgroundColor = structuredClone(me._thumbnail_tint.material.color);
					transition_backgroundcolor.startBackgroundColorAlpha = me._thumbnail_tint.userData.backgroundColorAlpha;
					transition_backgroundcolor.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_backgroundcolor.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						let deltaRed = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.r - transition_backgroundcolor.startBackgroundColor.r;
						let newRed = transition_backgroundcolor.startBackgroundColor.r + (deltaRed * tfval);
						let deltaGreen = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.g - transition_backgroundcolor.startBackgroundColor.g;
						let newGreen = transition_backgroundcolor.startBackgroundColor.g + (deltaGreen * tfval);
						let deltaBlue = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.b - transition_backgroundcolor.startBackgroundColor.b;
						let newBlue = transition_backgroundcolor.startBackgroundColor.b + (deltaBlue * tfval);
						me._thumbnail_tint.userData.setBackgroundColor(new THREE.Color(newRed, newGreen, newBlue));
						let deltaAlpha = me._thumbnail_tint.userData.transitionValue_backgroundcolor.alpha - transition_backgroundcolor.startBackgroundColorAlpha;
						me._thumbnail_tint.userData.setBackgroundColorAlpha(transition_backgroundcolor.startBackgroundColorAlpha + (deltaAlpha * tfval));
						if (percentDone >= 1.0) {
							clearInterval(transition_backgroundcolor.interval);
							me._thumbnail_tint.userData.transitions.splice(me._thumbnail_tint.userData.transitions.indexOf(transition_backgroundcolor), 1);
						}
					}, 20);
					me._thumbnail_tint.userData.transitions.push(transition_backgroundcolor);
				}
				else {
					me._thumbnail_tint.userData.transitionValue_backgroundcolor = {};
					me._thumbnail_tint.userData.transitionValue_backgroundcolor.color = new THREE.Color('#000000');
					me._thumbnail_tint.userData.transitionValue_backgroundcolor.alpha = 0;
					for (var i = 0; i < me._thumbnail_tint.userData.transitions.length; i++) {
						if (me._thumbnail_tint.userData.transitions[i].property == 'backgroundcolor') {
							clearInterval(me._thumbnail_tint.userData.transitions[i].interval);
							me._thumbnail_tint.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_backgroundcolor = {};
					transition_backgroundcolor.property = 'backgroundcolor';
					transition_backgroundcolor.startTime = Date.now();
					transition_backgroundcolor.startBackgroundColor = structuredClone(me._thumbnail_tint.material.color);
					transition_backgroundcolor.startBackgroundColorAlpha = me._thumbnail_tint.userData.backgroundColorAlpha;
					transition_backgroundcolor.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_backgroundcolor.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						let deltaRed = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.r - transition_backgroundcolor.startBackgroundColor.r;
						let newRed = transition_backgroundcolor.startBackgroundColor.r + (deltaRed * tfval);
						let deltaGreen = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.g - transition_backgroundcolor.startBackgroundColor.g;
						let newGreen = transition_backgroundcolor.startBackgroundColor.g + (deltaGreen * tfval);
						let deltaBlue = me._thumbnail_tint.userData.transitionValue_backgroundcolor.color.b - transition_backgroundcolor.startBackgroundColor.b;
						let newBlue = transition_backgroundcolor.startBackgroundColor.b + (deltaBlue * tfval);
						me._thumbnail_tint.userData.setBackgroundColor(new THREE.Color(newRed, newGreen, newBlue));
						let deltaAlpha = me._thumbnail_tint.userData.transitionValue_backgroundcolor.alpha - transition_backgroundcolor.startBackgroundColorAlpha;
						me._thumbnail_tint.userData.setBackgroundColorAlpha(transition_backgroundcolor.startBackgroundColorAlpha + (deltaAlpha * tfval));
						if (percentDone >= 1.0) {
							clearInterval(transition_backgroundcolor.interval);
							me._thumbnail_tint.userData.transitions.splice(me._thumbnail_tint.userData.transitions.indexOf(transition_backgroundcolor), 1);
						}
					}, 20);
					me._thumbnail_tint.userData.transitions.push(transition_backgroundcolor);
				}
			}
		}
		me._thumbnail_tint.logicBlock_backgroundcolor();
		me._thumbnail_tint.userData.onclick=function (e) {
			if (me._thumbnail_tint.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
		}
		me._thumbnail_tint.userData.onmouseenter=function (e) {
			me.elementMouseOver['thumbnail_tint']=true;
			me._thumbnail_title.logicBlock_alpha();
			me._thumbnail_border.logicBlock_alpha();
			me._thumbnail_tint.logicBlock_backgroundcolor();
		}
		me._thumbnail_tint.userData.ontouchend=function (e) {
			me._thumbnail_tint.logicBlock_backgroundcolor();
		}
		me._thumbnail_tint.userData.onmouseleave=function (e) {
			me.elementMouseOver['thumbnail_tint']=false;
			me._thumbnail_title.logicBlock_alpha();
			me._thumbnail_border.logicBlock_alpha();
			me._thumbnail_tint.logicBlock_backgroundcolor();
		}
		me._thumbnail_tint.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(1.8, 1, 5, 5 );
		geometry.name = 'thumbnail_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_title.material.opacity = v;
			if (me._thumbnail_title.userData.hasScrollbar) {
				me._thumbnail_title.userData.scrollbar.material.opacity = v;
				me._thumbnail_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._thumbnail_title.userData.ggSubElement) {
				me._thumbnail_title.userData.ggSubElement.material.opacity = v
				me._thumbnail_title.userData.ggSubElement.visible = (v>0 && me._thumbnail_title.userData.visible);
			}
			me._thumbnail_title.visible = (v>0 && me._thumbnail_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_title.userData.backgroundColorAlpha = v;
			me._thumbnail_title.userData.setOpacity(me._thumbnail_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_title';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_title.visible
			let parentEl = me._thumbnail_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_title.userData.opacity = v;
			v = v * me._thumbnail_title.userData.parentOpacity;
			me._thumbnail_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_title.children.length; i++) {
				let child = me._thumbnail_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_title.userData.parentOpacity = v;
			v = v * me._thumbnail_title.userData.opacity
			me._thumbnail_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_title.children.length; i++) {
				let child = me._thumbnail_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 360;
		canvas.height = 200;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._thumbnail_title.userData.totalHeightCanv = 2 * (3);
			me._thumbnail_title.userData.textLines = [];
			var ctx = me._thumbnail_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._thumbnail_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._thumbnail_title.userData.textLines.push(line);
					line = '';
					me._thumbnail_title.userData.totalHeightCanv += me._thumbnail_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._thumbnail_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._thumbnail_title.userData.textLines.push(line);
					line = words[i];
					me._thumbnail_title.userData.totalHeightCanv += me._thumbnail_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._thumbnail_title.userData.textLines.push(line);
			me._thumbnail_title.userData.totalHeightCanv += me._thumbnail_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._thumbnail_title.userData.textCanvas;
			var ctx = me._thumbnail_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._thumbnail_title.userData.textColor.r * 255 + ', ' + me._thumbnail_title.userData.textColor.g * 255 + ', ' + me._thumbnail_title.userData.textColor.b * 255 + ', ' + me._thumbnail_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._thumbnail_title.userData.boxWidthCanv - (me._thumbnail_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y -= me._thumbnail_title.userData.scrollPosPercent * me._thumbnail_title.userData.totalHeightCanv;
			y += (canv.height - me._thumbnail_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._thumbnail_title.userData.textLines.length; i++) {
				ctx.fillText(me._thumbnail_title.userData.textLines[i], x, y);
				y += me._thumbnail_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'thumbnail_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._thumbnail_title.material.map) {
				me._thumbnail_title.material.map.dispose();
			}
			me._thumbnail_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._thumbnail_title.children.length; i++) {
				let child = me._thumbnail_title.children[i];
				if (child.name.includes('scrollbar')) me._thumbnail_title.remove(child);
			}
			var canv = me._thumbnail_title.userData.textCanvas;
			var ctx = me._thumbnail_title.userData.textCanvasContext;
			ctx.font = '36px Verdana';
			me._thumbnail_title.userData.lineHeightCanv = 36 * 1.2;
			me._thumbnail_title.userData.ggWrapText(false);
			me._thumbnail_title.userData.boxWidthCanv = 2 * me._thumbnail_title.userData.width;
			me._thumbnail_title.userData.boxHeightCanv = 2 * me._thumbnail_title.userData.height;
			me._thumbnail_title.userData.scrollPosPercent = 0.0
			if (me._thumbnail_title.userData.totalHeightCanv > (2 * (me._thumbnail_title.userData.height))) {
				me._thumbnail_title.userData.ggWrapText(true);
				me._thumbnail_title.userData.pagePercent = (2 * (me._thumbnail_title.userData.height) - me._thumbnail_title.userData.lineHeightCanv) / me._thumbnail_title.userData.totalHeightCanv;
				me._thumbnail_title.userData.maxScrollPercent = (me._thumbnail_title.userData.totalHeightCanv - (2 * (me._thumbnail_title.userData.height))) / me._thumbnail_title.userData.totalHeightCanv;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title.userData.height / 100.0, 5, 5 );
				geometry.name = 'thumbnail_title_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_scrollbarBgMaterial';
				me._thumbnail_title.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._thumbnail_title.userData.scrollbarBg.name = 'thumbnail_title_scrollbarBg';
				me._thumbnail_title.add(me._thumbnail_title.userData.scrollbarBg);
				me._thumbnail_title.userData.scrollbarXPos = (me._thumbnail_title.userData.width - 25) / 200.0;
				me._thumbnail_title.userData.scrollbarBg.position.x = me._thumbnail_title.userData.scrollbarXPos;
				me._thumbnail_title.userData.scrollbarBg.position.z = me._thumbnail_title.position.z + 0.01;
				me._thumbnail_title.userData.scrollbarBg.userData.stopPropagation = true;
				me._thumbnail_title.userData.scrollbarHeight = ((2 * me._thumbnail_title.userData.height) / me._thumbnail_title.userData.totalHeightCanv) * me._thumbnail_title.userData.height;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'thumbnail_title_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_scrollbarMaterial';
				me._thumbnail_title.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._thumbnail_title.userData.scrollbar.name = 'thumbnail_title_scrollbar';
				me._thumbnail_title.add(me._thumbnail_title.userData.scrollbar);
				me._thumbnail_title.userData.scrollbar.position.x = me._thumbnail_title.userData.scrollbarXPos;
				me._thumbnail_title.userData.scrollbar.position.z = me._thumbnail_title.position.z + 0.02;
				me._thumbnail_title.userData.scrollbarYPosMin = (me._thumbnail_title.userData.height - me._thumbnail_title.userData.scrollbarHeight) / 200.0;
				me._thumbnail_title.userData.scrollbarYPosMax = me._thumbnail_title.userData.scrollbarYPosMin - (me._thumbnail_title.userData.height - me._thumbnail_title.userData.scrollbarHeight) / 100.0;
				me._thumbnail_title.userData.scrollbar.position.y = me._thumbnail_title.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title.userData.height / 200.0, 5, 5 );
				geometry.name = 'thumbnail_title_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_scrollbarPageDownMaterial';
				me._thumbnail_title.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._thumbnail_title.userData.scrollbarPageDown.name = 'thumbnail_title_scrollbarPageDown';
				me._thumbnail_title.userData.scrollbarPageDown.userData.onclick = function() {
					me._thumbnail_title.userData.scrollPosPercent -= me._thumbnail_title.userData.pagePercent;
					me._thumbnail_title.userData.scrollPosPercent = Math.max(me._thumbnail_title.userData.scrollPosPercent, 0);
					me._thumbnail_title.userData.ggPaintCanvasText();
					me._thumbnail_title.userData.scrollbar.position.y += (me._thumbnail_title.userData.height * me._thumbnail_title.userData.pagePercent) / 100.0;
					me._thumbnail_title.userData.scrollbar.position.y = Math.min(me._thumbnail_title.userData.scrollbar.position.y, me._thumbnail_title.userData.scrollbarYPosMin);
				}
				me._thumbnail_title.userData.scrollbarPageDown.position.x = me._thumbnail_title.userData.scrollbarXPos;
				me._thumbnail_title.userData.scrollbarPageDown.position.y = me._thumbnail_title.userData.height / 400.0;
				me._thumbnail_title.userData.scrollbarPageDown.position.z = me._thumbnail_title.position.z + 0.05;
				me._thumbnail_title.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._thumbnail_title.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._thumbnail_title.userData.scrollbarPageDown.visible = false;
				me._thumbnail_title.add(me._thumbnail_title.userData.scrollbarPageDown);
				geometry = new THREE.PlaneGeometry(25 / 100.0, me._thumbnail_title.userData.height / 200.0, 5, 5 );
				geometry.name = 'thumbnail_title_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'thumbnail_title_scrollbarPageUpMaterial';
				me._thumbnail_title.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._thumbnail_title.userData.scrollbarPageUp.name = 'thumbnail_title_scrollbarPageUp';
				me._thumbnail_title.userData.scrollbarPageUp.userData.onclick = function() {
					me._thumbnail_title.userData.scrollPosPercent += me._thumbnail_title.userData.pagePercent;
					me._thumbnail_title.userData.scrollPosPercent = Math.min(me._thumbnail_title.userData.scrollPosPercent, me._thumbnail_title.userData.maxScrollPercent);
					me._thumbnail_title.userData.ggPaintCanvasText();
					me._thumbnail_title.userData.scrollbar.position.y -= (me._thumbnail_title.userData.height * me._thumbnail_title.userData.pagePercent) / 100.0;
					me._thumbnail_title.userData.scrollbar.position.y = Math.max(me._thumbnail_title.userData.scrollbar.position.y, me._thumbnail_title.userData.scrollbarYPosMax);
				}
				me._thumbnail_title.userData.scrollbarPageUp.position.x = me._thumbnail_title.userData.scrollbarXPos;
				me._thumbnail_title.userData.scrollbarPageUp.position.y = -me._thumbnail_title.userData.height / 400.0;
				me._thumbnail_title.userData.scrollbarPageUp.position.z = me._thumbnail_title.position.z + 0.05;
				me._thumbnail_title.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._thumbnail_title.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._thumbnail_title.userData.scrollbarPageUp.visible = false;
				me._thumbnail_title.add(me._thumbnail_title.userData.scrollbarPageUp);
				me._thumbnail_title.userData.hasScrollbar = true;
			} else {
				me._thumbnail_title.userData.hasScrollbar = false;
			}
			canv.width = me._thumbnail_title.userData.boxWidthCanv;
			canv.height = me._thumbnail_title.userData.boxHeightCanv;
			ctx.font = '36px Verdana';
			me._thumbnail_title.userData.ggPaintCanvasText();
		}
		me._thumbnail_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.ggUserdata.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._thumbnail_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._thumbnail_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._thumbnail_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._thumbnail_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="thumbnail_title";
		me._thumbnail_title.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['thumbnail_tint'] == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._thumbnail_title.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._thumbnail_title.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._thumbnail_title.ggCurrentLogicStateAlpha == 0) {
					me._thumbnail_title.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._thumbnail_title.userData.transitions.length; i++) {
						if (me._thumbnail_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_title.userData.transitions[i].interval);
							me._thumbnail_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_title.material ? me._thumbnail_title.material.opacity : me._thumbnail_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_title.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_title.userData.transitions.splice(me._thumbnail_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_title.userData.transitions.push(transition_alpha);
				}
				else {
					me._thumbnail_title.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._thumbnail_title.userData.transitions.length; i++) {
						if (me._thumbnail_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_title.userData.transitions[i].interval);
							me._thumbnail_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_title.material ? me._thumbnail_title.material.opacity : me._thumbnail_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_title.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_title.userData.transitions.splice(me._thumbnail_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_title.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._thumbnail_title.logicBlock_alpha();
		me._thumbnail_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_tint.add(me._thumbnail_title);
		geometry = new THREE.PlaneGeometry(1.8, 1, 5, 5 );
		geometry.name = 'thumbnail_border_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0, 0).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_border_material';
		el = new THREE.Mesh( geometry, material );
		width = 1.8;
		height = 1;
		borderShape = new THREE.Shape();
		borderShape.moveTo((-width / 2.0) - 0.02 + 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02 - 0, (height / 2.0) + 0.02);
		borderShape.lineTo((width / 2.0) + 0.02, (-height / 2.0) - 0.02 + 0);
		borderShape.lineTo((-width / 2.0) - 0.02 + 0, (-height / 2.0) - 0.02);
		borderShape.lineTo((-width / 2.0) - 0.02, (height / 2.0) + 0.02 - 0);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (height / 2.0));
		innerShape.lineTo((width / 2.0), (-height / 2.0));
		innerShape.lineTo((-width / 2.0), (-height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnail_border_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color(0.760784, 0.909804, 0.0705882).convertSRGBToLinear(), side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnail_border_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnail_border_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_border.material.opacity = v * me._thumbnail_border.userData.backgroundColorAlpha;
			me._thumbnail_border.userData.border.material.opacity = v * me._thumbnail_border.userData.borderColorAlpha;
			if (me._thumbnail_border.userData.ggSubElement) {
				me._thumbnail_border.userData.ggSubElement.material.opacity = v
				me._thumbnail_border.userData.ggSubElement.visible = (v>0 && me._thumbnail_border.userData.visible);
			}
			me._thumbnail_border.visible = (v>0 && me._thumbnail_border.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_border.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_border.userData.backgroundColorAlpha = v;
			me._thumbnail_border.userData.setOpacity(me._thumbnail_border.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnail_border.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnail_border.userData.borderColorAlpha = v;
			me._thumbnail_border.userData.setOpacity(me._thumbnail_border.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_border';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(10.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_border.visible
			let parentEl = me._thumbnail_border.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_border.userData.opacity = v;
			v = v * me._thumbnail_border.userData.parentOpacity;
			me._thumbnail_border.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_border.children.length; i++) {
				let child = me._thumbnail_border.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_border.userData.parentOpacity = v;
			v = v * me._thumbnail_border.userData.opacity
			me._thumbnail_border.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_border.children.length; i++) {
				let child = me._thumbnail_border.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_border = el;
		el.userData.ggId="thumbnail_border";
		me._thumbnail_border.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['thumbnail_tint'] == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._thumbnail_border.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._thumbnail_border.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._thumbnail_border.ggCurrentLogicStateAlpha == 0) {
					me._thumbnail_border.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._thumbnail_border.userData.transitions.length; i++) {
						if (me._thumbnail_border.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_border.userData.transitions[i].interval);
							me._thumbnail_border.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_border.material ? me._thumbnail_border.material.opacity : me._thumbnail_border.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_border.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_border.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_border.userData.transitions.splice(me._thumbnail_border.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_border.userData.transitions.push(transition_alpha);
				}
				else {
					me._thumbnail_border.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._thumbnail_border.userData.transitions.length; i++) {
						if (me._thumbnail_border.userData.transitions[i].property == 'alpha') {
							clearInterval(me._thumbnail_border.userData.transitions[i].interval);
							me._thumbnail_border.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._thumbnail_border.material ? me._thumbnail_border.material.opacity : me._thumbnail_border.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._thumbnail_border.userData.setOpacity(transition_alpha.startAlpha + (me._thumbnail_border.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._thumbnail_border.userData.transitions.splice(me._thumbnail_border.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._thumbnail_border.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._thumbnail_border.logicBlock_alpha();
		me._thumbnail_border.userData.onclick=function (e) {
			if (me._thumbnail_border.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
		}
		me._thumbnail_border.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_tint.add(me._thumbnail_border);
		me.__obj.add(me._thumbnail_tint);
		geometry = new THREE.PlaneGeometry(0.3, 0.3, 5, 5 );
		geometry.name = 'thumbnail_visited_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAABe0lEQVRoge3XPU7DQBCG4XcccoFAF6WKoOEGNAiRa1ByKkrOgaIIxA0oqZCLSJALRPFQ8S/Ixt611+J7a0eeJ46cWVBKKaWUUkqp/5I7hTtFyLV7qYdJ3aIcTW6X3Bhs3FfHZlR/XR/0reTaohxNbGBz4DD0CfcW/IH1KdijV8y2PV0Aa2O42P3AbvzsdLx6Cvls78BNsNAzcFMs9AgcAws9AcfCQg/AMbGQOTg2FjIGp8BCpuBUWMgQnBILmYFTYyEQ/LaYh+yqdWsDCwFgd4q75ejBncIrZimGaAsLgaclhwHGkQ1svihHk5gDtImFALAZlW84B3sEn8ZEt42FHV5asYfrAgs7vqVjDdkVFmr8LTUdtkss1Pwfrjt011hosHjsOnwOWGi4aYUics'+
	'FChNVyGyYnLETapX9D5YaFiIeH77jK/KJwu84JC5FPS1/R77fIBgsJjoc5/ow/l+Q8fP+8P16v/XI4tKuTg5cyxT2UUkoppZRSSikV3isUlJW6J7iU7AAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_visited_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.68);
		el.translateY(0.29);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_visited';
		el.userData.x = 0.68;
		el.userData.y = 0.29;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_visited.material) me._thumbnail_visited.material.opacity = v;
			me._thumbnail_visited.visible = (v>0 && me._thumbnail_visited.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_visited.visible
			let parentEl = me._thumbnail_visited.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_visited.userData.opacity = v;
			v = v * me._thumbnail_visited.userData.parentOpacity;
			me._thumbnail_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited.children.length; i++) {
				let child = me._thumbnail_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_visited.userData.parentOpacity = v;
			v = v * me._thumbnail_visited.userData.opacity
			me._thumbnail_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited.children.length; i++) {
				let child = me._thumbnail_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_visited = el;
		el.userData.ggId="thumbnail_visited";
		me._thumbnail_visited.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._thumbnail_visited.ggElementNodeId()) == true)) || 
				((me._thumbnail_visited.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_visited.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_visited.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_visited.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_visited.visible=((!me._thumbnail_visited.material && Number(me._thumbnail_visited.userData.opacity>0)) || Number(me._thumbnail_visited.material.opacity)>0)?true:false;
			me._thumbnail_visited.userData.visible=true;
				}
				else {
			me._thumbnail_visited.visible=false;
			me._thumbnail_visited.userData.visible=false;
				}
			}
		}
		me._thumbnail_visited.logicBlock_visible();
		me._thumbnail_visited.userData.ggUpdatePosition=function (useTransition) {
		}
		me.__obj.add(me._thumbnail_visited);
		me._thumbnail_image.userData.setOpacity(1.00);
		me._thumbnail_tint.logicBlock_backgroundcolor();
		me._thumbnail_tint.userData.setOpacity(1.00);
		me.elementMouseOver['thumbnail_tint']=false;
		me._thumbnail_title.logicBlock_alpha();
		me._thumbnail_title.userData.setOpacity(0.00);
		me._thumbnail_border.logicBlock_alpha();
		me._thumbnail_border.userData.setOpacity(0.00);
		me._thumbnail_visited.logicBlock_visible();
		me._thumbnail_visited.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
					me._thumbnail_title.userData.ggUpdateText();
				me._thumbnail_visited.logicBlock_visible();
				me._thumbnail_visited.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._thumbnail_visited.logicBlock_visible();
			};
	};
	function SkinCloner_categories_cloner_1_Class(item, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggTag = item['tag'];
		me.ggTitle = item['title'];
		me.ggDescription = item['description'];
		me.ggNodeCount = item['nodecount'];
		me.ggNodeId=item['firstnode'];
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'categories_cloner_1_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				var tags = player.userdata.tags;
				if (tags.indexOf(me.ggTag) == -1) return false;
				for(var i=0;i<me.parent.userData.ggCurrentFilter.length;i++) {
					if (tags.indexOf(me.parent.userData.ggCurrentFilter[i])==-1) return false;
				}
				return true;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		width = 3.02496;
		height = 0.4;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.12, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.12, (height / 2.0));
		roundedRectShape.arc(0, -0.12, 0.12, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.12);
		roundedRectShape.arc(-0.12, 0, 0.12, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.12, (-height / 2.0));
		roundedRectShape.arc(0, 0.12, 0.12, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.12);
		roundedRectShape.arc(0.12, 0, 0.12, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'category_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0, 0.74902, 0.368627).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'category_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 0;
		el.userData.setOpacityInternal = function(v) {
			me._category_bg.material.opacity = v * me._category_bg.userData.backgroundColorAlpha;
			if (me._category_bg.userData.ggSubElement) {
				me._category_bg.userData.ggSubElement.material.opacity = v
				me._category_bg.userData.ggSubElement.visible = (v>0 && me._category_bg.userData.visible);
			}
			me._category_bg.visible = (v>0 && me._category_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._category_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._category_bg.userData.backgroundColorAlpha = v;
			me._category_bg.userData.setOpacity(me._category_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.05);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 302.496;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'category_bg';
		el.userData.x = 0;
		el.userData.y = 0.05;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._category_bg.visible
			let parentEl = me._category_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._category_bg.userData.opacity = v;
			v = v * me._category_bg.userData.parentOpacity;
			me._category_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_bg.children.length; i++) {
				let child = me._category_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._category_bg.userData.parentOpacity = v;
			v = v * me._category_bg.userData.opacity
			me._category_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_bg.children.length; i++) {
				let child = me._category_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._category_bg = el;
		el.userData.ggId="category_bg";
		me._category_bg.userData.onclick=function (e) {
			if (me._category_bg.userData.isDragging()) return;
			skin._nodes_cloner_1.ggText=me.ggTag;
			if (skin._nodes_cloner_1.ggText=='') {
				skin._nodes_cloner_1.ggUpdate([]);
			} else {
				skin._nodes_cloner_1.ggUpdate(skin._nodes_cloner_1.ggText.split(','));
			}
			skin.updateSize(skin.divSkin);
				skin._nodes_category_title_1.userData.ggUpdateText=function(force) {
					var params = [];
					params.push(player._(String(me.ggTitle)));
					var hs = player._("%1", params);
					if (hs!=this.ggText || force) {
						this.ggText=skin._nodes_category_title_1.userData.ggStripTags(hs);
						this.ggRenderText();
					}
				}
			skin._nodes_category_title_1.userData.ggUpdateText();
			player.setVariableValue('vis_thumbs_nodes', true);
			player.setVariableValue('vis_thumbs_categories', false);
		}
		me._category_bg.userData.onmouseenter=function (e) {
			me.elementMouseOver['category_bg']=true;
			me._category_fwd_hover.logicBlock_visible();
		}
		me._category_bg.userData.onmouseleave=function (e) {
			me.elementMouseOver['category_bg']=false;
			me._category_fwd_hover.logicBlock_visible();
		}
		me._category_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'category_fwd_hover_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABKklEQVR4nO2aoU7EQBRFz1tB8BsEEoVC8ANs+BQ0io/gK/D8BsHjNiGgkCgcgmAuYjdBUNEV2ymZc1wn0/bdk2nTvgyIiIiISJ9UqxsnOQBW28PHqvpuVcvkJFkmWeeXdZLj1nVNRpLb/OWlhYTF1DfccjIwdgo8dLESklwNrICmK2FSklSSu94lLJSgBCUASgCUACgBUAKgBEAJgBIAJQBKAPYnYaeWWJIlcMPm371FO62Ac4b7CQAfwEVVPe9ywVFk08N7As7GntOIL+Coqj7HTN6lI7Ri/uEBDoHrsZNbtcRmQ/ePQPcvwX9D198Chje84Q1veMMb3vCt69wLhjd8n+H73iARt8jkfi7hW7XE3gbGXoHLqnqfupjJyYw2SrpVVkREREQ65QeOau'+
	'p1hinPPwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'category_fwd_hover_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.33248);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'category_fwd_hover';
		el.userData.x = 1.33248;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._category_fwd_hover.material) me._category_fwd_hover.material.opacity = v;
			me._category_fwd_hover.visible = (v>0 && me._category_fwd_hover.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._category_fwd_hover.visible
			let parentEl = me._category_fwd_hover.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._category_fwd_hover.userData.opacity = v;
			v = v * me._category_fwd_hover.userData.parentOpacity;
			me._category_fwd_hover.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_fwd_hover.children.length; i++) {
				let child = me._category_fwd_hover.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._category_fwd_hover.userData.parentOpacity = v;
			v = v * me._category_fwd_hover.userData.opacity
			me._category_fwd_hover.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_fwd_hover.children.length; i++) {
				let child = me._category_fwd_hover.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._category_fwd_hover = el;
		el.userData.ggId="category_fwd_hover";
		me._category_fwd_hover.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['category_bg'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._category_fwd_hover.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._category_fwd_hover.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._category_fwd_hover.ggCurrentLogicStateVisible == 0) {
			me._category_fwd_hover.visible=((!me._category_fwd_hover.material && Number(me._category_fwd_hover.userData.opacity>0)) || Number(me._category_fwd_hover.material.opacity)>0)?true:false;
			me._category_fwd_hover.userData.visible=true;
				}
				else {
			me._category_fwd_hover.visible=false;
			me._category_fwd_hover.userData.visible=false;
				}
			}
		}
		me._category_fwd_hover.logicBlock_visible();
		me._category_fwd_hover.userData.ggUpdatePosition=function (useTransition) {
		}
		me._category_bg.add(me._category_fwd_hover);
		geometry = new THREE.PlaneGeometry(3.02496, 0.4, 5, 5 );
		geometry.name = 'category_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'category_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._category_title.material.opacity = v;
			if (me._category_title.userData.hasScrollbar) {
				me._category_title.userData.scrollbar.material.opacity = v;
				me._category_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._category_title.userData.ggSubElement) {
				me._category_title.userData.ggSubElement.material.opacity = v
				me._category_title.userData.ggSubElement.visible = (v>0 && me._category_title.userData.visible);
			}
			me._category_title.visible = (v>0 && me._category_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._category_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._category_title.userData.backgroundColorAlpha = v;
			me._category_title.userData.setOpacity(me._category_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 302.496;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'category_title';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._category_title.visible
			let parentEl = me._category_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._category_title.userData.opacity = v;
			v = v * me._category_title.userData.parentOpacity;
			me._category_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_title.children.length; i++) {
				let child = me._category_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._category_title.userData.parentOpacity = v;
			v = v * me._category_title.userData.opacity
			me._category_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._category_title.children.length; i++) {
				let child = me._category_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._category_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 605;
		canvas.height = 80;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._category_title.userData.totalHeightCanv = 2 * (3);
			me._category_title.userData.textLines = [];
			var ctx = me._category_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._category_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._category_title.userData.textLines.push(line);
					line = '';
					me._category_title.userData.totalHeightCanv += me._category_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._category_title.userData.width - 24 - (scrollbar ? 25 : 0))) && i > 0) {
					me._category_title.userData.textLines.push(line);
					line = words[i];
					me._category_title.userData.totalHeightCanv += me._category_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._category_title.userData.textLines.push(line);
			me._category_title.userData.totalHeightCanv += me._category_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._category_title.userData.textCanvas;
			var ctx = me._category_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._category_title.userData.textColor.r * 255 + ', ' + me._category_title.userData.textColor.g * 255 + ', ' + me._category_title.userData.textColor.b * 255 + ', ' + me._category_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 12;
			ctx.textAlign = 'left';
			var y = 2 * 3;
			y += (canv.height - me._category_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._category_title.userData.textLines.length; i++) {
				ctx.fillText(me._category_title.userData.textLines[i], x, y);
				y += me._category_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'category_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._category_title.material.map) {
				me._category_title.material.map.dispose();
			}
			me._category_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._category_title.children.length; i++) {
				let child = me._category_title.children[i];
				if (child.name.includes('scrollbar')) me._category_title.remove(child);
			}
			var canv = me._category_title.userData.textCanvas;
			var ctx = me._category_title.userData.textCanvasContext;
			ctx.font = '400 40px Verdana';
			me._category_title.userData.lineHeightCanv = 40 * 1.2;
			me._category_title.userData.ggWrapText(false);
			me._category_title.userData.boxWidthCanv = 2 * me._category_title.userData.width;
			me._category_title.userData.boxHeightCanv = 2 * me._category_title.userData.height;
			me._category_title.userData.hasScrollbar = false;
			canv.width = me._category_title.userData.boxWidthCanv;
			canv.height = me._category_title.userData.boxHeightCanv;
			ctx.font = '400 40px Verdana';
			me._category_title.userData.ggPaintCanvasText();
		}
		me._category_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggTitle)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._category_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._category_title.userData.ggUpdateText();
		player.addListener('clonerchanged', function() {
			me._category_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._category_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._category_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._category_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._category_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="category_title";
		me._category_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._category_bg.add(me._category_title);
		me.__obj.add(me._category_bg);
		me._category_bg.userData.setOpacity(1.00);
		me.elementMouseOver['category_bg']=false;
		me._category_fwd_hover.logicBlock_visible();
		me._category_fwd_hover.userData.setOpacity(1.00);
		me._category_title.userData.setOpacity(1.00);
	};
	function SkinHotspotClass_ht_node_2_vr(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_node__2_vr';
		el.userData.x = -0.77;
		el.userData.y = -1.2;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_2_vr.visible
			let parentEl = me._ht_node_2_vr.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_2_vr.userData.opacity = v;
			v = v * me._ht_node_2_vr.userData.parentOpacity;
			me._ht_node_2_vr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_2_vr.children.length; i++) {
				let child = me._ht_node_2_vr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_2_vr.userData.parentOpacity = v;
			v = v * me._ht_node_2_vr.userData.opacity
			me._ht_node_2_vr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_2_vr.children.length; i++) {
				let child = me._ht_node_2_vr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_2_vr = el;
		el.userData.ggId="ht_node__2_vr";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_node_2_vr.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_2_vr.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_2_vr.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_2_vr.ggCurrentLogicStateVisible == 0) {
			me._ht_node_2_vr.visible=((!me._ht_node_2_vr.material && Number(me._ht_node_2_vr.userData.opacity>0)) || Number(me._ht_node_2_vr.material.opacity)>0)?true:false;
			me._ht_node_2_vr.userData.visible=true;
				}
				else {
			me._ht_node_2_vr.visible=((!me._ht_node_2_vr.material && Number(me._ht_node_2_vr.userData.opacity>0)) || Number(me._ht_node_2_vr.material.opacity)>0)?true:false;
			me._ht_node_2_vr.userData.visible=true;
				}
			}
		}
		me._ht_node_2_vr.logicBlock_visible();
		me._ht_node_2_vr.userData.onclick=function (e) {
			var list=me.findElements("ht_node_vr_1",true);
			if (list.length>0) {
				var e=list[0];
				e.userData.visible = !e.userData.visible;
				var flag=e.userData.visible;
			}
			while(list.length>0) {
				var e=list.pop();
				e.visible=((flag)&&((!e.material && Number(e.userData.opacity>0)) || Number(e.material.opacity)>0))?true:false;
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_2_vr.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_2_vr.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_node_2_vr']=true;
			me._ht_node_preview_bg.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_2_vr.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_node_2_vr']=false;
			me._ht_node_preview_bg.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_2_vr.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 5.28;
		height = 2.52;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg.material.opacity = v * me._ht_node_preview_bg.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg.userData.ggSubElement) {
				me._ht_node_preview_bg.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg.userData.visible);
			}
			me._ht_node_preview_bg.visible = (v>0 && me._ht_node_preview_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg.userData.setOpacity(me._ht_node_preview_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(1.55);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 528;
		el.userData.height = 252;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = 0;
		el.userData.y = 1.55;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg.visible
			let parentEl = me._ht_node_preview_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg.userData.opacity = v;
			v = v * me._ht_node_preview_bg.userData.parentOpacity;
			me._ht_node_preview_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg.children.length; i++) {
				let child = me._ht_node_preview_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg.userData.opacity
			me._ht_node_preview_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg.children.length; i++) {
				let child = me._ht_node_preview_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_node_2_vr'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_bg.visible=((!me._ht_node_preview_bg.material && Number(me._ht_node_preview_bg.userData.opacity>0)) || Number(me._ht_node_preview_bg.material.opacity)>0)?true:false;
			me._ht_node_preview_bg.userData.visible=true;
				}
				else {
			me._ht_node_preview_bg.visible=false;
			me._ht_node_preview_bg.userData.visible=false;
				}
			}
		}
		me._ht_node_preview_bg.logicBlock_visible();
		me._ht_node_preview_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(5.24, 2.52, 5, 5 );
		geometry.name = 'ht_node_preview_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_title.material.opacity = v;
			if (me._ht_node_preview_title.userData.hasScrollbar) {
				me._ht_node_preview_title.userData.scrollbar.material.opacity = v;
				me._ht_node_preview_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_preview_title.userData.ggSubElement) {
				me._ht_node_preview_title.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_title.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_title.userData.visible);
			}
			me._ht_node_preview_title.visible = (v>0 && me._ht_node_preview_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title.userData.backgroundColorAlpha = v;
			me._ht_node_preview_title.userData.setOpacity(me._ht_node_preview_title.userData.opacity);
		}
		el.translateX(-6.10352e-07);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 524;
		el.userData.height = 252;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_title';
		el.userData.x = -6.10352e-07;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_title.visible
			let parentEl = me._ht_node_preview_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_title.userData.opacity = v;
			v = v * me._ht_node_preview_title.userData.parentOpacity;
			me._ht_node_preview_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title.children.length; i++) {
				let child = me._ht_node_preview_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_title.userData.parentOpacity = v;
			v = v * me._ht_node_preview_title.userData.opacity
			me._ht_node_preview_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title.children.length; i++) {
				let child = me._ht_node_preview_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1048;
		canvas.height = 504;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_preview_title.userData.totalHeightCanv = 2 * (7);
			me._ht_node_preview_title.userData.textLines = [];
			var ctx = me._ht_node_preview_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_preview_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_preview_title.userData.textLines.push(line);
					line = '';
					me._ht_node_preview_title.userData.totalHeightCanv += me._ht_node_preview_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_preview_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_preview_title.userData.textLines.push(line);
					line = words[i];
					me._ht_node_preview_title.userData.totalHeightCanv += me._ht_node_preview_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_preview_title.userData.textLines.push(line);
			me._ht_node_preview_title.userData.totalHeightCanv += me._ht_node_preview_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_preview_title.userData.textCanvas;
			var ctx = me._ht_node_preview_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title.userData.backgroundColor.r * 255 + ', ' + me._ht_node_preview_title.userData.backgroundColor.g * 255 + ', ' + me._ht_node_preview_title.userData.backgroundColor.b * 255 + ', ' + me._ht_node_preview_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title.userData.textColor.r * 255 + ', ' + me._ht_node_preview_title.userData.textColor.g * 255 + ', ' + me._ht_node_preview_title.userData.textColor.b * 255 + ', ' + me._ht_node_preview_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 0;
			ctx.textAlign = 'left';
			var y = 2 * 7;
			for (var i = 0; i < me._ht_node_preview_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_preview_title.userData.textLines[i], x, y);
				y += me._ht_node_preview_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_preview_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_preview_title.material.map) {
				me._ht_node_preview_title.material.map.dispose();
			}
			me._ht_node_preview_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_preview_title.children.length; i++) {
				let child = me._ht_node_preview_title.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_preview_title.remove(child);
			}
			var canv = me._ht_node_preview_title.userData.textCanvas;
			var ctx = me._ht_node_preview_title.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title.userData.lineHeightCanv = 33.6;
			me._ht_node_preview_title.userData.ggWrapText(false);
			me._ht_node_preview_title.userData.boxWidthCanv = 2 * me._ht_node_preview_title.userData.width;
			me._ht_node_preview_title.userData.boxHeightCanv = 2 * me._ht_node_preview_title.userData.height;
			me._ht_node_preview_title.userData.hasScrollbar = false;
			canv.width = me._ht_node_preview_title.userData.boxWidthCanv;
			canv.height = me._ht_node_preview_title.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title.userData.ggPaintCanvasText();
		}
		me._ht_node_preview_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.description))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_preview_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_preview_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_preview_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_preview_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_preview_title";
		me._ht_node_preview_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player._(me.hotspot.description) == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_title.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_title.visible=false;
			me._ht_node_preview_title.userData.visible=false;
				}
				else {
			me._ht_node_preview_title.visible=((!me._ht_node_preview_title.material && Number(me._ht_node_preview_title.userData.opacity>0)) || Number(me._ht_node_preview_title.material.opacity)>0)?true:false;
			me._ht_node_preview_title.userData.visible=true;
				}
			}
		}
		me._ht_node_preview_title.logicBlock_visible();
		me._ht_node_preview_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg.add(me._ht_node_preview_title);
		me._ht_node_2_vr.add(me._ht_node_preview_bg);
		width = 0.32;
		height = 0.48;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.117647, 0.117647, 0.117647).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg.material.opacity = v * me._ht_node_bg.userData.backgroundColorAlpha;
			if (me._ht_node_bg.userData.ggSubElement) {
				me._ht_node_bg.userData.ggSubElement.material.opacity = v
				me._ht_node_bg.userData.ggSubElement.visible = (v>0 && me._ht_node_bg.userData.visible);
			}
			me._ht_node_bg.visible = (v>0 && me._ht_node_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg.userData.backgroundColorAlpha = v;
			me._ht_node_bg.userData.setOpacity(me._ht_node_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg.visible
			let parentEl = me._ht_node_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg.userData.opacity = v;
			v = v * me._ht_node_bg.userData.parentOpacity;
			me._ht_node_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg.children.length; i++) {
				let child = me._ht_node_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg.userData.parentOpacity = v;
			v = v * me._ht_node_bg.userData.opacity
			me._ht_node_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg.children.length; i++) {
				let child = me._ht_node_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg.visible=false;
			me._ht_node_bg.userData.visible=false;
				}
				else {
			me._ht_node_bg.visible=((!me._ht_node_bg.material && Number(me._ht_node_bg.userData.opacity>0)) || Number(me._ht_node_bg.material.opacity)>0)?true:false;
			me._ht_node_bg.userData.visible=true;
				}
			}
		}
		me._ht_node_bg.logicBlock_visible();
		me._ht_node_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.48, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABKElEQVR4nO3WTa6CQBBFYeMiYE2u35+FOHVw36QwndYWGp/etjlfYkwQsepgorsdAAAAAAAAAAAAAAAfJWmUNLrnsJA0SDrFY3DP81XJ8pPjZiJky1/jsY0I2fLH5BtwSp77jBDLn9O7nQQYuo6QLX9fcNo+Oae/CKXl47V7gLlzf1L8zhcXygPEsT4izC0f5zwEiONphPPPRciWLy5QClBzjebUDP4qQOFabf9tjoEvS+/aXIDkmu1HqF0+3jMbILl2uxGeLL9owKUB3vmMr5B0kHSrHawmQJw/RbhJOqyb9kMiQtVdqQ0Q7xmbW36tNQH+29754S0ggHsANwK4B3AjgHsANwK4B3AjgHsANwK4B3AjgHsAt80HAAAAAAAAAAAAAAAA/fsD3e5g+r'+
	'A5Qy8AAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon.material) me._ht_node_icon.material.opacity = v;
			me._ht_node_icon.visible = (v>0 && me._ht_node_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon.visible
			let parentEl = me._ht_node_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon.userData.opacity = v;
			v = v * me._ht_node_icon.userData.parentOpacity;
			me._ht_node_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon.children.length; i++) {
				let child = me._ht_node_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon.userData.parentOpacity = v;
			v = v * me._ht_node_icon.userData.opacity
			me._ht_node_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon.children.length; i++) {
				let child = me._ht_node_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABQ0lEQVR4nO3US27CQBBFUZyNRGJPsSFhxP5XEAg3k0JyEtu4I6Py5x7JE7uarvcG7HaSJEmSJEmSJEmSpOcCGuCUvUcK4AB8xbOtEoBjBL/bTgkd4bdTwkD49ZcAvD8Iv94SCsKvr4Se8H3/AesqAfjoCXbsKKBZVQlD4eP7D/FuHSUMhD+0Zv4UEO+XXcKY8DHXWUB8a4Dr4koATj3hm47Z3gLi+7JK6Al/7Qof84MFxMwyShgIXw+ceVhAzNWzLgHYA5eS8HFuVAEx21XCBdhPm+afgDNwa4V/G3FmdAEx3y7hBpyn2X4iUcLnmPAxX1RAnKnjjnmFvwNeC2aLCyi9Y4xqyh8r8Tt0VVUpu7xkXDonFpC9QDYLyF4gmwVkL5DNArIXyGYB2Qtks4'+
	'DsBbJZQPYCkiRJkiRJkiRJkiRJz/YNetqxr5cWMbcAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_node_icon_materialOver';
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon.userData.onmouseenter=function (e) {
			me._ht_node_icon.material = me._ht_node_icon.userData.materialOver;
			me.elementMouseOver['ht_node_icon']=true;
		}
		me._ht_node_icon.userData.onmouseleave=function (e) {
			me._ht_node_icon.material = me._ht_node_icon.userData.materialNormal;
			me.elementMouseOver['ht_node_icon']=false;
		}
		me._ht_node_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg.add(me._ht_node_icon);
		me._ht_node_2_vr.add(me._ht_node_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image.userData.ggSubElement) {
				me._ht_node_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image.userData.visible);
			}
			me._ht_node_custom_image.visible = (v>0 && me._ht_node_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image.visible
			let parentEl = me._ht_node_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image.userData.opacity = v;
			v = v * me._ht_node_custom_image.userData.parentOpacity;
			me._ht_node_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image.children.length; i++) {
				let child = me._ht_node_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image.userData.opacity
			me._ht_node_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image.children.length; i++) {
				let child = me._ht_node_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image.userData.ggUpdatePosition();
				me._ht_node_custom_image.userData.ggText = extUrl;
				me._ht_node_custom_image.userData.setOpacity(me._ht_node_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image.visible=((!me._ht_node_custom_image.material && Number(me._ht_node_custom_image.userData.opacity>0)) || Number(me._ht_node_custom_image.material.opacity)>0)?true:false;
			me._ht_node_custom_image.userData.visible=true;
				}
				else {
			me._ht_node_custom_image.visible=false;
			me._ht_node_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image.logicBlock_visible();
		me._ht_node_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image.userData.clientHeight;
			var img = me._ht_node_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._ht_node_2_vr.add(me._ht_node_custom_image);
		me._ht_node_2_vr.logicBlock_visible();
		me._ht_node_2_vr.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_2_vr']=false;
		me._ht_node_preview_bg.logicBlock_visible();
		me._ht_node_preview_bg.userData.setOpacity(1.00);
		me._ht_node_preview_title.logicBlock_visible();
		me._ht_node_preview_title.userData.setOpacity(1.00);
		me._ht_node_bg.logicBlock_visible();
		me._ht_node_bg.userData.setOpacity(1.00);
		me._ht_node_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_icon']=false;
		me._ht_node_custom_image.logicBlock_visible();
		me._ht_node_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_preview_bg.logicBlock_visible();
				me._ht_node_preview_title.logicBlock_visible();
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_node_2_vr.logicBlock_visible();
				me._ht_node_preview_bg.logicBlock_visible();
					me._ht_node_preview_title.userData.ggUpdateText();
				me._ht_node_preview_title.logicBlock_visible();
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_node_2_vr.logicBlock_visible();
				me._ht_node_preview_bg.logicBlock_visible();
				me._ht_node_preview_title.logicBlock_visible();
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_node_2_vr.logicBlock_visible();
			};
			me.__obj = me._ht_node_2_vr;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_node_vr_1(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_node_vr_1';
		el.userData.x = -0.79;
		el.userData.y = -0.03;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_vr_1.visible
			let parentEl = me._ht_node_vr_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_vr_1.userData.opacity = v;
			v = v * me._ht_node_vr_1.userData.parentOpacity;
			me._ht_node_vr_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_vr_1.children.length; i++) {
				let child = me._ht_node_vr_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_vr_1.userData.parentOpacity = v;
			v = v * me._ht_node_vr_1.userData.opacity
			me._ht_node_vr_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_vr_1.children.length; i++) {
				let child = me._ht_node_vr_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_vr_1 = el;
		el.userData.ggId="ht_node_vr_1";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_node_vr_1.userData.onclick=function (e) {
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_vr_1.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_vr_1.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_node_vr_1']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_vr_1.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_node_vr_1']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_vr_1.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 6.3;
		height = 2.36;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg0.material.opacity = v * me._ht_node_preview_bg0.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg0.userData.ggSubElement) {
				me._ht_node_preview_bg0.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg0.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg0.userData.visible);
			}
			me._ht_node_preview_bg0.visible = (v>0 && me._ht_node_preview_bg0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg0.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg0.userData.setOpacity(me._ht_node_preview_bg0.userData.opacity);
		}
		el.translateX(-0.07);
		el.translateY(1.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 630;
		el.userData.height = 236;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = -0.07;
		el.userData.y = 1.42;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg0.visible
			let parentEl = me._ht_node_preview_bg0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg0.userData.opacity = v;
			v = v * me._ht_node_preview_bg0.userData.parentOpacity;
			me._ht_node_preview_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg0.children.length; i++) {
				let child = me._ht_node_preview_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg0.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg0.userData.opacity
			me._ht_node_preview_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg0.children.length; i++) {
				let child = me._ht_node_preview_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg0 = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg0.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(6.3, 2.26, 5, 5 );
		geometry.name = 'ht_node_preview_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_title0.material.opacity = v;
			if (me._ht_node_preview_title0.userData.hasScrollbar) {
				me._ht_node_preview_title0.userData.scrollbar.material.opacity = v;
				me._ht_node_preview_title0.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_preview_title0.userData.ggSubElement) {
				me._ht_node_preview_title0.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_title0.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_title0.userData.visible);
			}
			me._ht_node_preview_title0.visible = (v>0 && me._ht_node_preview_title0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title0.userData.backgroundColorAlpha = v;
			me._ht_node_preview_title0.userData.setOpacity(me._ht_node_preview_title0.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.04);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 630;
		el.userData.height = 226;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_title';
		el.userData.x = 0;
		el.userData.y = 0.04;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_title0.visible
			let parentEl = me._ht_node_preview_title0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_title0.userData.opacity = v;
			v = v * me._ht_node_preview_title0.userData.parentOpacity;
			me._ht_node_preview_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title0.children.length; i++) {
				let child = me._ht_node_preview_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_title0.userData.parentOpacity = v;
			v = v * me._ht_node_preview_title0.userData.opacity
			me._ht_node_preview_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title0.children.length; i++) {
				let child = me._ht_node_preview_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_title0 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1260;
		canvas.height = 452;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_preview_title0.userData.totalHeightCanv = 2 * (7);
			me._ht_node_preview_title0.userData.textLines = [];
			var ctx = me._ht_node_preview_title0.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_preview_title0.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_preview_title0.userData.textLines.push(line);
					line = '';
					me._ht_node_preview_title0.userData.totalHeightCanv += me._ht_node_preview_title0.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_preview_title0.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_preview_title0.userData.textLines.push(line);
					line = words[i];
					me._ht_node_preview_title0.userData.totalHeightCanv += me._ht_node_preview_title0.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_preview_title0.userData.textLines.push(line);
			me._ht_node_preview_title0.userData.totalHeightCanv += me._ht_node_preview_title0.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_preview_title0.userData.textCanvas;
			var ctx = me._ht_node_preview_title0.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title0.userData.backgroundColor.r * 255 + ', ' + me._ht_node_preview_title0.userData.backgroundColor.g * 255 + ', ' + me._ht_node_preview_title0.userData.backgroundColor.b * 255 + ', ' + me._ht_node_preview_title0.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title0.userData.textColor.r * 255 + ', ' + me._ht_node_preview_title0.userData.textColor.g * 255 + ', ' + me._ht_node_preview_title0.userData.textColor.b * 255 + ', ' + me._ht_node_preview_title0.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 2 * 0;
			ctx.textAlign = 'left';
			var y = 2 * 7;
			for (var i = 0; i < me._ht_node_preview_title0.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_preview_title0.userData.textLines[i], x, y);
				y += me._ht_node_preview_title0.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_preview_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_preview_title0.material.map) {
				me._ht_node_preview_title0.material.map.dispose();
			}
			me._ht_node_preview_title0.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_preview_title0.children.length; i++) {
				let child = me._ht_node_preview_title0.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_preview_title0.remove(child);
			}
			var canv = me._ht_node_preview_title0.userData.textCanvas;
			var ctx = me._ht_node_preview_title0.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title0.userData.lineHeightCanv = 33.6;
			me._ht_node_preview_title0.userData.ggWrapText(false);
			me._ht_node_preview_title0.userData.boxWidthCanv = 2 * me._ht_node_preview_title0.userData.width;
			me._ht_node_preview_title0.userData.boxHeightCanv = 2 * me._ht_node_preview_title0.userData.height;
			me._ht_node_preview_title0.userData.hasScrollbar = false;
			canv.width = me._ht_node_preview_title0.userData.boxWidthCanv;
			canv.height = me._ht_node_preview_title0.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title0.userData.ggPaintCanvasText();
		}
		me._ht_node_preview_title0.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.description))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_preview_title0.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_preview_title0.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title0.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title0.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_preview_title0.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_preview_title0.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_preview_title";
		me._ht_node_preview_title0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg0.add(me._ht_node_preview_title0);
		me._ht_node_vr_1.add(me._ht_node_preview_bg0);
		width = 0.32;
		height = 0.48;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.117647, 0.117647, 0.117647).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg0.material.opacity = v * me._ht_node_bg0.userData.backgroundColorAlpha;
			if (me._ht_node_bg0.userData.ggSubElement) {
				me._ht_node_bg0.userData.ggSubElement.material.opacity = v
				me._ht_node_bg0.userData.ggSubElement.visible = (v>0 && me._ht_node_bg0.userData.visible);
			}
			me._ht_node_bg0.visible = (v>0 && me._ht_node_bg0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg0.userData.backgroundColorAlpha = v;
			me._ht_node_bg0.userData.setOpacity(me._ht_node_bg0.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg0.visible
			let parentEl = me._ht_node_bg0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg0.userData.opacity = v;
			v = v * me._ht_node_bg0.userData.parentOpacity;
			me._ht_node_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg0.children.length; i++) {
				let child = me._ht_node_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg0.userData.parentOpacity = v;
			v = v * me._ht_node_bg0.userData.opacity
			me._ht_node_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg0.children.length; i++) {
				let child = me._ht_node_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg0 = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg0.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.48, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABI0lEQVR4nO3aWwqDQAyF4dDluBLB/S+iO+hb+jIBKVJHHeNk8n/Q55xzoBeoIgAAAAAAAAAAAACAfSoyqcj8wN1ZRSbvu78hJhV5q8hHRRbHu0u5+X5shFV5LS+XEVbl7a7/CBvlXUbYKP/MCOX9txXkthH+lLebvp9DFYGajeB5q7tg3Zb3CNh9eXNH0DDlTcvA4cqbFsHDljdXCoQvb84UGaa8OVJouPKmptiw5U1FwXHLm50Rxi5vDowwXnlTMYJ7+ZfnsdRSvwVSfwim/hpM/UPoSLHhRjhTaJgRrhQJP0KLAmFHaBk83Ah3BA4zwp1Bux/BI2C3I3gG624Ezf7nqGb/e7yEyfuAxCpM3kdkVmHyPiQFAAAAAAAAAAAAAFF8AfMbCykcOP+iAA'+
	'AAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon0.material) me._ht_node_icon0.material.opacity = v;
			me._ht_node_icon0.visible = (v>0 && me._ht_node_icon0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon0.visible
			let parentEl = me._ht_node_icon0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon0.userData.opacity = v;
			v = v * me._ht_node_icon0.userData.parentOpacity;
			me._ht_node_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon0.children.length; i++) {
				let child = me._ht_node_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon0.userData.parentOpacity = v;
			v = v * me._ht_node_icon0.userData.opacity
			me._ht_node_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon0.children.length; i++) {
				let child = me._ht_node_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon0 = el;
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg0.add(me._ht_node_icon0);
		me._ht_node_vr_1.add(me._ht_node_bg0);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image0.userData.ggSubElement) {
				me._ht_node_custom_image0.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image0.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image0.userData.visible);
			}
			me._ht_node_custom_image0.visible = (v>0 && me._ht_node_custom_image0.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image0.visible
			let parentEl = me._ht_node_custom_image0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image0.userData.opacity = v;
			v = v * me._ht_node_custom_image0.userData.parentOpacity;
			me._ht_node_custom_image0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image0.children.length; i++) {
				let child = me._ht_node_custom_image0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image0.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image0.userData.opacity
			me._ht_node_custom_image0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image0.children.length; i++) {
				let child = me._ht_node_custom_image0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image0 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image0.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image0.userData.ggUpdatePosition();
				me._ht_node_custom_image0.userData.ggText = extUrl;
				me._ht_node_custom_image0.userData.setOpacity(me._ht_node_custom_image0.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image0.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image0.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image0.userData.clientHeight;
			var img = me._ht_node_custom_image0.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._ht_node_vr_1.add(me._ht_node_custom_image0);
		me._ht_node_vr_1.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_vr_1']=false;
		me._ht_node_preview_bg0.userData.setOpacity(1.00);
		me._ht_node_preview_title0.userData.setOpacity(1.00);
		me._ht_node_bg0.userData.setOpacity(1.00);
		me._ht_node_icon0.userData.setOpacity(1.00);
		me._ht_node_custom_image0.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
					me._ht_node_preview_title0.userData.ggUpdateText();
			};
			me.__obj = me._ht_node_vr_1;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_flycam_hotspot(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'flycam_hotspot';
		el.userData.x = -3.2;
		el.userData.y = 1.6;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._flycam_hotspot.visible
			let parentEl = me._flycam_hotspot.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._flycam_hotspot.userData.opacity = v;
			v = v * me._flycam_hotspot.userData.parentOpacity;
			me._flycam_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._flycam_hotspot.children.length; i++) {
				let child = me._flycam_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._flycam_hotspot.userData.parentOpacity = v;
			v = v * me._flycam_hotspot.userData.opacity
			me._flycam_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._flycam_hotspot.children.length; i++) {
				let child = me._flycam_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._flycam_hotspot = el;
		el.userData.ggId="flycam_hotspot";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._flycam_hotspot.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._flycam_hotspot.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._flycam_hotspot.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._flycam_hotspot.ggCurrentLogicStateVisible == 0) {
			me._flycam_hotspot.visible=((!me._flycam_hotspot.material && Number(me._flycam_hotspot.userData.opacity>0)) || Number(me._flycam_hotspot.material.opacity)>0)?true:false;
			me._flycam_hotspot.userData.visible=true;
				}
				else {
			me._flycam_hotspot.visible=false;
			me._flycam_hotspot.userData.visible=false;
				}
			}
		}
		me._flycam_hotspot.logicBlock_visible();
		me._flycam_hotspot.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._flycam_hotspot.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._flycam_hotspot.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['flycam_hotspot']=true;
			me._ht_node_preview_bg1.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._flycam_hotspot.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['flycam_hotspot']=false;
			me._ht_node_preview_bg1.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._flycam_hotspot.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.8;
		height = 1.2;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg1.material.opacity = v * me._ht_node_preview_bg1.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg1.userData.ggSubElement) {
				me._ht_node_preview_bg1.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg1.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg1.userData.visible);
			}
			me._ht_node_preview_bg1.visible = (v>0 && me._ht_node_preview_bg1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg1.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg1.userData.setOpacity(me._ht_node_preview_bg1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.66);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 120;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = 0;
		el.userData.y = 0.66;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg1.visible
			let parentEl = me._ht_node_preview_bg1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg1.userData.opacity = v;
			v = v * me._ht_node_preview_bg1.userData.parentOpacity;
			me._ht_node_preview_bg1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg1.children.length; i++) {
				let child = me._ht_node_preview_bg1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg1.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg1.userData.opacity
			me._ht_node_preview_bg1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg1.children.length; i++) {
				let child = me._ht_node_preview_bg1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg1 = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['flycam_hotspot'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_bg1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_bg1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_bg1.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_bg1.visible=((!me._ht_node_preview_bg1.material && Number(me._ht_node_preview_bg1.userData.opacity>0)) || Number(me._ht_node_preview_bg1.material.opacity)>0)?true:false;
			me._ht_node_preview_bg1.userData.visible=true;
				}
				else {
			me._ht_node_preview_bg1.visible=false;
			me._ht_node_preview_bg1.userData.visible=false;
				}
			}
		}
		me._ht_node_preview_bg1.logicBlock_visible();
		me._ht_node_preview_bg1.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.72;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.arc(0, -0.05, 0.05, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.arc(-0.05, 0, 0.05, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.arc(0, 0.05, 0.05, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.arc(0.05, 0, 0.05, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_img_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/ht_node_preview_img_' + nodeId + '.jpg');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_preview_img_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 172;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_img';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_preview_img.material) me._ht_node_preview_img.material.opacity = v;
			me._ht_node_preview_img.visible = (v>0 && me._ht_node_preview_img.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_img.visible
			let parentEl = me._ht_node_preview_img.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_img.userData.opacity = v;
			v = v * me._ht_node_preview_img.userData.parentOpacity;
			me._ht_node_preview_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img.children.length; i++) {
				let child = me._ht_node_preview_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_img.userData.parentOpacity = v;
			v = v * me._ht_node_preview_img.userData.opacity
			me._ht_node_preview_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img.children.length; i++) {
				let child = me._ht_node_preview_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_img = el;
		el.userData.ggId="ht_node_preview_img";
		me._ht_node_preview_img.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._ht_node_preview_img.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg1.add(me._ht_node_preview_img);
		geometry = new THREE.PlaneGeometry(1.8, 0.36, 5, 5 );
		geometry.name = 'ht_node_preview_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_title1.material.opacity = v;
			if (me._ht_node_preview_title1.userData.hasScrollbar) {
				me._ht_node_preview_title1.userData.scrollbar.material.opacity = v;
				me._ht_node_preview_title1.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_preview_title1.userData.ggSubElement) {
				me._ht_node_preview_title1.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_title1.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_title1.userData.visible);
			}
			me._ht_node_preview_title1.visible = (v>0 && me._ht_node_preview_title1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title1.userData.backgroundColorAlpha = v;
			me._ht_node_preview_title1.userData.setOpacity(me._ht_node_preview_title1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 36;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_title';
		el.userData.x = 0;
		el.userData.y = 0.42;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_title1.visible
			let parentEl = me._ht_node_preview_title1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_title1.userData.opacity = v;
			v = v * me._ht_node_preview_title1.userData.parentOpacity;
			me._ht_node_preview_title1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title1.children.length; i++) {
				let child = me._ht_node_preview_title1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_title1.userData.parentOpacity = v;
			v = v * me._ht_node_preview_title1.userData.opacity
			me._ht_node_preview_title1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title1.children.length; i++) {
				let child = me._ht_node_preview_title1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_title1 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 360;
		canvas.height = 72;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_preview_title1.userData.totalHeightCanv = 2 * (7);
			me._ht_node_preview_title1.userData.textLines = [];
			var ctx = me._ht_node_preview_title1.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_preview_title1.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_preview_title1.userData.textLines.push(line);
					line = '';
					me._ht_node_preview_title1.userData.totalHeightCanv += me._ht_node_preview_title1.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_preview_title1.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_preview_title1.userData.textLines.push(line);
					line = words[i];
					me._ht_node_preview_title1.userData.totalHeightCanv += me._ht_node_preview_title1.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_preview_title1.userData.textLines.push(line);
			me._ht_node_preview_title1.userData.totalHeightCanv += me._ht_node_preview_title1.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_preview_title1.userData.textCanvas;
			var ctx = me._ht_node_preview_title1.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title1.userData.backgroundColor.r * 255 + ', ' + me._ht_node_preview_title1.userData.backgroundColor.g * 255 + ', ' + me._ht_node_preview_title1.userData.backgroundColor.b * 255 + ', ' + me._ht_node_preview_title1.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title1.userData.textColor.r * 255 + ', ' + me._ht_node_preview_title1.userData.textColor.g * 255 + ', ' + me._ht_node_preview_title1.userData.textColor.b * 255 + ', ' + me._ht_node_preview_title1.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_preview_title1.userData.boxWidthCanv - (me._ht_node_preview_title1.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 7;
			y += (canv.height - me._ht_node_preview_title1.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._ht_node_preview_title1.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_preview_title1.userData.textLines[i], x, y);
				y += me._ht_node_preview_title1.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_preview_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_preview_title1.material.map) {
				me._ht_node_preview_title1.material.map.dispose();
			}
			me._ht_node_preview_title1.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_preview_title1.children.length; i++) {
				let child = me._ht_node_preview_title1.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_preview_title1.remove(child);
			}
			var canv = me._ht_node_preview_title1.userData.textCanvas;
			var ctx = me._ht_node_preview_title1.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title1.userData.lineHeightCanv = 33.6;
			me._ht_node_preview_title1.userData.ggWrapText(false);
			me._ht_node_preview_title1.userData.boxWidthCanv = 2 * me._ht_node_preview_title1.userData.width;
			me._ht_node_preview_title1.userData.boxHeightCanv = 2 * me._ht_node_preview_title1.userData.height;
			me._ht_node_preview_title1.userData.hasScrollbar = false;
			canv.width = me._ht_node_preview_title1.userData.boxWidthCanv;
			canv.height = me._ht_node_preview_title1.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title1.userData.ggPaintCanvasText();
		}
		me._ht_node_preview_title1.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_preview_title1.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_preview_title1.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title1.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title1.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_preview_title1.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_preview_title1.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_preview_title";
		me._ht_node_preview_title1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player._(me.hotspot.title) == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_title1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_title1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_title1.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_title1.visible=false;
			me._ht_node_preview_title1.userData.visible=false;
				}
				else {
			me._ht_node_preview_title1.visible=((!me._ht_node_preview_title1.material && Number(me._ht_node_preview_title1.userData.opacity>0)) || Number(me._ht_node_preview_title1.material.opacity)>0)?true:false;
			me._ht_node_preview_title1.userData.visible=true;
				}
			}
		}
		me._ht_node_preview_title1.logicBlock_visible();
		me._ht_node_preview_title1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg1.add(me._ht_node_preview_title1);
		me._flycam_hotspot.add(me._ht_node_preview_bg1);
		width = 1.5;
		height = 1.5;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg1.material.opacity = v * me._ht_node_bg1.userData.backgroundColorAlpha;
			if (me._ht_node_bg1.userData.ggSubElement) {
				me._ht_node_bg1.userData.ggSubElement.material.opacity = v
				me._ht_node_bg1.userData.ggSubElement.visible = (v>0 && me._ht_node_bg1.userData.visible);
			}
			me._ht_node_bg1.visible = (v>0 && me._ht_node_bg1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg1.userData.backgroundColorAlpha = v;
			me._ht_node_bg1.userData.setOpacity(me._ht_node_bg1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 150;
		el.userData.height = 150;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg1.visible
			let parentEl = me._ht_node_bg1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg1.userData.opacity = v;
			v = v * me._ht_node_bg1.userData.parentOpacity;
			me._ht_node_bg1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg1.children.length; i++) {
				let child = me._ht_node_bg1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg1.userData.parentOpacity = v;
			v = v * me._ht_node_bg1.userData.opacity
			me._ht_node_bg1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg1.children.length; i++) {
				let child = me._ht_node_bg1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg1 = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg1.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg1.visible=false;
			me._ht_node_bg1.userData.visible=false;
				}
				else {
			me._ht_node_bg1.visible=((!me._ht_node_bg1.material && Number(me._ht_node_bg1.userData.opacity>0)) || Number(me._ht_node_bg1.material.opacity)>0)?true:false;
			me._ht_node_bg1.userData.visible=true;
				}
			}
		}
		me._ht_node_bg1.logicBlock_visible();
		me._ht_node_bg1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(1.5, 1.5, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load(basePath + 'images_vr/ht_node_icon1.png');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 150;
		el.userData.height = 150;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon1.material) me._ht_node_icon1.material.opacity = v;
			me._ht_node_icon1.visible = (v>0 && me._ht_node_icon1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon1.visible
			let parentEl = me._ht_node_icon1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon1.userData.opacity = v;
			v = v * me._ht_node_icon1.userData.parentOpacity;
			me._ht_node_icon1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon1.children.length; i++) {
				let child = me._ht_node_icon1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon1.userData.parentOpacity = v;
			v = v * me._ht_node_icon1.userData.opacity
			me._ht_node_icon1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon1.children.length; i++) {
				let child = me._ht_node_icon1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon1 = el;
		textureActive = loader.load(basePath + 'images_vr/ht_node_icon1__a.png');
		textureActive.colorSpace = player.getVRTextureColorSpace();
		me._ht_node_icon1.userData.materialActive = new THREE.MeshBasicMaterial( {map: textureActive, side: THREE.DoubleSide, transparent: true} );
		me._ht_node_icon1.userData.materialActive.name = 'ht_node_icon_materialActive';
		me._ht_node_icon1.userData.materialNormal = me._ht_node_icon1.material;
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon1.userData.onmousedown=function (e) {
			me._ht_node_icon1.material = me._ht_node_icon1.userData.materialActive;
		}
		me._ht_node_icon1.userData.onmouseup=function (e) {
			me._ht_node_icon1.material = me._ht_node_icon1.userData.materialNormal;
		}
		me._ht_node_icon1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg1.add(me._ht_node_icon1);
		me._flycam_hotspot.add(me._ht_node_bg1);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image1.userData.ggSubElement) {
				me._ht_node_custom_image1.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image1.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image1.userData.visible);
			}
			me._ht_node_custom_image1.visible = (v>0 && me._ht_node_custom_image1.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image1.visible
			let parentEl = me._ht_node_custom_image1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image1.userData.opacity = v;
			v = v * me._ht_node_custom_image1.userData.parentOpacity;
			me._ht_node_custom_image1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image1.children.length; i++) {
				let child = me._ht_node_custom_image1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image1.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image1.userData.opacity
			me._ht_node_custom_image1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image1.children.length; i++) {
				let child = me._ht_node_custom_image1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image1 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image1.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image1.userData.ggUpdatePosition();
				me._ht_node_custom_image1.userData.ggText = extUrl;
				me._ht_node_custom_image1.userData.setOpacity(me._ht_node_custom_image1.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image1.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image1.visible=((!me._ht_node_custom_image1.material && Number(me._ht_node_custom_image1.userData.opacity>0)) || Number(me._ht_node_custom_image1.material.opacity)>0)?true:false;
			me._ht_node_custom_image1.userData.visible=true;
				}
				else {
			me._ht_node_custom_image1.visible=false;
			me._ht_node_custom_image1.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image1.logicBlock_visible();
		me._ht_node_custom_image1.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image1.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image1.userData.clientHeight;
			var img = me._ht_node_custom_image1.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._flycam_hotspot.add(me._ht_node_custom_image1);
		me._flycam_hotspot.logicBlock_visible();
		me._flycam_hotspot.userData.setOpacity(1.00);
		me.elementMouseOver['flycam_hotspot']=false;
		me._ht_node_preview_bg1.logicBlock_visible();
		me._ht_node_preview_bg1.userData.setOpacity(1.00);
		me._ht_node_preview_img.userData.setOpacity(1.00);
		me._ht_node_preview_title1.logicBlock_visible();
		me._ht_node_preview_title1.userData.setOpacity(1.00);
		me._ht_node_bg1.logicBlock_visible();
		me._ht_node_bg1.userData.setOpacity(1.00);
		me._ht_node_icon1.userData.setOpacity(1.00);
		me._ht_node_custom_image1.logicBlock_visible();
		me._ht_node_custom_image1.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_preview_bg1.logicBlock_visible();
				me._ht_node_preview_title1.logicBlock_visible();
				me._ht_node_bg1.logicBlock_visible();
				me._ht_node_custom_image1.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._flycam_hotspot.logicBlock_visible();
				me._ht_node_preview_bg1.logicBlock_visible();
					me._ht_node_preview_title1.userData.ggUpdateText();
				me._ht_node_preview_title1.logicBlock_visible();
				me._ht_node_bg1.logicBlock_visible();
				me._ht_node_custom_image1.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._flycam_hotspot.logicBlock_visible();
				me._ht_node_preview_bg1.logicBlock_visible();
				me._ht_node_preview_title1.logicBlock_visible();
				me._ht_node_bg1.logicBlock_visible();
				me._ht_node_custom_image1.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._flycam_hotspot.logicBlock_visible();
			};
			me.__obj = me._flycam_hotspot;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_arrow_hotspot(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'arrow_hotspot';
		el.userData.x = -3.2;
		el.userData.y = 1.6;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._arrow_hotspot.visible
			let parentEl = me._arrow_hotspot.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._arrow_hotspot.userData.opacity = v;
			v = v * me._arrow_hotspot.userData.parentOpacity;
			me._arrow_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._arrow_hotspot.children.length; i++) {
				let child = me._arrow_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._arrow_hotspot.userData.parentOpacity = v;
			v = v * me._arrow_hotspot.userData.opacity
			me._arrow_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._arrow_hotspot.children.length; i++) {
				let child = me._arrow_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._arrow_hotspot = el;
		el.userData.ggId="arrow_hotspot";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._arrow_hotspot.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._arrow_hotspot.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._arrow_hotspot.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._arrow_hotspot.ggCurrentLogicStateVisible == 0) {
			me._arrow_hotspot.visible=((!me._arrow_hotspot.material && Number(me._arrow_hotspot.userData.opacity>0)) || Number(me._arrow_hotspot.material.opacity)>0)?true:false;
			me._arrow_hotspot.userData.visible=true;
				}
				else {
			me._arrow_hotspot.visible=false;
			me._arrow_hotspot.userData.visible=false;
				}
			}
		}
		me._arrow_hotspot.logicBlock_visible();
		me._arrow_hotspot.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._arrow_hotspot.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._arrow_hotspot.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['arrow_hotspot']=true;
			me._ht_node_preview_bg2.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._arrow_hotspot.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['arrow_hotspot']=false;
			me._ht_node_preview_bg2.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._arrow_hotspot.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.8;
		height = 1.2;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg2.material.opacity = v * me._ht_node_preview_bg2.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg2.userData.ggSubElement) {
				me._ht_node_preview_bg2.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg2.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg2.userData.visible);
			}
			me._ht_node_preview_bg2.visible = (v>0 && me._ht_node_preview_bg2.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg2.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg2.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg2.userData.setOpacity(me._ht_node_preview_bg2.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.66);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 120;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = 0;
		el.userData.y = 0.66;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg2.visible
			let parentEl = me._ht_node_preview_bg2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg2.userData.opacity = v;
			v = v * me._ht_node_preview_bg2.userData.parentOpacity;
			me._ht_node_preview_bg2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg2.children.length; i++) {
				let child = me._ht_node_preview_bg2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg2.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg2.userData.opacity
			me._ht_node_preview_bg2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg2.children.length; i++) {
				let child = me._ht_node_preview_bg2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg2 = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg2.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['arrow_hotspot'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_bg2.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_bg2.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_bg2.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_bg2.visible=((!me._ht_node_preview_bg2.material && Number(me._ht_node_preview_bg2.userData.opacity>0)) || Number(me._ht_node_preview_bg2.material.opacity)>0)?true:false;
			me._ht_node_preview_bg2.userData.visible=true;
				}
				else {
			me._ht_node_preview_bg2.visible=false;
			me._ht_node_preview_bg2.userData.visible=false;
				}
			}
		}
		me._ht_node_preview_bg2.logicBlock_visible();
		me._ht_node_preview_bg2.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.72;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.arc(0, -0.05, 0.05, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.arc(-0.05, 0, 0.05, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.arc(0, 0.05, 0.05, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.arc(0.05, 0, 0.05, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_img_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/ht_node_preview_img0_' + nodeId + '.jpg');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_preview_img_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 172;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_img';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_preview_img0.material) me._ht_node_preview_img0.material.opacity = v;
			me._ht_node_preview_img0.visible = (v>0 && me._ht_node_preview_img0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_img0.visible
			let parentEl = me._ht_node_preview_img0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_img0.userData.opacity = v;
			v = v * me._ht_node_preview_img0.userData.parentOpacity;
			me._ht_node_preview_img0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img0.children.length; i++) {
				let child = me._ht_node_preview_img0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_img0.userData.parentOpacity = v;
			v = v * me._ht_node_preview_img0.userData.opacity
			me._ht_node_preview_img0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img0.children.length; i++) {
				let child = me._ht_node_preview_img0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_img0 = el;
		el.userData.ggId="ht_node_preview_img";
		me._ht_node_preview_img0.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._ht_node_preview_img0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg2.add(me._ht_node_preview_img0);
		geometry = new THREE.PlaneGeometry(1.8, 0.36, 5, 5 );
		geometry.name = 'ht_node_preview_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_title2.material.opacity = v;
			if (me._ht_node_preview_title2.userData.hasScrollbar) {
				me._ht_node_preview_title2.userData.scrollbar.material.opacity = v;
				me._ht_node_preview_title2.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_preview_title2.userData.ggSubElement) {
				me._ht_node_preview_title2.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_title2.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_title2.userData.visible);
			}
			me._ht_node_preview_title2.visible = (v>0 && me._ht_node_preview_title2.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title2.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title2.userData.backgroundColorAlpha = v;
			me._ht_node_preview_title2.userData.setOpacity(me._ht_node_preview_title2.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 36;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_title';
		el.userData.x = 0;
		el.userData.y = 0.42;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_title2.visible
			let parentEl = me._ht_node_preview_title2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_title2.userData.opacity = v;
			v = v * me._ht_node_preview_title2.userData.parentOpacity;
			me._ht_node_preview_title2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title2.children.length; i++) {
				let child = me._ht_node_preview_title2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_title2.userData.parentOpacity = v;
			v = v * me._ht_node_preview_title2.userData.opacity
			me._ht_node_preview_title2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title2.children.length; i++) {
				let child = me._ht_node_preview_title2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_title2 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 360;
		canvas.height = 72;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_preview_title2.userData.totalHeightCanv = 2 * (7);
			me._ht_node_preview_title2.userData.textLines = [];
			var ctx = me._ht_node_preview_title2.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_preview_title2.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_preview_title2.userData.textLines.push(line);
					line = '';
					me._ht_node_preview_title2.userData.totalHeightCanv += me._ht_node_preview_title2.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_preview_title2.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_preview_title2.userData.textLines.push(line);
					line = words[i];
					me._ht_node_preview_title2.userData.totalHeightCanv += me._ht_node_preview_title2.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_preview_title2.userData.textLines.push(line);
			me._ht_node_preview_title2.userData.totalHeightCanv += me._ht_node_preview_title2.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_preview_title2.userData.textCanvas;
			var ctx = me._ht_node_preview_title2.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title2.userData.backgroundColor.r * 255 + ', ' + me._ht_node_preview_title2.userData.backgroundColor.g * 255 + ', ' + me._ht_node_preview_title2.userData.backgroundColor.b * 255 + ', ' + me._ht_node_preview_title2.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title2.userData.textColor.r * 255 + ', ' + me._ht_node_preview_title2.userData.textColor.g * 255 + ', ' + me._ht_node_preview_title2.userData.textColor.b * 255 + ', ' + me._ht_node_preview_title2.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_preview_title2.userData.boxWidthCanv - (me._ht_node_preview_title2.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 7;
			y += (canv.height - me._ht_node_preview_title2.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._ht_node_preview_title2.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_preview_title2.userData.textLines[i], x, y);
				y += me._ht_node_preview_title2.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_preview_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_preview_title2.material.map) {
				me._ht_node_preview_title2.material.map.dispose();
			}
			me._ht_node_preview_title2.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_preview_title2.children.length; i++) {
				let child = me._ht_node_preview_title2.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_preview_title2.remove(child);
			}
			var canv = me._ht_node_preview_title2.userData.textCanvas;
			var ctx = me._ht_node_preview_title2.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title2.userData.lineHeightCanv = 33.6;
			me._ht_node_preview_title2.userData.ggWrapText(false);
			me._ht_node_preview_title2.userData.boxWidthCanv = 2 * me._ht_node_preview_title2.userData.width;
			me._ht_node_preview_title2.userData.boxHeightCanv = 2 * me._ht_node_preview_title2.userData.height;
			me._ht_node_preview_title2.userData.hasScrollbar = false;
			canv.width = me._ht_node_preview_title2.userData.boxWidthCanv;
			canv.height = me._ht_node_preview_title2.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title2.userData.ggPaintCanvasText();
		}
		me._ht_node_preview_title2.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_preview_title2.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_preview_title2.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title2.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title2.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_preview_title2.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_preview_title2.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_preview_title";
		me._ht_node_preview_title2.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player._(me.hotspot.title) == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_title2.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_title2.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_title2.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_title2.visible=false;
			me._ht_node_preview_title2.userData.visible=false;
				}
				else {
			me._ht_node_preview_title2.visible=((!me._ht_node_preview_title2.material && Number(me._ht_node_preview_title2.userData.opacity>0)) || Number(me._ht_node_preview_title2.material.opacity)>0)?true:false;
			me._ht_node_preview_title2.userData.visible=true;
				}
			}
		}
		me._ht_node_preview_title2.logicBlock_visible();
		me._ht_node_preview_title2.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg2.add(me._ht_node_preview_title2);
		me._arrow_hotspot.add(me._ht_node_preview_bg2);
		width = 1;
		height = 1;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg2.material.opacity = v * me._ht_node_bg2.userData.backgroundColorAlpha;
			if (me._ht_node_bg2.userData.ggSubElement) {
				me._ht_node_bg2.userData.ggSubElement.material.opacity = v
				me._ht_node_bg2.userData.ggSubElement.visible = (v>0 && me._ht_node_bg2.userData.visible);
			}
			me._ht_node_bg2.visible = (v>0 && me._ht_node_bg2.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg2.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg2.userData.backgroundColorAlpha = v;
			me._ht_node_bg2.userData.setOpacity(me._ht_node_bg2.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg2.visible
			let parentEl = me._ht_node_bg2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg2.userData.opacity = v;
			v = v * me._ht_node_bg2.userData.parentOpacity;
			me._ht_node_bg2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg2.children.length; i++) {
				let child = me._ht_node_bg2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg2.userData.parentOpacity = v;
			v = v * me._ht_node_bg2.userData.opacity
			me._ht_node_bg2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg2.children.length; i++) {
				let child = me._ht_node_bg2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg2 = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg2.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg2.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg2.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg2.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg2.visible=false;
			me._ht_node_bg2.userData.visible=false;
				}
				else {
			me._ht_node_bg2.visible=((!me._ht_node_bg2.material && Number(me._ht_node_bg2.userData.opacity>0)) || Number(me._ht_node_bg2.material.opacity)>0)?true:false;
			me._ht_node_bg2.userData.visible=true;
				}
			}
		}
		me._ht_node_bg2.logicBlock_visible();
		me._ht_node_bg2.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(1, 1, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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'+
	'AAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true, } );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 100;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon2.material) me._ht_node_icon2.material.opacity = v;
			me._ht_node_icon2.visible = (v>0 && me._ht_node_icon2.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon2.visible
			let parentEl = me._ht_node_icon2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon2.userData.opacity = v;
			v = v * me._ht_node_icon2.userData.parentOpacity;
			me._ht_node_icon2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon2.children.length; i++) {
				let child = me._ht_node_icon2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon2.userData.parentOpacity = v;
			v = v * me._ht_node_icon2.userData.opacity
			me._ht_node_icon2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon2.children.length; i++) {
				let child = me._ht_node_icon2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon2 = el;
		textureActive = loader.load('data:image/png;base64,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'+
	'AAAAAElFTkSuQmCC');
		textureActive.colorSpace = player.getVRTextureColorSpace();
		me._ht_node_icon2.userData.materialActive = new THREE.MeshBasicMaterial( {map: textureActive, side: THREE.DoubleSide, transparent: true} );
		me._ht_node_icon2.userData.materialActive.name = 'ht_node_icon_materialActive';
		me._ht_node_icon2.userData.materialNormal = me._ht_node_icon2.material;
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon2.userData.onmousedown=function (e) {
			me._ht_node_icon2.material = me._ht_node_icon2.userData.materialActive;
		}
		me._ht_node_icon2.userData.onmouseup=function (e) {
			me._ht_node_icon2.material = me._ht_node_icon2.userData.materialNormal;
		}
		me._ht_node_icon2.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg2.add(me._ht_node_icon2);
		me._arrow_hotspot.add(me._ht_node_bg2);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image2.userData.ggSubElement) {
				me._ht_node_custom_image2.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image2.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image2.userData.visible);
			}
			me._ht_node_custom_image2.visible = (v>0 && me._ht_node_custom_image2.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image2.visible
			let parentEl = me._ht_node_custom_image2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image2.userData.opacity = v;
			v = v * me._ht_node_custom_image2.userData.parentOpacity;
			me._ht_node_custom_image2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image2.children.length; i++) {
				let child = me._ht_node_custom_image2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image2.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image2.userData.opacity
			me._ht_node_custom_image2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image2.children.length; i++) {
				let child = me._ht_node_custom_image2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image2 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image2.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image2.userData.ggUpdatePosition();
				me._ht_node_custom_image2.userData.ggText = extUrl;
				me._ht_node_custom_image2.userData.setOpacity(me._ht_node_custom_image2.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image2.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image2.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image2.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image2.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image2.visible=((!me._ht_node_custom_image2.material && Number(me._ht_node_custom_image2.userData.opacity>0)) || Number(me._ht_node_custom_image2.material.opacity)>0)?true:false;
			me._ht_node_custom_image2.userData.visible=true;
				}
				else {
			me._ht_node_custom_image2.visible=false;
			me._ht_node_custom_image2.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image2.logicBlock_visible();
		me._ht_node_custom_image2.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image2.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image2.userData.clientHeight;
			var img = me._ht_node_custom_image2.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._arrow_hotspot.add(me._ht_node_custom_image2);
		me._arrow_hotspot.logicBlock_visible();
		me._arrow_hotspot.userData.setOpacity(1.00);
		me.elementMouseOver['arrow_hotspot']=false;
		me._ht_node_preview_bg2.logicBlock_visible();
		me._ht_node_preview_bg2.userData.setOpacity(1.00);
		me._ht_node_preview_img0.userData.setOpacity(1.00);
		me._ht_node_preview_title2.logicBlock_visible();
		me._ht_node_preview_title2.userData.setOpacity(1.00);
		me._ht_node_bg2.logicBlock_visible();
		me._ht_node_bg2.userData.setOpacity(1.00);
		me._ht_node_icon2.userData.setOpacity(1.00);
		me._ht_node_custom_image2.logicBlock_visible();
		me._ht_node_custom_image2.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_preview_bg2.logicBlock_visible();
				me._ht_node_preview_title2.logicBlock_visible();
				me._ht_node_bg2.logicBlock_visible();
				me._ht_node_custom_image2.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._arrow_hotspot.logicBlock_visible();
				me._ht_node_preview_bg2.logicBlock_visible();
					me._ht_node_preview_title2.userData.ggUpdateText();
				me._ht_node_preview_title2.logicBlock_visible();
				me._ht_node_bg2.logicBlock_visible();
				me._ht_node_custom_image2.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._arrow_hotspot.logicBlock_visible();
				me._ht_node_preview_bg2.logicBlock_visible();
				me._ht_node_preview_title2.logicBlock_visible();
				me._ht_node_bg2.logicBlock_visible();
				me._ht_node_custom_image2.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._arrow_hotspot.logicBlock_visible();
			};
			me.__obj = me._arrow_hotspot;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_floor_hotspot(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'floor_hotspot';
		el.userData.x = 2.22;
		el.userData.y = 0.91;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(11.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floor_hotspot.visible
			let parentEl = me._floor_hotspot.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floor_hotspot.userData.opacity = v;
			v = v * me._floor_hotspot.userData.parentOpacity;
			me._floor_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot.children.length; i++) {
				let child = me._floor_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floor_hotspot.userData.parentOpacity = v;
			v = v * me._floor_hotspot.userData.opacity
			me._floor_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot.children.length; i++) {
				let child = me._floor_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floor_hotspot = el;
		el.userData.ggId="floor_hotspot";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._floor_hotspot.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['floor_hotspot']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['floor_hotspot']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._floor_hotspot_customimage.userData.ggSubElement) {
				me._floor_hotspot_customimage.userData.ggSubElement.material.opacity = v
				me._floor_hotspot_customimage.userData.ggSubElement.visible = (v>0 && me._floor_hotspot_customimage.userData.visible);
			}
			me._floor_hotspot_customimage.visible = (v>0 && me._floor_hotspot_customimage.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'floor_hotspot_CustomImage';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floor_hotspot_customimage.visible
			let parentEl = me._floor_hotspot_customimage.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floor_hotspot_customimage.userData.opacity = v;
			v = v * me._floor_hotspot_customimage.userData.parentOpacity;
			me._floor_hotspot_customimage.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot_customimage.children.length; i++) {
				let child = me._floor_hotspot_customimage.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floor_hotspot_customimage.userData.parentOpacity = v;
			v = v * me._floor_hotspot_customimage.userData.opacity
			me._floor_hotspot_customimage.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot_customimage.children.length; i++) {
				let child = me._floor_hotspot_customimage.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floor_hotspot_customimage = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'floor_hotspot_CustomImage_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'floor_hotspot_CustomImage_subElementMaterial';
				me._floor_hotspot_customimage.userData.ggSubElement.material = loadedMaterial;
				me._floor_hotspot_customimage.userData.ggUpdatePosition();
				me._floor_hotspot_customimage.userData.ggText = extUrl;
				me._floor_hotspot_customimage.userData.setOpacity(me._floor_hotspot_customimage.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'floor_hotspot_CustomImage_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'floor_hotspot_CustomImage_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="floor_hotspot_CustomImage";
		me._floor_hotspot_customimage.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._floor_hotspot_customimage.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._floor_hotspot_customimage.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._floor_hotspot_customimage.ggCurrentLogicStateVisible == 0) {
			me._floor_hotspot_customimage.visible=false;
			me._floor_hotspot_customimage.userData.visible=false;
				}
				else {
			me._floor_hotspot_customimage.visible=((!me._floor_hotspot_customimage.material && Number(me._floor_hotspot_customimage.userData.opacity>0)) || Number(me._floor_hotspot_customimage.material.opacity)>0)?true:false;
			me._floor_hotspot_customimage.userData.visible=true;
				}
			}
		}
		me._floor_hotspot_customimage.logicBlock_visible();
		me._floor_hotspot_customimage.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._floor_hotspot_customimage.userData.clientWidth;
			var parentHeight = me._floor_hotspot_customimage.userData.clientHeight;
			var img = me._floor_hotspot_customimage.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'floor_hotspot_CustomImage_imgGeometry';
			}
		}
		me._floor_hotspot.add(me._floor_hotspot_customimage);
		me._floor_hotspot.userData.setOpacity(1.00);
		me.elementMouseOver['floor_hotspot']=false;
		me._floor_hotspot_customimage.logicBlock_visible();
		me._floor_hotspot_customimage.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._floor_hotspot_customimage.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._floor_hotspot_customimage.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._floor_hotspot_customimage.logicBlock_visible();
			};
			me.__obj = me._floor_hotspot;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_url(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_url';
		el.userData.x = -2.2;
		el.userData.y = 1.6;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url.visible
			let parentEl = me._ht_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url.userData.opacity = v;
			v = v * me._ht_url.userData.parentOpacity;
			me._ht_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url.children.length; i++) {
				let child = me._ht_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url.userData.parentOpacity = v;
			v = v * me._ht_url.userData.opacity
			me._ht_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url.children.length; i++) {
				let child = me._ht_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url = el;
		el.userData.ggId="ht_url";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_url.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url.ggCurrentLogicStateVisible == 0) {
			me._ht_url.visible=((!me._ht_url.material && Number(me._ht_url.userData.opacity>0)) || Number(me._ht_url.material.opacity)>0)?true:false;
			me._ht_url.userData.visible=true;
				}
				else {
			me._ht_url.visible=false;
			me._ht_url.userData.visible=false;
				}
			}
		}
		me._ht_url.logicBlock_visible();
		me._ht_url.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('opt_url_popup') == false)) || 
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.openUrl(player._(me.hotspot.url),"_blank");
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._media_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._media_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._media_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("<iframe src=\"%1\" width=\"100%\" height=\"100%\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" frameborder= \"0\" ><\/iframe>", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._url_hs_popup_iframe.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._url_hs_popup_iframe.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('controls_left_open', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_url']=true;
			me._ht_url_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_url']=false;
			me._ht_url_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.25;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_url_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_url_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_url_title.material.opacity = v;
			if (me._ht_url_title.userData.hasScrollbar) {
				me._ht_url_title.userData.scrollbar.material.opacity = v;
				me._ht_url_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_url_title.userData.ggSubElement) {
				me._ht_url_title.userData.ggSubElement.material.opacity = v
				me._ht_url_title.userData.ggSubElement.visible = (v>0 && me._ht_url_title.userData.visible);
			}
			me._ht_url_title.visible = (v>0 && me._ht_url_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_url_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_url_title.userData.backgroundColorAlpha = v;
			me._ht_url_title.userData.setOpacity(me._ht_url_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.185);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 25;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_title';
		el.userData.x = 0;
		el.userData.y = -0.185;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_title.visible
			let parentEl = me._ht_url_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_title.userData.opacity = v;
			v = v * me._ht_url_title.userData.parentOpacity;
			me._ht_url_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_title.children.length; i++) {
				let child = me._ht_url_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_title.userData.parentOpacity = v;
			v = v * me._ht_url_title.userData.opacity
			me._ht_url_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_title.children.length; i++) {
				let child = me._ht_url_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 160;
		canvas.height = 50;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_url_title.userData.totalHeightCanv = 2 * (15);
			me._ht_url_title.userData.textLines = [];
			var ctx = me._ht_url_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_url_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_url_title.userData.textLines.push(line);
					line = '';
					me._ht_url_title.userData.totalHeightCanv += me._ht_url_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_url_title.userData.width - 16 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_url_title.userData.textLines.push(line);
					line = words[i];
					me._ht_url_title.userData.totalHeightCanv += me._ht_url_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_url_title.userData.textLines.push(line);
			me._ht_url_title.userData.totalHeightCanv += me._ht_url_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_url_title.userData.textCanvas;
			var ctx = me._ht_url_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_url_title.userData.backgroundColor.r * 255 + ', ' + me._ht_url_title.userData.backgroundColor.g * 255 + ', ' + me._ht_url_title.userData.backgroundColor.b * 255 + ', ' + me._ht_url_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_url_title.userData.textColor.r * 255 + ', ' + me._ht_url_title.userData.textColor.g * 255 + ', ' + me._ht_url_title.userData.textColor.b * 255 + ', ' + me._ht_url_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_url_title.userData.boxWidthCanv - (me._ht_url_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 11;
			for (var i = 0; i < me._ht_url_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_url_title.userData.textLines[i], x, y);
				y += me._ht_url_title.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_url_title.userData.boxWidthCanv / 200.0, me._ht_url_title.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_url_title_geometry';
			me._ht_url_title.geometry.dispose();
			me._ht_url_title.geometry = geometry;
			var diffY = (me._ht_url_title.userData.boxHeightCanv / 2) - me._ht_url_title.userData.height;
			me._ht_url_title.position.y = me._ht_url_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_url_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_url_title.material.map) {
				me._ht_url_title.material.map.dispose();
			}
			me._ht_url_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_url_title.children.length; i++) {
				let child = me._ht_url_title.children[i];
				if (child.name.includes('scrollbar')) me._ht_url_title.remove(child);
			}
			var canv = me._ht_url_title.userData.textCanvas;
			var ctx = me._ht_url_title.userData.textCanvasContext;
			ctx.font = '400 30px Verdana';
			me._ht_url_title.userData.lineHeightCanv = 30 * 1.2;
			me._ht_url_title.userData.textLines = [];
			me._ht_url_title.userData.textLines.push(me._ht_url_title.userData.ggText);
			me._ht_url_title.userData.totalHeightCanv = 2 * (15);
			me._ht_url_title.userData.totalHeightCanv += me._ht_url_title.userData.lineHeightCanv;
			me._ht_url_title.userData.boxWidthCanv = ctx.measureText(me._ht_url_title.userData.ggText).width + (2 * 12);
			me._ht_url_title.userData.boxHeightCanv = me._ht_url_title.userData.totalHeightCanv;
			canv.width = me._ht_url_title.userData.boxWidthCanv;
			canv.height = me._ht_url_title.userData.boxHeightCanv;
			ctx.font = '400 30px Verdana';
			me._ht_url_title.userData.ggPaintCanvasText();
		}
		me._ht_url_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_url_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_url_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_url_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_url_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_url_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_url_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_url_title";
		me._ht_url_title.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getHasTouch() == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._ht_url_title.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._ht_url_title.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._ht_url_title.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._ht_url_title, 0, -45);
					me._ht_url_title.position.x = newPos.x;
					me._ht_url_title.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._ht_url_title, 0, 6);
					me._ht_url_title.position.x = elPos.x;
					me._ht_url_title.position.y = elPos.y;
				}
			}
		}
		me._ht_url_title.logicBlock_position();
		me._ht_url_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_url'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_title.ggCurrentLogicStateVisible == 0) {
			me._ht_url_title.visible=((!me._ht_url_title.material && Number(me._ht_url_title.userData.opacity>0)) || Number(me._ht_url_title.material.opacity)>0)?true:false;
			me._ht_url_title.userData.visible=true;
				}
				else {
			me._ht_url_title.visible=false;
			me._ht_url_title.userData.visible=false;
				}
			}
		}
		me._ht_url_title.logicBlock_visible();
		me._ht_url_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_url.add(me._ht_url_title);
		width = 0.32;
		height = 0.32;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_url_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_url_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_url_bg.material.opacity = v * me._ht_url_bg.userData.backgroundColorAlpha;
			if (me._ht_url_bg.userData.ggSubElement) {
				me._ht_url_bg.userData.ggSubElement.material.opacity = v
				me._ht_url_bg.userData.ggSubElement.visible = (v>0 && me._ht_url_bg.userData.visible);
			}
			me._ht_url_bg.visible = (v>0 && me._ht_url_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_url_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_url_bg.userData.backgroundColorAlpha = v;
			me._ht_url_bg.userData.setOpacity(me._ht_url_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_bg.visible
			let parentEl = me._ht_url_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_bg.userData.opacity = v;
			v = v * me._ht_url_bg.userData.parentOpacity;
			me._ht_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_bg.children.length; i++) {
				let child = me._ht_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_bg.userData.parentOpacity = v;
			v = v * me._ht_url_bg.userData.opacity
			me._ht_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_bg.children.length; i++) {
				let child = me._ht_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_bg = el;
		el.userData.ggId="ht_url_bg";
		me._ht_url_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_url_bg.visible=false;
			me._ht_url_bg.userData.visible=false;
				}
				else {
			me._ht_url_bg.visible=((!me._ht_url_bg.material && Number(me._ht_url_bg.userData.opacity>0)) || Number(me._ht_url_bg.material.opacity)>0)?true:false;
			me._ht_url_bg.userData.visible=true;
				}
			}
		}
		me._ht_url_bg.logicBlock_visible();
		me._ht_url_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_url_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADNUlEQVR4nO2av08UQRTHP6iJIBEpAJWS4PmrsZNGG7UT/gLoPBONhpBoBzRa+qPwbMCSv+BoLLGgt4D4I5REMCYKx5GcnOEs5k12XGbJcXN3LN77JJu5fd99M29fZmdnZw4URVEURVEURVEURWkgHcAI8A5YBraBXTm2xTYLDAPthxRjQ8gAc0ARqFR5FMUncwjx1o0+4C3wB3NTZWBLfq8C40Q3PC62ilxTdnxyUteRYghYx9xEAZgCPsh5Hjgp19kEgOn2eTlfEJ+CnK8B15sTejhjQAkT+AzQAzyU80X+fb7dBCDaotgeiO+MnJeA0QbHHswYJtgdICu2M8Cm2C7Fro8nAOCyXLspvkhdO3JtapMwBPzGBHrLsT/FBP7K4+NLAMBrsT9xbLcxY0'+
	'KJFD4OfUTP/D3HfgIzuO0CAx6/pAQMiM8qcNyxZ4nGhN7gqOtIjuiZd7kp9vcJfkkJQHwqwI2Y3Y4JuZoibQAZTNfcxAxaLi8xwT5K8N0vAY9FexGz92DeDmVSMk+YwwQ66dE+i3YhwXe/BGRE++TRpkSbO1CkDaADM2srA90xrRPzHP8E2hL890tAG/BL6uiMad3SZpHAafOxEGfgDia4BWAjpl3B3ITtBQelIr5tmFejywZmYtUpMdRMaAJGpJz3aFel/BpQ/5dYXS62zRGPVjWhCRiU8qNHs6+p9YD6v8fqcrFtDnq0qglNQL+Uax6tS8qtgPqtb5dHs232e7SqSRqcqqXI3gGq2RSB07U6h/aAI09oAr5JmcH0Jvd4LtqkR7OHJUmfEv2ZR7sYi6Em6pWA8x6tIGXN3dPxLXg02+ahJmBFymse7YeU5wLqPxur'+
	'y8W2ueLRqiY0AXkphz3aspQh83XbzZc9mm0z79GaRrOmwqdiWt2mwvWgpT+GIPocLtCcz+FeUvY5DC2+IAJmSWwNE1jWsdd7Sew+KV0SA7MoWqJFF0Ut9V4Wtx9BWaLdotQui1tGaeGNEUt8a2ya6rbG5om2xqY5oltjll7MSO1udLqboxNECZggeXP0DSkc8A5Cy26Px2nHzN9ngSX2/kFiSbS7pGB6qyiKoiiKoiiKoij/MX8BQTc4vKxayAIAAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_url_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_url_icon.material) me._ht_url_icon.material.opacity = v;
			me._ht_url_icon.visible = (v>0 && me._ht_url_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_url_icon.visible
			let parentEl = me._ht_url_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_icon.userData.opacity = v;
			v = v * me._ht_url_icon.userData.parentOpacity;
			me._ht_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon.children.length; i++) {
				let child = me._ht_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_icon.userData.parentOpacity = v;
			v = v * me._ht_url_icon.userData.opacity
			me._ht_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon.children.length; i++) {
				let child = me._ht_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC+ElEQVR4nO2av08UQRSAv0MsBGOlRBNAIbHD0mCBtib+KPQv0ET+B61I6BVsoLsWCilQsZQCG2tNAC00JqCohQaOSMTDYmfju7d73N3Mnrdw70smmXlv3ts3LzezM7MHhmEYhmEYhmEYhtFMuoHbQBFYBUpA2ZWSkxVdn64WxdgUhoE5YBvYq7NsO5vhFsSbGYPALPUPulqZdb4OFKPADuGDj8uO85l7OoHH1B7Qjzpluky6Z+SSTuApyaB3VXsNGEjpNwCs17DdA+bJaRImSQb7imiFj9tl4KLrr/vidGUhKzkfuu9E00fTIKMkg5wCxlNkMWkJAJhW8vEU2R5wr2mjaZBBkgveFHAE2BCyP0C/sKuWgH7XN5ZvOF86CTtE06bl6FfdS+AocEXJny'+
	'm7agnA9ZW6y87nopLPZD6aBrlEZUC/gF6n02vCHWW7XwLuKl0853vdM6SupZulORXMQ6FbVro+ZbtfAvqVblnoHindkwzG4UU3ldvb30CP0MnV/FOK/X4JwNnI9SM+H/RQ+XosEXB26PA1BK4Cx0R7Cfjq6kNAQehWPfy/E/UO5xP3jCWh63KxeBGSgGuq/VzUh5TuvYd/bXNB1PWCet3DPxCWAP0Kei3qp5Tui4f/z6p9ssqzAM55+A9mheQ8blWRi2RDFGp3qcomcDzAPks2gRM+hiFT4FAQkoC1zKIIxzuWLBMwQjSlCsADpRsTurhotH5M6e8L3UiNWOomJAEfVFtuSb8p3WkP/2dU+3uVZwF89PAPhCXghWrfEPW3Snfew7+2eSPqN5VuwcN/MHorvMsB3AqH0taHIYjm4v88DveRs+MwJC9EFmmjCxHI/krs'+
	'LJXrR+6vxCD9UnSaNrkUjWnra3GIPlbMkwxWf9xY55B+GIEosLRfgi5pn8F+1mE3QY4HL2nGx9HczflaDBC9pkIHP0OOVnsfhol2a3IxrFVKzqblm5ws6QJuEf0NZgXY4t9fZLacrOj6HKq/yBiGYRiGYRiGYRh54y9nQzx5MtALIwAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_url_icon_materialOver';
		el.userData.ggId="ht_url_icon";
		me._ht_url_icon.userData.onmouseenter=function (e) {
			me._ht_url_icon.material = me._ht_url_icon.userData.materialOver;
			me.elementMouseOver['ht_url_icon']=true;
		}
		me._ht_url_icon.userData.onmouseleave=function (e) {
			me._ht_url_icon.material = me._ht_url_icon.userData.materialNormal;
			me.elementMouseOver['ht_url_icon']=false;
		}
		me._ht_url_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_url_bg.add(me._ht_url_icon);
		me._ht_url.add(me._ht_url_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image3.userData.ggSubElement) {
				me._ht_node_custom_image3.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image3.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image3.userData.visible);
			}
			me._ht_node_custom_image3.visible = (v>0 && me._ht_node_custom_image3.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image3.visible
			let parentEl = me._ht_node_custom_image3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image3.userData.opacity = v;
			v = v * me._ht_node_custom_image3.userData.parentOpacity;
			me._ht_node_custom_image3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image3.children.length; i++) {
				let child = me._ht_node_custom_image3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image3.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image3.userData.opacity
			me._ht_node_custom_image3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image3.children.length; i++) {
				let child = me._ht_node_custom_image3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image3 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image3.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image3.userData.ggUpdatePosition();
				me._ht_node_custom_image3.userData.ggText = extUrl;
				me._ht_node_custom_image3.userData.setOpacity(me._ht_node_custom_image3.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image3.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image3.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image3.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image3.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image3.visible=((!me._ht_node_custom_image3.material && Number(me._ht_node_custom_image3.userData.opacity>0)) || Number(me._ht_node_custom_image3.material.opacity)>0)?true:false;
			me._ht_node_custom_image3.userData.visible=true;
				}
				else {
			me._ht_node_custom_image3.visible=false;
			me._ht_node_custom_image3.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image3.logicBlock_visible();
		me._ht_node_custom_image3.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image3.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image3.userData.clientHeight;
			var img = me._ht_node_custom_image3.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._ht_url.add(me._ht_node_custom_image3);
		me._ht_url.logicBlock_visible();
		me._ht_url.userData.setOpacity(1.00);
		me.elementMouseOver['ht_url']=false;
		me._ht_url_title.logicBlock_position();
		me._ht_url_title.logicBlock_visible();
		me._ht_url_title.userData.setOpacity(1.00);
		me._ht_url_bg.logicBlock_visible();
		me._ht_url_bg.userData.setOpacity(1.00);
		me._ht_url_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_url_icon']=false;
		me._ht_node_custom_image3.logicBlock_visible();
		me._ht_node_custom_image3.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_url_title.logicBlock_visible();
				me._ht_url_bg.logicBlock_visible();
				me._ht_node_custom_image3.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_url.logicBlock_visible();
					me._ht_url_title.userData.ggUpdateText();
				me._ht_url_title.logicBlock_visible();
				me._ht_url_bg.logicBlock_visible();
				me._ht_node_custom_image3.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_url.logicBlock_visible();
				me._ht_url_title.logicBlock_position();
				me._ht_url_title.logicBlock_visible();
				me._ht_url_bg.logicBlock_visible();
				me._ht_node_custom_image3.logicBlock_visible();
			};
			me.ggEvent_hastouch=function() {
				me._ht_url_title.logicBlock_position();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_url.logicBlock_visible();
			};
			me.__obj = me._ht_url;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_node(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_node';
		el.userData.x = -3.2;
		el.userData.y = 1.6;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node.visible
			let parentEl = me._ht_node.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node.userData.opacity = v;
			v = v * me._ht_node.userData.parentOpacity;
			me._ht_node.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node.children.length; i++) {
				let child = me._ht_node.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node.userData.parentOpacity = v;
			v = v * me._ht_node.userData.opacity
			me._ht_node.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node.children.length; i++) {
				let child = me._ht_node.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node = el;
		el.userData.ggId="ht_node";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_node.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node.ggCurrentLogicStateVisible == 0) {
			me._ht_node.visible=((!me._ht_node.material && Number(me._ht_node.userData.opacity>0)) || Number(me._ht_node.material.opacity)>0)?true:false;
			me._ht_node.userData.visible=true;
				}
				else {
			me._ht_node.visible=false;
			me._ht_node.userData.visible=false;
				}
			}
		}
		me._ht_node.logicBlock_visible();
		me._ht_node.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_node']=true;
			me._ht_node_preview_bg3.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_node']=false;
			me._ht_node_preview_bg3.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.8;
		height = 1.2;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.arc(0, -0.08, 0.08, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.arc(-0.08, 0, 0.08, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.arc(0, 0.08, 0.08, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.arc(0.08, 0, 0.08, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.823529, 0.823529, 0.823529).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg3.material.opacity = v * me._ht_node_preview_bg3.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg3.userData.ggSubElement) {
				me._ht_node_preview_bg3.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg3.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg3.userData.visible);
			}
			me._ht_node_preview_bg3.visible = (v>0 && me._ht_node_preview_bg3.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg3.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg3.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg3.userData.setOpacity(me._ht_node_preview_bg3.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.66);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 120;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = 0;
		el.userData.y = 0.66;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg3.visible
			let parentEl = me._ht_node_preview_bg3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg3.userData.opacity = v;
			v = v * me._ht_node_preview_bg3.userData.parentOpacity;
			me._ht_node_preview_bg3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg3.children.length; i++) {
				let child = me._ht_node_preview_bg3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg3.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg3.userData.opacity
			me._ht_node_preview_bg3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg3.children.length; i++) {
				let child = me._ht_node_preview_bg3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg3 = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg3.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_node'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_bg3.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_bg3.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_bg3.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_bg3.visible=((!me._ht_node_preview_bg3.material && Number(me._ht_node_preview_bg3.userData.opacity>0)) || Number(me._ht_node_preview_bg3.material.opacity)>0)?true:false;
			me._ht_node_preview_bg3.userData.visible=true;
				}
				else {
			me._ht_node_preview_bg3.visible=false;
			me._ht_node_preview_bg3.userData.visible=false;
				}
			}
		}
		me._ht_node_preview_bg3.logicBlock_visible();
		me._ht_node_preview_bg3.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.72;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.arc(0, -0.05, 0.05, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.arc(-0.05, 0, 0.05, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.arc(0, 0.05, 0.05, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.arc(0.05, 0, 0.05, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_img_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/ht_node_preview_img1_' + nodeId + '.jpg');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_preview_img_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 172;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_img';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_preview_img1.material) me._ht_node_preview_img1.material.opacity = v;
			me._ht_node_preview_img1.visible = (v>0 && me._ht_node_preview_img1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_img1.visible
			let parentEl = me._ht_node_preview_img1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_img1.userData.opacity = v;
			v = v * me._ht_node_preview_img1.userData.parentOpacity;
			me._ht_node_preview_img1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img1.children.length; i++) {
				let child = me._ht_node_preview_img1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_img1.userData.parentOpacity = v;
			v = v * me._ht_node_preview_img1.userData.opacity
			me._ht_node_preview_img1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img1.children.length; i++) {
				let child = me._ht_node_preview_img1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_img1 = el;
		el.userData.ggId="ht_node_preview_img";
		me._ht_node_preview_img1.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._ht_node_preview_img1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg3.add(me._ht_node_preview_img1);
		geometry = new THREE.PlaneGeometry(1.8, 0.36, 5, 5 );
		geometry.name = 'ht_node_preview_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_title3.material.opacity = v;
			if (me._ht_node_preview_title3.userData.hasScrollbar) {
				me._ht_node_preview_title3.userData.scrollbar.material.opacity = v;
				me._ht_node_preview_title3.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_preview_title3.userData.ggSubElement) {
				me._ht_node_preview_title3.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_title3.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_title3.userData.visible);
			}
			me._ht_node_preview_title3.visible = (v>0 && me._ht_node_preview_title3.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title3.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title3.userData.backgroundColorAlpha = v;
			me._ht_node_preview_title3.userData.setOpacity(me._ht_node_preview_title3.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 180;
		el.userData.height = 36;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_title';
		el.userData.x = 0;
		el.userData.y = 0.42;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_title3.visible
			let parentEl = me._ht_node_preview_title3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_title3.userData.opacity = v;
			v = v * me._ht_node_preview_title3.userData.parentOpacity;
			me._ht_node_preview_title3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title3.children.length; i++) {
				let child = me._ht_node_preview_title3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_title3.userData.parentOpacity = v;
			v = v * me._ht_node_preview_title3.userData.opacity
			me._ht_node_preview_title3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_title3.children.length; i++) {
				let child = me._ht_node_preview_title3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_title3 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 360;
		canvas.height = 72;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_preview_title3.userData.totalHeightCanv = 2 * (7);
			me._ht_node_preview_title3.userData.textLines = [];
			var ctx = me._ht_node_preview_title3.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_preview_title3.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_preview_title3.userData.textLines.push(line);
					line = '';
					me._ht_node_preview_title3.userData.totalHeightCanv += me._ht_node_preview_title3.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_preview_title3.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_preview_title3.userData.textLines.push(line);
					line = words[i];
					me._ht_node_preview_title3.userData.totalHeightCanv += me._ht_node_preview_title3.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_preview_title3.userData.textLines.push(line);
			me._ht_node_preview_title3.userData.totalHeightCanv += me._ht_node_preview_title3.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_preview_title3.userData.textCanvas;
			var ctx = me._ht_node_preview_title3.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title3.userData.backgroundColor.r * 255 + ', ' + me._ht_node_preview_title3.userData.backgroundColor.g * 255 + ', ' + me._ht_node_preview_title3.userData.backgroundColor.b * 255 + ', ' + me._ht_node_preview_title3.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_preview_title3.userData.textColor.r * 255 + ', ' + me._ht_node_preview_title3.userData.textColor.g * 255 + ', ' + me._ht_node_preview_title3.userData.textColor.b * 255 + ', ' + me._ht_node_preview_title3.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_preview_title3.userData.boxWidthCanv - (me._ht_node_preview_title3.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 7;
			y += (canv.height - me._ht_node_preview_title3.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._ht_node_preview_title3.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_preview_title3.userData.textLines[i], x, y);
				y += me._ht_node_preview_title3.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_preview_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_preview_title3.material.map) {
				me._ht_node_preview_title3.material.map.dispose();
			}
			me._ht_node_preview_title3.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_preview_title3.children.length; i++) {
				let child = me._ht_node_preview_title3.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_preview_title3.remove(child);
			}
			var canv = me._ht_node_preview_title3.userData.textCanvas;
			var ctx = me._ht_node_preview_title3.userData.textCanvasContext;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title3.userData.lineHeightCanv = 33.6;
			me._ht_node_preview_title3.userData.ggWrapText(false);
			me._ht_node_preview_title3.userData.boxWidthCanv = 2 * me._ht_node_preview_title3.userData.width;
			me._ht_node_preview_title3.userData.boxHeightCanv = 2 * me._ht_node_preview_title3.userData.height;
			me._ht_node_preview_title3.userData.hasScrollbar = false;
			canv.width = me._ht_node_preview_title3.userData.boxWidthCanv;
			canv.height = me._ht_node_preview_title3.userData.boxHeightCanv;
			ctx.font = '28px Verdana';
			me._ht_node_preview_title3.userData.ggPaintCanvasText();
		}
		me._ht_node_preview_title3.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_preview_title3.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_preview_title3.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_title3.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_title3.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_preview_title3.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_preview_title3.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_preview_title";
		me._ht_node_preview_title3.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player._(me.hotspot.title) == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_title3.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_title3.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_title3.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_title3.visible=false;
			me._ht_node_preview_title3.userData.visible=false;
				}
				else {
			me._ht_node_preview_title3.visible=((!me._ht_node_preview_title3.material && Number(me._ht_node_preview_title3.userData.opacity>0)) || Number(me._ht_node_preview_title3.material.opacity)>0)?true:false;
			me._ht_node_preview_title3.userData.visible=true;
				}
			}
		}
		me._ht_node_preview_title3.logicBlock_visible();
		me._ht_node_preview_title3.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg3.add(me._ht_node_preview_title3);
		me._ht_node.add(me._ht_node_preview_bg3);
		width = 0.32;
		height = 0.48;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.arc(0, -0.16, 0.16, Math.PI / 2.0, 2.0 * Math.PI, true);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.16);
		roundedRectShape.arc(-0.16, 0, 0.16, 2.0 * Math.PI, 3.0 * Math.PI / 2.0, true);
		roundedRectShape.lineTo((-width / 2.0) + 0.16, (-height / 2.0));
		roundedRectShape.arc(0, 0.16, 0.16, 3.0 * Math.PI / 2.0, Math.PI, true);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.arc(0.16, 0, 0.16, Math.PI, Math.PI / 2.0, true);
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(0.117647, 0.117647, 0.117647).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg3.material.opacity = v * me._ht_node_bg3.userData.backgroundColorAlpha;
			if (me._ht_node_bg3.userData.ggSubElement) {
				me._ht_node_bg3.userData.ggSubElement.material.opacity = v
				me._ht_node_bg3.userData.ggSubElement.visible = (v>0 && me._ht_node_bg3.userData.visible);
			}
			me._ht_node_bg3.visible = (v>0 && me._ht_node_bg3.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg3.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg3.userData.backgroundColorAlpha = v;
			me._ht_node_bg3.userData.setOpacity(me._ht_node_bg3.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg3.visible
			let parentEl = me._ht_node_bg3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg3.userData.opacity = v;
			v = v * me._ht_node_bg3.userData.parentOpacity;
			me._ht_node_bg3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg3.children.length; i++) {
				let child = me._ht_node_bg3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg3.userData.parentOpacity = v;
			v = v * me._ht_node_bg3.userData.opacity
			me._ht_node_bg3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg3.children.length; i++) {
				let child = me._ht_node_bg3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg3 = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg3.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg3.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg3.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg3.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg3.visible=false;
			me._ht_node_bg3.userData.visible=false;
				}
				else {
			me._ht_node_bg3.visible=((!me._ht_node_bg3.material && Number(me._ht_node_bg3.userData.opacity>0)) || Number(me._ht_node_bg3.material.opacity)>0)?true:false;
			me._ht_node_bg3.userData.visible=true;
				}
			}
		}
		me._ht_node_bg3.logicBlock_visible();
		me._ht_node_bg3.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.48, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABKElEQVR4nO3WTa6CQBBFYeMiYE2u35+FOHVw36QwndYWGp/etjlfYkwQsepgorsdAAAAAAAAAAAAAAAfJWmUNLrnsJA0SDrFY3DP81XJ8pPjZiJky1/jsY0I2fLH5BtwSp77jBDLn9O7nQQYuo6QLX9fcNo+Oae/CKXl47V7gLlzf1L8zhcXygPEsT4izC0f5zwEiONphPPPRciWLy5QClBzjebUDP4qQOFabf9tjoEvS+/aXIDkmu1HqF0+3jMbILl2uxGeLL9owKUB3vmMr5B0kHSrHawmQJw/RbhJOqyb9kMiQtVdqQ0Q7xmbW36tNQH+29754S0ggHsANwK4B3AjgHsANwK4B3AjgHsANwK4B3AjgHsAt80HAAAAAAAAAAAAAAAA/fsD3e5g+r'+
	'A5Qy8AAAAASUVORK5CYII=');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon3.material) me._ht_node_icon3.material.opacity = v;
			me._ht_node_icon3.visible = (v>0 && me._ht_node_icon3.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon3.visible
			let parentEl = me._ht_node_icon3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon3.userData.opacity = v;
			v = v * me._ht_node_icon3.userData.parentOpacity;
			me._ht_node_icon3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon3.children.length; i++) {
				let child = me._ht_node_icon3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon3.userData.parentOpacity = v;
			v = v * me._ht_node_icon3.userData.opacity
			me._ht_node_icon3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon3.children.length; i++) {
				let child = me._ht_node_icon3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon3 = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABQ0lEQVR4nO3US27CQBBFUZyNRGJPsSFhxP5XEAg3k0JyEtu4I6Py5x7JE7uarvcG7HaSJEmSJEmSJEmSpOcCGuCUvUcK4AB8xbOtEoBjBL/bTgkd4bdTwkD49ZcAvD8Iv94SCsKvr4Se8H3/AesqAfjoCXbsKKBZVQlD4eP7D/FuHSUMhD+0Zv4UEO+XXcKY8DHXWUB8a4Dr4koATj3hm47Z3gLi+7JK6Al/7Qof84MFxMwyShgIXw+ceVhAzNWzLgHYA5eS8HFuVAEx21XCBdhPm+afgDNwa4V/G3FmdAEx3y7hBpyn2X4iUcLnmPAxX1RAnKnjjnmFvwNeC2aLCyi9Y4xqyh8r8Tt0VVUpu7xkXDonFpC9QDYLyF4gmwVkL5DNArIXyGYB2Qtks4'+
	'DsBbJZQPYCkiRJkiRJkiRJkiRJz/YNetqxr5cWMbcAAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_node_icon_materialOver';
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon3.userData.onmouseenter=function (e) {
			me._ht_node_icon3.material = me._ht_node_icon3.userData.materialOver;
			me.elementMouseOver['ht_node_icon3']=true;
		}
		me._ht_node_icon3.userData.onmouseleave=function (e) {
			me._ht_node_icon3.material = me._ht_node_icon3.userData.materialNormal;
			me.elementMouseOver['ht_node_icon3']=false;
		}
		me._ht_node_icon3.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg3.add(me._ht_node_icon3);
		me._ht_node.add(me._ht_node_bg3);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image4.userData.ggSubElement) {
				me._ht_node_custom_image4.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image4.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image4.userData.visible);
			}
			me._ht_node_custom_image4.visible = (v>0 && me._ht_node_custom_image4.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image4.visible
			let parentEl = me._ht_node_custom_image4.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image4.userData.opacity = v;
			v = v * me._ht_node_custom_image4.userData.parentOpacity;
			me._ht_node_custom_image4.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image4.children.length; i++) {
				let child = me._ht_node_custom_image4.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image4.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image4.userData.opacity
			me._ht_node_custom_image4.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image4.children.length; i++) {
				let child = me._ht_node_custom_image4.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image4 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image4.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image4.userData.ggUpdatePosition();
				me._ht_node_custom_image4.userData.ggText = extUrl;
				me._ht_node_custom_image4.userData.setOpacity(me._ht_node_custom_image4.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image4.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image4.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image4.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image4.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image4.visible=((!me._ht_node_custom_image4.material && Number(me._ht_node_custom_image4.userData.opacity>0)) || Number(me._ht_node_custom_image4.material.opacity)>0)?true:false;
			me._ht_node_custom_image4.userData.visible=true;
				}
				else {
			me._ht_node_custom_image4.visible=false;
			me._ht_node_custom_image4.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image4.logicBlock_visible();
		me._ht_node_custom_image4.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image4.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image4.userData.clientHeight;
			var img = me._ht_node_custom_image4.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._ht_node.add(me._ht_node_custom_image4);
		me._ht_node.logicBlock_visible();
		me._ht_node.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node']=false;
		me._ht_node_preview_bg3.logicBlock_visible();
		me._ht_node_preview_bg3.userData.setOpacity(1.00);
		me._ht_node_preview_img1.userData.setOpacity(1.00);
		me._ht_node_preview_title3.logicBlock_visible();
		me._ht_node_preview_title3.userData.setOpacity(1.00);
		me._ht_node_bg3.logicBlock_visible();
		me._ht_node_bg3.userData.setOpacity(1.00);
		me._ht_node_icon3.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_icon3']=false;
		me._ht_node_custom_image4.logicBlock_visible();
		me._ht_node_custom_image4.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_preview_bg3.logicBlock_visible();
				me._ht_node_preview_title3.logicBlock_visible();
				me._ht_node_bg3.logicBlock_visible();
				me._ht_node_custom_image4.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_node.logicBlock_visible();
				me._ht_node_preview_bg3.logicBlock_visible();
					me._ht_node_preview_title3.userData.ggUpdateText();
				me._ht_node_preview_title3.logicBlock_visible();
				me._ht_node_bg3.logicBlock_visible();
				me._ht_node_custom_image4.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_node.logicBlock_visible();
				me._ht_node_preview_bg3.logicBlock_visible();
				me._ht_node_preview_title3.logicBlock_visible();
				me._ht_node_bg3.logicBlock_visible();
				me._ht_node_custom_image4.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_node.logicBlock_visible();
			};
			me.__obj = me._ht_node;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_url_1(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_url_1';
		el.userData.x = -3.7;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_1.visible
			let parentEl = me._ht_url_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_1.userData.opacity = v;
			v = v * me._ht_url_1.userData.parentOpacity;
			me._ht_url_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_1.children.length; i++) {
				let child = me._ht_url_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_1.userData.parentOpacity = v;
			v = v * me._ht_url_1.userData.opacity
			me._ht_url_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_1.children.length; i++) {
				let child = me._ht_url_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_1 = el;
		el.userData.ggId="ht_url_1";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_url_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_1.ggCurrentLogicStateVisible == 0) {
			me._ht_url_1.visible=false;
			me._ht_url_1.userData.visible=false;
				}
				else {
			me._ht_url_1.visible=((!me._ht_url_1.material && Number(me._ht_url_1.userData.opacity>0)) || Number(me._ht_url_1.material.opacity)>0)?true:false;
			me._ht_url_1.userData.visible=true;
				}
			}
		}
		me._ht_url_1.logicBlock_visible();
		me._ht_url_1.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('opt_url_popup') == false)) || 
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.openUrl(player._(me.hotspot.url),player._(me.hotspot.target));
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._url_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._url_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._url_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._popup_url.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("<iframe src=\"%1\" width=\"100%\" height=\"100%\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" frameborder= \"0\" ><\/iframe>", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._popup_url.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._popup_url.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('opt_url_popup') == true)) && 
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_popup', true);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url_1.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url_1.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_url_1']=true;
			me._ht_url_title0.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url_1.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_url_1']=false;
			me._ht_url_title0.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_url_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_url_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_url_title0.material.opacity = v;
			if (me._ht_url_title0.userData.hasScrollbar) {
				me._ht_url_title0.userData.scrollbar.material.opacity = v;
				me._ht_url_title0.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_url_title0.userData.ggSubElement) {
				me._ht_url_title0.userData.ggSubElement.material.opacity = v
				me._ht_url_title0.userData.ggSubElement.visible = (v>0 && me._ht_url_title0.userData.visible);
			}
			me._ht_url_title0.visible = (v>0 && me._ht_url_title0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_url_title0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_url_title0.userData.backgroundColorAlpha = v;
			me._ht_url_title0.userData.setOpacity(me._ht_url_title0.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_title';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_title0.visible
			let parentEl = me._ht_url_title0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_title0.userData.opacity = v;
			v = v * me._ht_url_title0.userData.parentOpacity;
			me._ht_url_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_title0.children.length; i++) {
				let child = me._ht_url_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_title0.userData.parentOpacity = v;
			v = v * me._ht_url_title0.userData.opacity
			me._ht_url_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_title0.children.length; i++) {
				let child = me._ht_url_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_title0 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_url_title0.userData.totalHeightCanv = 2 * (3);
			me._ht_url_title0.userData.textLines = [];
			var ctx = me._ht_url_title0.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_url_title0.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_url_title0.userData.textLines.push(line);
					line = '';
					me._ht_url_title0.userData.totalHeightCanv += me._ht_url_title0.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_url_title0.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_url_title0.userData.textLines.push(line);
					line = words[i];
					me._ht_url_title0.userData.totalHeightCanv += me._ht_url_title0.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_url_title0.userData.textLines.push(line);
			me._ht_url_title0.userData.totalHeightCanv += me._ht_url_title0.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_url_title0.userData.textCanvas;
			var ctx = me._ht_url_title0.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_url_title0.userData.textColor.r * 255 + ', ' + me._ht_url_title0.userData.textColor.g * 255 + ', ' + me._ht_url_title0.userData.textColor.b * 255 + ', ' + me._ht_url_title0.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_url_title0.userData.boxWidthCanv - (me._ht_url_title0.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_url_title0.userData.textLines.length; i++) {
				ctx.fillText(me._ht_url_title0.userData.textLines[i], x, y);
				y += me._ht_url_title0.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_url_title0.userData.boxWidthCanv / 200.0, me._ht_url_title0.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_url_title_geometry';
			me._ht_url_title0.geometry.dispose();
			me._ht_url_title0.geometry = geometry;
			var diffY = (me._ht_url_title0.userData.boxHeightCanv / 2) - me._ht_url_title0.userData.height;
			me._ht_url_title0.position.y = me._ht_url_title0.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_url_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_url_title0.material.map) {
				me._ht_url_title0.material.map.dispose();
			}
			me._ht_url_title0.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_url_title0.children.length; i++) {
				let child = me._ht_url_title0.children[i];
				if (child.name.includes('scrollbar')) me._ht_url_title0.remove(child);
			}
			var canv = me._ht_url_title0.userData.textCanvas;
			var ctx = me._ht_url_title0.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_url_title0.userData.lineHeightCanv = 32 * 1.2;
			me._ht_url_title0.userData.textLines = [];
			me._ht_url_title0.userData.textLines.push(me._ht_url_title0.userData.ggText);
			me._ht_url_title0.userData.totalHeightCanv = 2 * (3);
			me._ht_url_title0.userData.totalHeightCanv += me._ht_url_title0.userData.lineHeightCanv;
			me._ht_url_title0.userData.boxWidthCanv = ctx.measureText(me._ht_url_title0.userData.ggText).width + (2 * 0);
			me._ht_url_title0.userData.boxHeightCanv = me._ht_url_title0.userData.totalHeightCanv;
			canv.width = me._ht_url_title0.userData.boxWidthCanv;
			canv.height = me._ht_url_title0.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_url_title0.userData.ggPaintCanvasText();
		}
		me._ht_url_title0.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_url_title0.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_url_title0.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_url_title0.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_url_title0.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_url_title0.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_url_title0.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_url_title";
		me._ht_url_title0.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_url_1'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_url_title0.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_url_title0.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_url_title0.ggCurrentLogicStateAlpha == 0) {
					me._ht_url_title0.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_url_title0.userData.transitions.length; i++) {
						if (me._ht_url_title0.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_url_title0.userData.transitions[i].interval);
							me._ht_url_title0.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_url_title0.material ? me._ht_url_title0.material.opacity : me._ht_url_title0.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_url_title0.userData.setOpacity(transition_alpha.startAlpha + (me._ht_url_title0.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_url_title0.userData.transitions.splice(me._ht_url_title0.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_url_title0.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_url_title0.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_url_title0.userData.transitions.length; i++) {
						if (me._ht_url_title0.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_url_title0.userData.transitions[i].interval);
							me._ht_url_title0.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_url_title0.material ? me._ht_url_title0.material.opacity : me._ht_url_title0.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_url_title0.userData.setOpacity(transition_alpha.startAlpha + (me._ht_url_title0.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_url_title0.userData.transitions.splice(me._ht_url_title0.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_url_title0.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_url_title0.logicBlock_alpha();
		me._ht_url_title0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_url_1.add(me._ht_url_title0);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_url_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEgElEQVR4nO2b22sdVRTGvx1MC9aj8dqCokbFS5OiVERRtLHqH1CN4ou+qS2oj4qmWl98au1DQRS0gr4qVvRZQSiYIrRCYzWiTeOFYluFNCWtts3Ph5nAdFhrz5hz5kxPzvngwGFd9rrMzN4za68t9dBDDz10MUK7DAErJQ1LulXSdZIukdSQhKRZSTOSDkmalLQ/hHC0Xb5VAqAPeAR4G/iR/4/vgR3ACNC2C9U0gAawBfhtEUF7mAJeAVbUHZ8LoB94ATjSwsDzOAxsAi6oO95zADwB/Fxh4HlMAqN1xy1gOfBhE4GcTn+LxQfAsrqCXwV8U8LJM8C8w9uR/izMp7pF2A1c1e7g11I8yc0AbwGPO/yjwABwafrfwmg6xkyBrWngjnYGfyLizClgDG'+
	'ik8p84cs9lxtzoyHyc8hvpmKcidmeB26sOfhXxK78XGM7I3wScNeT2AX0Zub6UlsdZ4MaM3LAjt4BpqnocSCa88YjxrUB/TuddR/Z+Y/wHHNl3cnL9wLaIH7upYmIEPooYHTPkB4CThux4xMYeQ/4kMGDIvhbxZ2erg38yYuwlR+dpR/6ZiJ1nHZ2nHPlXI3491qrglwG/OEa2RvQ+M+RngYsiOg3sCXZXRGe749skrXhjBF50DOzFedaAFcCcoVN4a5K83OQxh/MdQHKBvnN83NRs8A3sd/s54LaInrf231vC5n2OrvvqC6zGnm8Oe4lbQPQzE9gi6Q2D9bukPRHVNZJuztHmJbm3cg4bJPXlaD9J2h/RuVvSNQZ9cwjhTU/JTQDJOj3tDNpJmJY0GELAYuaznMWIOj94Kak+jXjMWAI2tNyV+vCox4gl4KEKHKkL'+
	'6z2GOQeQvE//abDGJf1RYOwuSdfmaMckfV2gl8c6SVfkaL9K+rZA72pJ9xj0lSGEI6UsA+udpWhtCd1dht7npQyfO84XxjifltC70/H9QUveewRuMWinJU2U8P0yg7aYErelY42dx4SkMwbdislNwKBBmwoh/FvCgVoTEEL4R9JBg2XF5CbgYoP2V5HxFHXfAZL0t0GzYnIT0Cg5qIUlkYCugZeAWYPWTPavLKlbpNPMXXjcEvQSYAlfXtL4kkjAlEEbpFytrdYEAMsl3WCwrJjcBEwatH4l29tFqPsOGJZkVYKsmHqvwrF6wAFJbtWnw3AghDBkMWLL4JcVOVMHvvIYsQSULV91AtyPqK4vibl18xDCPPC+Or8o+p4XfCGIl8VXR/TaXRYfYpFl8ULQzRsjGQOt2ho7Qdo34Oicf1tjqZHY5ujLjk47NkfHIn61Zn'+
	'M0Yyy2Pb7ZkK96e/z1iD+t3R5PDS4n3hS1jaXcIJEaL2qR2Ue1LTJrHLkFHKLqjjG6uUkql4QybXLbKdcmd8yRGU3HKNMm157gM0no3kbJTBLqbpXdSV2tsrlE1NEs3dp1vlmQLE/PU327/EbOt3b5LKj2wMSFdcdXGiRr+8MkR2Z+WETQEyQT5DoqPDLT7kNTQ0oOTV2vZKsqe2jquJLS9aSkiY4/NNVDDz300An4D0Xg0hmSE+H3AAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_url_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_url_icon0.material) me._ht_url_icon0.material.opacity = v;
			me._ht_url_icon0.visible = (v>0 && me._ht_url_icon0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_url_icon0.visible
			let parentEl = me._ht_url_icon0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_icon0.userData.opacity = v;
			v = v * me._ht_url_icon0.userData.parentOpacity;
			me._ht_url_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon0.children.length; i++) {
				let child = me._ht_url_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_icon0.userData.parentOpacity = v;
			v = v * me._ht_url_icon0.userData.opacity
			me._ht_url_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon0.children.length; i++) {
				let child = me._ht_url_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_icon0 = el;
		textureOver = loader.load('data:image/png;base64,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');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_url_icon_materialOver';
		el.userData.ggId="ht_url_icon";
		me._ht_url_icon0.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_icon0.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_icon0.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_icon0.ggCurrentLogicStateVisible == 0) {
			me._ht_url_icon0.visible=false;
			me._ht_url_icon0.userData.visible=false;
				}
				else {
			me._ht_url_icon0.visible=((!me._ht_url_icon0.material && Number(me._ht_url_icon0.userData.opacity>0)) || Number(me._ht_url_icon0.material.opacity)>0)?true:false;
			me._ht_url_icon0.userData.visible=true;
				}
			}
		}
		me._ht_url_icon0.logicBlock_visible();
		me._ht_url_icon0.userData.onmouseenter=function (e) {
			me._ht_url_icon0.material = me._ht_url_icon0.userData.materialOver;
			me.elementMouseOver['ht_url_icon0']=true;
		}
		me._ht_url_icon0.userData.onmouseleave=function (e) {
			me._ht_url_icon0.material = me._ht_url_icon0.userData.materialNormal;
			me.elementMouseOver['ht_url_icon0']=false;
		}
		me._ht_url_icon0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_url_1.add(me._ht_url_icon0);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_url_custom_image.userData.ggSubElement) {
				me._ht_url_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_url_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_url_custom_image.userData.visible);
			}
			me._ht_url_custom_image.visible = (v>0 && me._ht_url_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_custom_image.visible
			let parentEl = me._ht_url_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_custom_image.userData.opacity = v;
			v = v * me._ht_url_custom_image.userData.parentOpacity;
			me._ht_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_custom_image.children.length; i++) {
				let child = me._ht_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_custom_image.userData.parentOpacity = v;
			v = v * me._ht_url_custom_image.userData.opacity
			me._ht_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_custom_image.children.length; i++) {
				let child = me._ht_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_url_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_url_custom_image_subElementMaterial';
				me._ht_url_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_url_custom_image.userData.ggUpdatePosition();
				me._ht_url_custom_image.userData.ggText = extUrl;
				me._ht_url_custom_image.userData.setOpacity(me._ht_url_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_url_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_url_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_url_custom_image";
		me._ht_url_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_url_custom_image.visible=((!me._ht_url_custom_image.material && Number(me._ht_url_custom_image.userData.opacity>0)) || Number(me._ht_url_custom_image.material.opacity)>0)?true:false;
			me._ht_url_custom_image.userData.visible=true;
				}
				else {
			me._ht_url_custom_image.visible=false;
			me._ht_url_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_url_custom_image.logicBlock_visible();
		me._ht_url_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_url_custom_image.userData.clientWidth;
			var parentHeight = me._ht_url_custom_image.userData.clientHeight;
			var img = me._ht_url_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_url_custom_image_imgGeometry';
			}
		}
		me._ht_url_1.add(me._ht_url_custom_image);
		me._ht_url_1.logicBlock_visible();
		me._ht_url_1.userData.setOpacity(1.00);
		me.elementMouseOver['ht_url_1']=false;
		me._ht_url_title0.logicBlock_alpha();
		me._ht_url_title0.userData.setOpacity(0.00);
		me._ht_url_icon0.logicBlock_visible();
		me._ht_url_icon0.userData.setOpacity(1.00);
		me.elementMouseOver['ht_url_icon0']=false;
		me._ht_url_custom_image.logicBlock_visible();
		me._ht_url_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_url_title0.logicBlock_alpha();
				me._ht_url_icon0.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_url_1.logicBlock_visible();
					me._ht_url_title0.userData.ggUpdateText();
				me._ht_url_title0.logicBlock_alpha();
				me._ht_url_icon0.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_url_1.logicBlock_visible();
				me._ht_url_title0.logicBlock_alpha();
				me._ht_url_icon0.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_url_1.logicBlock_visible();
			};
			me.__obj = me._ht_url_1;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_info(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_info';
		el.userData.x = -1.82;
		el.userData.y = -0.75;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_info.visible
			let parentEl = me._ht_info.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info.userData.opacity = v;
			v = v * me._ht_info.userData.parentOpacity;
			me._ht_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info.children.length; i++) {
				let child = me._ht_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info.userData.parentOpacity = v;
			v = v * me._ht_info.userData.opacity
			me._ht_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info.children.length; i++) {
				let child = me._ht_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info = el;
		el.userData.ggId="ht_info";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_info.userData.onclick=function (e) {
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_info']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_info']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2asW7UQBRFzyObij41RELQQIFEkZ4uBZSIMn/ABwDDR+QXaIA2BdBDC3RIpKMAiZIqC5dit4hgvGvjGT/HfqecXd+5c3ftubYMQRAEM8a2fUHSTeAhsA/sVHdUhl/AKfDczD79l4KkHUnPJJ3p4nImKUnq/sNJeuxsviRPm9aZPQUk3QA+ArudkxsnS+B27nS41HDAA6azeIAFq+vYPzQFcLWeFzf2c4NNASwqGvEieyFsCmA2RADeBryJAApofAMOgV0bCFZb9OF67l40BbD1HuEcR2Z2YmbLvmbaYmZLMzsBjvpqlfgHvCmg4TZ3iQA8S1PvuUsEcCzpcgGdTqznPO6rU6Lx3QVOJb1jddMxBAvgANgrIVSCPeBeIa1BKbELXGiiB/'+
	'QVIHpA9IDoAVPsAV12gegBTLAHzIZR9QDgOvC2gKfWjKoHmNln4D7wvb+tdoyuB5jZT+B9Sc1NlLgXqNEDrlTQzDK6HiDpEXCrlN42xvY84BoDLh6iB0QPiAAaxuOJ0ARRbnBOAfzIDc4pgGxjnUsAr83sVe6DOQTwgQ0PT6e6C/wGvgBPgDtm9rXT0ZJetHwBMVUw70/LAJK3z2q0CCB5e6zKlgCSt7/qbAggeXsbBEkvZ7t4yAaQvD0Nyl8BJG8/g3MugOTtxYV1AMnbhxuSDrw9BEEQBAPwB8xa8+rlyv3KAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._icon.material) me._icon.material.opacity = v;
			me._icon.visible = (v>0 && me._icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._icon.visible
			let parentEl = me._icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._icon.userData.opacity = v;
			v = v * me._icon.userData.parentOpacity;
			me._icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._icon.children.length; i++) {
				let child = me._icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._icon.userData.parentOpacity = v;
			v = v * me._icon.userData.opacity
			me._icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._icon.children.length; i++) {
				let child = me._icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADPklEQVR4nO2Zv2sUQRTHv2/2FIyN1jFcNprGC0EhlyMgGuwsLEREUoh/g6hBi4AR/IGcWFlZithYCDZWahEhdxLRoLFQN7OJ2CjYmAiX230WUQi6e7d3b7JLdvdT7sx9732/uzM7Mwvk5OTkZBhq18F1yyWPaYIYg0xsxVGUFGLymPDRIn5YLL5637JvWAMz1KJbuUXgcwCU8SrjwWfQHbtYmySCH9QhNABHV6oEPr95tcUHg24P9NcuBLUFBuC65ZLPNI+te+f/xVfEw0HDIdCgxzQR1rZFUX88/d8QdJEYg5tbT/yEeQoMYKvM9p0Q5ilNj3lX5AEkXUDSFMzI8FcwvWRCw4xea2j99X0AwH6plokAHq/8XDk9NLQQi/mNLC5WLoP4ukRDPAR8iy'+
	'aTMA8Atl27QcA7iYY4gIE9tc9SDQlM1HKz0w5xAM6Xyl6phgjmIcnPxQGoJl97zuOGJtPoMIMcXZ4CUJLoyAsnnOp3V0ccXX4t1uoArWmYSL5kN3XnbALZhrSi0fYoJxr5QsiAxhITpuDRG7/gBZ66mEY10UOWdQLMFwGINm7SAH6B1ZGB/lkt1OmGutbl7wyqSkREQ4CBZ7adiHkAwNqauifVEAVAHHzQGBc9Pc2mVEM2CRKOLi+P9UqL6JZGQx2XakjngJ2e573QunKpaam30mKiYjUbBcAaB+GmVEv8FmBgH8CPLM+TSkWHzJ3Y5esAqQAB95Xypvv65hwicLc6zFBLS5WDPvNdABVpXVGRBvChWKyflRj/y/qnq9qc6x465nPDAbBLqhkF4VuA5k2Y30ixOPODgBmTmq2QBSDci4fhAzs2QzcI6SRYcnR5itnU'+
	'3gxwnJFRAg6b0muHgUmQrmo9esbRPG9Aazevm4/tgMXMHxEGCWTke6KxRykimV8H5AEkXUDSZCYABQpcr2QmAAa+BV3PTgBKPQ26npUAZu2+2SdBDVkIYMFS206G7Vli/6QVEz6ATyB6sL3QrPb21lfDOsoCYEzbdv2KSCNhuh8CKTAPdBtASswD3QSQIvNApwGkzDzQSQApNA9EDSCl5oEoAaTYPNAugJSbB1oFkAHzoWg9OpZ0DTk5OTk5MfAbMwn265ToPl0AAAAASUVORK5CYII=');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'icon_materialOver';
		el.userData.ggId="icon";
		me._icon.userData.onmouseenter=function (e) {
			me._icon.material = me._icon.userData.materialOver;
			me.elementMouseOver['icon']=true;
		}
		me._icon.userData.onmouseleave=function (e) {
			me._icon.material = me._icon.userData.materialNormal;
			me.elementMouseOver['icon']=false;
		}
		me._icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_info.add(me._icon);
		me._ht_info.userData.setOpacity(1.00);
		me.elementMouseOver['ht_info']=false;
		me._icon.userData.setOpacity(1.00);
		me.elementMouseOver['icon']=false;
			me.__obj = me._ht_info;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_node_1(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_node_1';
		el.userData.x = -3.2;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_1.visible
			let parentEl = me._ht_node_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_1.userData.opacity = v;
			v = v * me._ht_node_1.userData.parentOpacity;
			me._ht_node_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_1.children.length; i++) {
				let child = me._ht_node_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_1.userData.parentOpacity = v;
			v = v * me._ht_node_1.userData.opacity
			me._ht_node_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_1.children.length; i++) {
				let child = me._ht_node_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_1 = el;
		el.userData.ggId="ht_node_1";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_node_1.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_1.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_1.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_1.ggCurrentLogicStateVisible == 0) {
			me._ht_node_1.visible=false;
			me._ht_node_1.userData.visible=false;
				}
				else {
			me._ht_node_1.visible=((!me._ht_node_1.material && Number(me._ht_node_1.userData.opacity>0)) || Number(me._ht_node_1.material.opacity)>0)?true:false;
			me._ht_node_1.userData.visible=true;
				}
			}
		}
		me._ht_node_1.logicBlock_visible();
		me._ht_node_1.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_1.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_1.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_node_1']=true;
			me._ht_node_title.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_1.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_node_1']=false;
			me._ht_node_title.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_title.material.opacity = v;
			if (me._ht_node_title.userData.hasScrollbar) {
				me._ht_node_title.userData.scrollbar.material.opacity = v;
				me._ht_node_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_title.userData.ggSubElement) {
				me._ht_node_title.userData.ggSubElement.material.opacity = v
				me._ht_node_title.userData.ggSubElement.visible = (v>0 && me._ht_node_title.userData.visible);
			}
			me._ht_node_title.visible = (v>0 && me._ht_node_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title.userData.backgroundColorAlpha = v;
			me._ht_node_title.userData.setOpacity(me._ht_node_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_title';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_title.visible
			let parentEl = me._ht_node_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_title.userData.opacity = v;
			v = v * me._ht_node_title.userData.parentOpacity;
			me._ht_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title.children.length; i++) {
				let child = me._ht_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_title.userData.parentOpacity = v;
			v = v * me._ht_node_title.userData.opacity
			me._ht_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title.children.length; i++) {
				let child = me._ht_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_title.userData.totalHeightCanv = 2 * (3);
			me._ht_node_title.userData.textLines = [];
			var ctx = me._ht_node_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_title.userData.textLines.push(line);
					line = '';
					me._ht_node_title.userData.totalHeightCanv += me._ht_node_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_node_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_node_title.userData.textLines.push(line);
					line = words[i];
					me._ht_node_title.userData.totalHeightCanv += me._ht_node_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_node_title.userData.textLines.push(line);
			me._ht_node_title.userData.totalHeightCanv += me._ht_node_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_title.userData.textCanvas;
			var ctx = me._ht_node_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_title.userData.textColor.r * 255 + ', ' + me._ht_node_title.userData.textColor.g * 255 + ', ' + me._ht_node_title.userData.textColor.b * 255 + ', ' + me._ht_node_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_title.userData.boxWidthCanv - (me._ht_node_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_node_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_title.userData.textLines[i], x, y);
				y += me._ht_node_title.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_node_title.userData.boxWidthCanv / 200.0, me._ht_node_title.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_node_title_geometry';
			me._ht_node_title.geometry.dispose();
			me._ht_node_title.geometry = geometry;
			var diffY = (me._ht_node_title.userData.boxHeightCanv / 2) - me._ht_node_title.userData.height;
			me._ht_node_title.position.y = me._ht_node_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_title.material.map) {
				me._ht_node_title.material.map.dispose();
			}
			me._ht_node_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_node_title.children.length; i++) {
				let child = me._ht_node_title.children[i];
				if (child.name.includes('scrollbar')) me._ht_node_title.remove(child);
			}
			var canv = me._ht_node_title.userData.textCanvas;
			var ctx = me._ht_node_title.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_node_title.userData.lineHeightCanv = 32 * 1.2;
			me._ht_node_title.userData.textLines = [];
			me._ht_node_title.userData.textLines.push(me._ht_node_title.userData.ggText);
			me._ht_node_title.userData.totalHeightCanv = 2 * (3);
			me._ht_node_title.userData.totalHeightCanv += me._ht_node_title.userData.lineHeightCanv;
			me._ht_node_title.userData.boxWidthCanv = ctx.measureText(me._ht_node_title.userData.ggText).width + (2 * 0);
			me._ht_node_title.userData.boxHeightCanv = me._ht_node_title.userData.totalHeightCanv;
			canv.width = me._ht_node_title.userData.boxWidthCanv;
			canv.height = me._ht_node_title.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_node_title.userData.ggPaintCanvasText();
		}
		me._ht_node_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_title";
		me._ht_node_title.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_node_1'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_node_title.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_node_title.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_node_title.ggCurrentLogicStateAlpha == 0) {
					me._ht_node_title.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_node_title.userData.transitions.length; i++) {
						if (me._ht_node_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_node_title.userData.transitions[i].interval);
							me._ht_node_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_node_title.material ? me._ht_node_title.material.opacity : me._ht_node_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_title.userData.setOpacity(transition_alpha.startAlpha + (me._ht_node_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_node_title.userData.transitions.splice(me._ht_node_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_node_title.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_node_title.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_node_title.userData.transitions.length; i++) {
						if (me._ht_node_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_node_title.userData.transitions[i].interval);
							me._ht_node_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_node_title.material ? me._ht_node_title.material.opacity : me._ht_node_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_title.userData.setOpacity(transition_alpha.startAlpha + (me._ht_node_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_node_title.userData.transitions.splice(me._ht_node_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_node_title.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_node_title.logicBlock_alpha();
		me._ht_node_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_1.add(me._ht_node_title);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEvElEQVR4nO2bTWxUVRTH/9fUtKwoJTYGTGxX7khIu3JaoGBkpzFuSmJNqjXiyrih7ssOoexg38SwqJiwBD9CsLApMbBjpwk1Ouo07AqV+bl4d5zp9L537+v7Knb+yUun971zzv/c++bcj3NG6mFvw1RlGHhZ0nH7721jzGZVXEoHMAQ8oI0HwFDVvEoDsMB2LFTB5aUqjEp6I7CtcFTVAS67lXCpqgN2DUqZBYCDksYljdm/JyXt73rsiaQfJK1Kui9p1Rjzdxn8CgEwAJwBbgFNR9DzoWllzwD9VfsTDGAQuAg0duB0HBpW52DV/sUCMMBHQD1Hx7tRtzYqW8A5AYwC9wp0vBt3gdE8uGfuSWBC0nVJrwQ83pC0IumxpDVJv9n2Q5IOS3pNUk1SyK'+
	'rwT0nvGWNW0nLODcCHwFPPaK0Bi8AJoC9AZ599dtHKJmEDmCnDVxfRGQ+5deAcMJDBxj5g3upKQrmdANRIHvkr5Li5Ido8XfW8CbW87PnIjBIf6Z8CHxdoew54FmO7Tk6BMYmAIT7a/wVMFkog4jBpbblwjyKnSKI5OG7kC3e+g8dkwpswW5TRA8S/+oW99gl85mK41ClixUi0FHXhSko9w0QzyCXga3tdsm3DKXXFBcaL6bzzGxrAvbZfJzDaAyPAErAZQxp7bwkYCdQ5hHuKbJDnBopoR+bCuUD5s0RTVSg2gLOBuudjdExn83qrkVsOA2sELHKAr1I43o0LAfoHcK8Yb+bl/EHc+/nFANnPMjjfgvdNAC475JpEBzGZO+B0DLETHrkR0r32cdgAXvfYmoqRfdvnX8iZ4JijrSHpjkduQVIegahf0nnPM3ckrTva'+
	'Xdy3IKQDxh1tK8aY53ECRNNZfkFImiZhijTG/CPpJ8ctF/ct2LI9JZrSvlB0Rt/qnJMOuccevae7dWdEn9W5lPDMmqPtFLBsPzclPZK0aIxpdCqW9F+u7kdJRwIIuYx14miAjrQ4qvQdsF/S+11t7wDjrVxk51fguMKcl9onOXF4NVBPGvh0+galhSNqJ2V7iZHODrgt6WGg3CHP/d93RieTzsOBeh4q8lVSRwwwxmwCU9oeBN/S9iyOz9jPgWTSwKfTxemJpO/s584gGF6LAFx3LDBueGSGSd70pMVm0jRobd5wyH3j8y8kBqw62moknPAaY+qSrgXoDsU1q9MJy2XCccvFPR3oLYW1KglH+7tJQsaYXxTFk6z43Bjzq+cZF5emoixzdpBtO3whw+iHbIf3UeR22Bqp4kDk00DdpRyIlH0klvid79BZzpGYNbZ3D0'+
	'WtsUFejGPxPyiqkILdkxg5RtmJEWt4N6TGjhGfGrtL0dUjJCdHnwFzBdr+JGHk6wTmE/IgUiN5WrtK+enxN/OyF0oqpEBinuwFEl/iL5D4IE/f0hCcIaxE5jLRej20RGbKyoSUyGRyPo8iqZqkb5WuSGqt45KivXzrmpB0IEBX9UVSLVBNmdxI1X5vAdEUOUvxhZKz7LZCyU6wV0tluwH0A9PATXZWLP3cyk5TYLF0meXyY2qXy5+Su1z+e7XL5e+/0OXySQCWHSO+7JfMH73ESEV2m4FthaOqDngU2Pb/BLvoh5O9n872sMfxL1EpMqx9zI4/AAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon4.material) me._ht_node_icon4.material.opacity = v;
			me._ht_node_icon4.visible = (v>0 && me._ht_node_icon4.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon4.visible
			let parentEl = me._ht_node_icon4.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon4.userData.opacity = v;
			v = v * me._ht_node_icon4.userData.parentOpacity;
			me._ht_node_icon4.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon4.children.length; i++) {
				let child = me._ht_node_icon4.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon4.userData.parentOpacity = v;
			v = v * me._ht_node_icon4.userData.opacity
			me._ht_node_icon4.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon4.children.length; i++) {
				let child = me._ht_node_icon4.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon4 = el;
		textureOver = loader.load('data:image/png;base64,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');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_node_icon_materialOver';
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon4.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_icon4.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_icon4.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_icon4.ggCurrentLogicStateVisible == 0) {
			me._ht_node_icon4.visible=false;
			me._ht_node_icon4.userData.visible=false;
				}
				else {
			me._ht_node_icon4.visible=((!me._ht_node_icon4.material && Number(me._ht_node_icon4.userData.opacity>0)) || Number(me._ht_node_icon4.material.opacity)>0)?true:false;
			me._ht_node_icon4.userData.visible=true;
				}
			}
		}
		me._ht_node_icon4.logicBlock_visible();
		me._ht_node_icon4.userData.onmouseenter=function (e) {
			me._ht_node_icon4.material = me._ht_node_icon4.userData.materialOver;
			me.elementMouseOver['ht_node_icon4']=true;
		}
		me._ht_node_icon4.userData.onmouseleave=function (e) {
			me._ht_node_icon4.material = me._ht_node_icon4.userData.materialNormal;
			me.elementMouseOver['ht_node_icon4']=false;
		}
		me._ht_node_icon4.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_1.add(me._ht_node_icon4);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image5.userData.ggSubElement) {
				me._ht_node_custom_image5.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image5.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image5.userData.visible);
			}
			me._ht_node_custom_image5.visible = (v>0 && me._ht_node_custom_image5.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image5.visible
			let parentEl = me._ht_node_custom_image5.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image5.userData.opacity = v;
			v = v * me._ht_node_custom_image5.userData.parentOpacity;
			me._ht_node_custom_image5.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image5.children.length; i++) {
				let child = me._ht_node_custom_image5.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image5.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image5.userData.opacity
			me._ht_node_custom_image5.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image5.children.length; i++) {
				let child = me._ht_node_custom_image5.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image5 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image5.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image5.userData.ggUpdatePosition();
				me._ht_node_custom_image5.userData.ggText = extUrl;
				me._ht_node_custom_image5.userData.setOpacity(me._ht_node_custom_image5.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image5.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image5.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image5.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image5.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image5.visible=((!me._ht_node_custom_image5.material && Number(me._ht_node_custom_image5.userData.opacity>0)) || Number(me._ht_node_custom_image5.material.opacity)>0)?true:false;
			me._ht_node_custom_image5.userData.visible=true;
				}
				else {
			me._ht_node_custom_image5.visible=false;
			me._ht_node_custom_image5.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image5.logicBlock_visible();
		me._ht_node_custom_image5.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image5.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image5.userData.clientHeight;
			var img = me._ht_node_custom_image5.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
			}
		}
		me._ht_node_1.add(me._ht_node_custom_image5);
		me._ht_node_1.logicBlock_visible();
		me._ht_node_1.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_1']=false;
		me._ht_node_title.logicBlock_alpha();
		me._ht_node_title.userData.setOpacity(0.00);
		me._ht_node_icon4.logicBlock_visible();
		me._ht_node_icon4.userData.setOpacity(1.00);
		me.elementMouseOver['ht_node_icon4']=false;
		me._ht_node_custom_image5.logicBlock_visible();
		me._ht_node_custom_image5.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_title.logicBlock_alpha();
				me._ht_node_icon4.logicBlock_visible();
				me._ht_node_custom_image5.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_node_1.logicBlock_visible();
					me._ht_node_title.userData.ggUpdateText();
				me._ht_node_title.logicBlock_alpha();
				me._ht_node_icon4.logicBlock_visible();
				me._ht_node_custom_image5.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_node_1.logicBlock_visible();
				me._ht_node_title.logicBlock_alpha();
				me._ht_node_icon4.logicBlock_visible();
				me._ht_node_custom_image5.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_node_1.logicBlock_visible();
			};
			me.__obj = me._ht_node_1;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_image(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_image';
		el.userData.x = -2.7;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image.visible
			let parentEl = me._ht_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image.userData.opacity = v;
			v = v * me._ht_image.userData.parentOpacity;
			me._ht_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image.children.length; i++) {
				let child = me._ht_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image.userData.parentOpacity = v;
			v = v * me._ht_image.userData.opacity
			me._ht_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image.children.length; i++) {
				let child = me._ht_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image = el;
		el.userData.ggId="ht_image";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_image.ggCurrentLogicStateVisible == 0) {
			me._ht_image.visible=false;
			me._ht_image.userData.visible=false;
				}
				else {
			me._ht_image.visible=((!me._ht_image.material && Number(me._ht_image.userData.opacity>0)) || Number(me._ht_image.material.opacity)>0)?true:false;
			me._ht_image.userData.visible=true;
				}
			}
		}
		me._ht_image.logicBlock_visible();
		me._ht_image.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_image_bg.userData.visible = !me._ht_image_bg.userData.visible;
				var flag=me._ht_image_bg.userData.visible;
				me._ht_image_bg.visible=((flag)&&((!me._ht_image_bg.material && Number(me._ht_image_bg.userData.opacity>0)) || Number(me._ht_image_bg.material.opacity)>0))?true:false;
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_image_triangle.userData.visible = !me._ht_image_triangle.userData.visible;
				var flag=me._ht_image_triangle.userData.visible;
				me._ht_image_triangle.visible=((flag)&&((!me._ht_image_triangle.material && Number(me._ht_image_triangle.userData.opacity>0)) || Number(me._ht_image_triangle.material.opacity)>0))?true:false;
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_image.style.zIndex=me._ht_image_bg.ggVisible?'0':'-1';
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._image_popup_phone.userData.ggSetUrl(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', true);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_image']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_image']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.translateX(0.27);
		el.translateY(-0.11);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 22;
		el.userData.height = 22;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_triangle';
		el.userData.x = 0.27;
		el.userData.y = -0.11;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_triangle.visible
			let parentEl = me._ht_image_triangle.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_triangle.userData.opacity = v;
			v = v * me._ht_image_triangle.userData.parentOpacity;
			me._ht_image_triangle.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_triangle.children.length; i++) {
				let child = me._ht_image_triangle.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_triangle.userData.parentOpacity = v;
			v = v * me._ht_image_triangle.userData.opacity
			me._ht_image_triangle.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_triangle.children.length; i++) {
				let child = me._ht_image_triangle.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_triangle = el;
		el.userData.ggId="ht_image_triangle";
		me._ht_image_triangle.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image.add(me._ht_image_triangle);
		geometry = new THREE.PlaneGeometry(3, 3, 5, 5 );
		geometry.name = 'ht_image_bg_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color(1, 1, 1).convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_image_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.686275;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_image_bg.material.opacity = v * me._ht_image_bg.userData.backgroundColorAlpha;
			if (me._ht_image_bg.userData.ggSubElement) {
				me._ht_image_bg.userData.ggSubElement.material.opacity = v
				me._ht_image_bg.userData.ggSubElement.visible = (v>0 && me._ht_image_bg.userData.visible);
			}
			me._ht_image_bg.visible = (v>0 && me._ht_image_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_bg.userData.backgroundColorAlpha = v;
			me._ht_image_bg.userData.setOpacity(me._ht_image_bg.userData.opacity);
		}
		el.translateX(1.88);
		el.translateY(-1.5);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 300;
		el.userData.height = 300;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_bg';
		el.userData.x = 1.88;
		el.userData.y = -1.5;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_bg.visible
			let parentEl = me._ht_image_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_bg.userData.opacity = v;
			v = v * me._ht_image_bg.userData.parentOpacity;
			me._ht_image_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_bg.children.length; i++) {
				let child = me._ht_image_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_bg.userData.parentOpacity = v;
			v = v * me._ht_image_bg.userData.opacity
			me._ht_image_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_bg.children.length; i++) {
				let child = me._ht_image_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_bg = el;
		el.userData.ggId="ht_image_bg";
		me._ht_image_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_image_img.userData.ggSubElement) {
				me._ht_image_img.userData.ggSubElement.material.opacity = v
				me._ht_image_img.userData.ggSubElement.visible = (v>0 && me._ht_image_img.userData.visible);
			}
			me._ht_image_img.visible = (v>0 && me._ht_image_img.userData.visible);
		}
		el.translateX(0);
		el.translateY(-0.2);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 280;
		el.userData.height = 240;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_img';
		el.userData.x = 0;
		el.userData.y = -0.2;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_img.visible
			let parentEl = me._ht_image_img.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_img.userData.opacity = v;
			v = v * me._ht_image_img.userData.parentOpacity;
			me._ht_image_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_img.children.length; i++) {
				let child = me._ht_image_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_img.userData.parentOpacity = v;
			v = v * me._ht_image_img.userData.opacity
			me._ht_image_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_img.children.length; i++) {
				let child = me._ht_image_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_img = el;
		currentWidth = 280;
		currentHeight = 240;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_image_img_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_image_img_subElementMaterial';
				me._ht_image_img.userData.ggSubElement.material = loadedMaterial;
				me._ht_image_img.userData.ggUpdatePosition();
				me._ht_image_img.userData.ggText = extUrl;
				me._ht_image_img.userData.setOpacity(me._ht_image_img.userData.opacity);
			});
		};
		player.addListener('changenode', function() {
		});
		var extUrl=""+player.getBasePath()+""+player._(me.hotspot.url)+"";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_image_img_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_image_img_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 280;
		el.userData.clientHeight = 240;
		el.userData.ggId="ht_image_img";
		me._ht_image_img.userData.onclick=function (e) {
			skin._popup_image.userData.ggSetUrl(player.getBasePath()+""+player._(me.hotspot.url));
				skin._image_popup_title.userData.ggUpdateText=function(force) {
					var params = [];
					params.push(player._(String(player._(me.hotspot.title))));
					var hs = player._("%1", params);
					if (hs!=this.ggText || force) {
						this.ggText=skin._image_popup_title.userData.ggStripTags(hs);
						this.ggRenderText();
					}
				}
			skin._image_popup_title.userData.ggUpdateText();
			player.setVariableValue('vis_image_popup', true);
		}
		me._ht_image_img.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_image_img.userData.clientWidth;
			var parentHeight = me._ht_image_img.userData.clientHeight;
			var img = me._ht_image_img.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_image_img_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_image_img_imgGeometry';
			};
		}
		me._ht_image_bg.add(me._ht_image_img);
		geometry = new THREE.PlaneGeometry(2.78, 0.3, 5, 5 );
		geometry.name = 'ht_image_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_image_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_image_title.material.opacity = v;
			if (me._ht_image_title.userData.hasScrollbar) {
				me._ht_image_title.userData.scrollbar.material.opacity = v;
				me._ht_image_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_image_title.userData.ggSubElement) {
				me._ht_image_title.userData.ggSubElement.material.opacity = v
				me._ht_image_title.userData.ggSubElement.visible = (v>0 && me._ht_image_title.userData.visible);
			}
			me._ht_image_title.visible = (v>0 && me._ht_image_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_title.userData.backgroundColorAlpha = v;
			me._ht_image_title.userData.setOpacity(me._ht_image_title.userData.opacity);
		}
		el.translateX(-0.00999954);
		el.translateY(1.25);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 278;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_title';
		el.userData.x = -0.00999954;
		el.userData.y = 1.25;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_title.visible
			let parentEl = me._ht_image_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_title.userData.opacity = v;
			v = v * me._ht_image_title.userData.parentOpacity;
			me._ht_image_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_title.children.length; i++) {
				let child = me._ht_image_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_title.userData.parentOpacity = v;
			v = v * me._ht_image_title.userData.opacity
			me._ht_image_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_title.children.length; i++) {
				let child = me._ht_image_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(0, 0, 0).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 556;
		canvas.height = 60;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_image_title.userData.totalHeightCanv = 2 * (3);
			me._ht_image_title.userData.textLines = [];
			var ctx = me._ht_image_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_image_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_image_title.userData.textLines.push(line);
					line = '';
					me._ht_image_title.userData.totalHeightCanv += me._ht_image_title.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_image_title.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_image_title.userData.textLines.push(line);
					line = words[i];
					me._ht_image_title.userData.totalHeightCanv += me._ht_image_title.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_image_title.userData.textLines.push(line);
			me._ht_image_title.userData.totalHeightCanv += me._ht_image_title.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_image_title.userData.textCanvas;
			var ctx = me._ht_image_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_image_title.userData.textColor.r * 255 + ', ' + me._ht_image_title.userData.textColor.g * 255 + ', ' + me._ht_image_title.userData.textColor.b * 255 + ', ' + me._ht_image_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_image_title.userData.boxWidthCanv - (me._ht_image_title.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			y += (canv.height - me._ht_image_title.userData.totalHeightCanv - (2 * 0)) / 2;
			for (var i = 0; i < me._ht_image_title.userData.textLines.length; i++) {
				var curTextLine = me._ht_image_title.userData.textLines[i];
				var curTextLineBase = me._ht_image_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + (2 * 0)) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + (2 * 0)) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._ht_image_title.userData.lineHeightCanv;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_image_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_image_title.material.map) {
				me._ht_image_title.material.map.dispose();
			}
			me._ht_image_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_image_title.children.length; i++) {
				let child = me._ht_image_title.children[i];
				if (child.name.includes('scrollbar')) me._ht_image_title.remove(child);
			}
			var canv = me._ht_image_title.userData.textCanvas;
			var ctx = me._ht_image_title.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_image_title.userData.lineHeightCanv = 32 * 1.2;
			me._ht_image_title.userData.textLines = [];
			me._ht_image_title.userData.textLines.push(me._ht_image_title.userData.ggText);
			me._ht_image_title.userData.totalHeightCanv = 2 * (3);
			me._ht_image_title.userData.totalHeightCanv += me._ht_image_title.userData.lineHeightCanv;
			me._ht_image_title.userData.boxWidthCanv = 2 * me._ht_image_title.userData.width;
			me._ht_image_title.userData.boxHeightCanv = 2 * me._ht_image_title.userData.height;
			me._ht_image_title.userData.hasScrollbar = false;
			canv.width = me._ht_image_title.userData.boxWidthCanv;
			canv.height = me._ht_image_title.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_image_title.userData.ggPaintCanvasText();
		}
		me._ht_image_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_image_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_image_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_image_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_image_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_image_title";
		me._ht_image_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image_bg.add(me._ht_image_title);
		me._ht_image.add(me._ht_image_bg);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_image_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACQElEQVR4nO2aPWtUQRSG3wl+YGEhESyEFbQJoo2CWNpYKYLiD9hKrNL4FwTjT0gVOxtB0okWVtYKWgmCsZQNwRWE1bCPxa6wicmduXfGe+7G89RzznnPy50DM3ckx3Ecx3GcCEAPeAoM6C4DJhp7pZu/Awxte6vFN+B2Sm8hofkzkt5LOp5rZMt8l3QhhPClatFCQqIVzV/z0kTz49iilC9gIGmxhCIDNkMIJ6sWpBhAOT3tE0Ko7DFlCxxo3ABrAda4AdYCrHEDrAVY4wZYC7DGDbAWYI0bYC3AGjfAWoA1boC1AGvcAGsBFXyVNP7XRbpqwKMQwilJ1yT9MlVi8FPjBbAwU/9BTrJYf127Fd6QdDmEsLlLw7qkW00SWt4Kf5T0o8b6kaS7u5uf0t'+
	'fEnPZp+OWtTGOXgK3EmHsRHVeBn3WFWBjwkp17+DqwHYlZS9RSex60bcAG8NevKGC5IuYtcKyGnvWuGjACrlTkWd0jZgs4W1PPCeBzFw24H8lzGHg9s34M3GioKXkeNOt6Z7EUniTmWgQ+TWMeZupKmgc5Nf4UivGOenv4PPCMmUGZoS06D3JrxAyovYdLQsI8KFFkP8bAzQJ95OqrnAclCuzHmwL6iwA8b2pAzj5cAs5lxBcBOC3pUtP4EoehUdPihTiiij5ih6FDBQQcLZDDjK5eiLRGigF7HU/nhaj2FANeFRBiRVR7yhDsSfqg+XstOpR0Mfup7DRBX5O3t/PCUFI/1nwt+J+fyzuO4ziOcyD5DWJwBIzxjR2MAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_image_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_image_icon.material) me._ht_image_icon.material.opacity = v;
			me._ht_image_icon.visible = (v>0 && me._ht_image_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_image_icon.visible
			let parentEl = me._ht_image_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_icon.userData.opacity = v;
			v = v * me._ht_image_icon.userData.parentOpacity;
			me._ht_image_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_icon.children.length; i++) {
				let child = me._ht_image_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_icon.userData.parentOpacity = v;
			v = v * me._ht_image_icon.userData.opacity
			me._ht_image_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_icon.children.length; i++) {
				let child = me._ht_image_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADhUlEQVR4nO2by2sTURSHf2cyLXThQnRRxMnMTRqK0JVWhdpF/wIRq1YIiA8oWETcqFvRhQtx0YWIG1E34mMjogs3RXykM1EUBSmobYNWrE+0ltomneNCI22tmenkJjfV+y1nzrn3N18md2bCBNBoNBqNRvO/QmEL+7jDFLmJHQzuBLMFIqOSwSLyBcS3TcM8ZVmZkTANoQQMDa1tBOEGQKvLy1c1xpg4nbCz14MKAz/FPu4wF9nBA8ASYrqay61fE1QYKEDkJnYssoMvUu8znwgqChTA4E45eZTQkcu1Ly1VELyQMVvS4lQfAiZXlCoIFlCbq31o8sQlF/pFfXAy0AJUB1CNFqA6gGq0ANUBVKMFqA6gGi1AdQDVaAGqA6hGC1AdQDVagOoAqqllAZ'+
	'8AcKUnqU0BhPPC8Zb5Bq8HMF7JqWpRwBPTiO0FgGQ8mwXzvkpOVmsCvvox2mJZmYniBiGy58C4UKkJKyiABgBMLqSDifYkLff53O0NDd97fo0nnYoIYNBJ4birpmOxFgCj4Zq4N2G7V+fb1dj4ZNyPGdsAfJcYE0BlBPQJO34YAJqszAswbUJw8MzHj/7BUgVJK/MUjAOyQhaRK4DwqpDPdxFdmS5uEsLtB2P331vwoWDSttbWh/mg4YXwzoDokqy4gFwBkz5hcyr16P3cHUJ4F8F8dJ4e3/cpnVrpvg47SWEK3QBelhN0JtIEEKgnGfce/G2/42SPgHF51kbGsUTCvbWQeVIp96tB1AVgKlrS2cgRQDjjOO7ZkiUENs3YTjCyv3puOY4331kRiG27D0F0KErvXGQI6B8f+7Y/TOHP6ztvBJCZMqfTRPCjTipstxeE'+
	'a1H7i5hl9o/GjLrOlpZnoU9HIbJvmbGBqPz7fAP1u3xMPQYQjz5GRBgosIGt8fi9NwvtlXHwAGDbdz8TsJ2BQtQxIgsg5puJuHcnar8sHMfLEPPNqP3RBRC1DQ62Nkftl8XgYGszEbVF7Y+8BjCwnAxjYGh4XdQhpFHO96nWngarzj8voI6p5AkSRsAXSVmUkM/X/XFrPpMQb4nxbWlpqg3z06am++9KlQQKMA3zFIAxaaGqCh0PqggUYFmZESZOQ9LDRxU5LYR3Mago1CKYsLPXjZ/X2j5U4afqMskxcbdwvJ4wxaH/L/B79Fz7UmByRdAbmCqITZvfhOgfVp1Do9FoNJpFwg/tQfgX8svJXgAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_image_icon_materialOver';
		el.userData.ggId="ht_image_icon";
		me._ht_image_icon.userData.onmouseenter=function (e) {
			me._ht_image_icon.material = me._ht_image_icon.userData.materialOver;
			me.elementMouseOver['ht_image_icon']=true;
			me._ht_image_tooltip.logicBlock_alpha();
		}
		me._ht_image_icon.userData.onmouseleave=function (e) {
			me._ht_image_icon.material = me._ht_image_icon.userData.materialNormal;
			me.elementMouseOver['ht_image_icon']=false;
			me._ht_image_tooltip.logicBlock_alpha();
		}
		me._ht_image_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_image_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_image_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_image_tooltip.material.opacity = v;
			if (me._ht_image_tooltip.userData.hasScrollbar) {
				me._ht_image_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_image_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_image_tooltip.userData.ggSubElement) {
				me._ht_image_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_image_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_image_tooltip.userData.visible);
			}
			me._ht_image_tooltip.visible = (v>0 && me._ht_image_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_tooltip.userData.backgroundColorAlpha = v;
			me._ht_image_tooltip.userData.setOpacity(me._ht_image_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_tooltip.visible
			let parentEl = me._ht_image_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_tooltip.userData.opacity = v;
			v = v * me._ht_image_tooltip.userData.parentOpacity;
			me._ht_image_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_tooltip.children.length; i++) {
				let child = me._ht_image_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_tooltip.userData.parentOpacity = v;
			v = v * me._ht_image_tooltip.userData.opacity
			me._ht_image_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_tooltip.children.length; i++) {
				let child = me._ht_image_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_image_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_image_tooltip.userData.textLines = [];
			var ctx = me._ht_image_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_image_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_image_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_image_tooltip.userData.totalHeightCanv += me._ht_image_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_image_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_image_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_image_tooltip.userData.totalHeightCanv += me._ht_image_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_image_tooltip.userData.textLines.push(line);
			me._ht_image_tooltip.userData.totalHeightCanv += me._ht_image_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_image_tooltip.userData.textCanvas;
			var ctx = me._ht_image_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_image_tooltip.userData.textColor.r * 255 + ', ' + me._ht_image_tooltip.userData.textColor.g * 255 + ', ' + me._ht_image_tooltip.userData.textColor.b * 255 + ', ' + me._ht_image_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_image_tooltip.userData.boxWidthCanv - (me._ht_image_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_image_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_image_tooltip.userData.textLines[i], x, y);
				y += me._ht_image_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_image_tooltip.userData.boxWidthCanv / 200.0, me._ht_image_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_image_tooltip_geometry';
			me._ht_image_tooltip.geometry.dispose();
			me._ht_image_tooltip.geometry = geometry;
			var diffY = (me._ht_image_tooltip.userData.boxHeightCanv / 2) - me._ht_image_tooltip.userData.height;
			me._ht_image_tooltip.position.y = me._ht_image_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_image_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_image_tooltip.material.map) {
				me._ht_image_tooltip.material.map.dispose();
			}
			me._ht_image_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_image_tooltip.children.length; i++) {
				let child = me._ht_image_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_image_tooltip.remove(child);
			}
			var canv = me._ht_image_tooltip.userData.textCanvas;
			var ctx = me._ht_image_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_image_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_image_tooltip.userData.textLines = [];
			me._ht_image_tooltip.userData.textLines.push(me._ht_image_tooltip.userData.ggText);
			me._ht_image_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_image_tooltip.userData.totalHeightCanv += me._ht_image_tooltip.userData.lineHeightCanv;
			me._ht_image_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_image_tooltip.userData.ggText).width + (2 * 0);
			me._ht_image_tooltip.userData.boxHeightCanv = me._ht_image_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_image_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_image_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_image_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_image_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_image_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_image_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_image_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_image_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_image_tooltip";
		me._ht_image_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_image_icon'] == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_image_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_image_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_image_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_image_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_image_tooltip.userData.transitions.length; i++) {
						if (me._ht_image_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_image_tooltip.userData.transitions[i].interval);
							me._ht_image_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_image_tooltip.material ? me._ht_image_tooltip.material.opacity : me._ht_image_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_image_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_image_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_image_tooltip.userData.transitions.splice(me._ht_image_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_image_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_image_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_image_tooltip.userData.transitions.length; i++) {
						if (me._ht_image_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_image_tooltip.userData.transitions[i].interval);
							me._ht_image_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_image_tooltip.material ? me._ht_image_tooltip.material.opacity : me._ht_image_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_image_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_image_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_image_tooltip.userData.transitions.splice(me._ht_image_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_image_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_image_tooltip.logicBlock_alpha();
		me._ht_image_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image_icon.add(me._ht_image_tooltip);
		me._ht_image.add(me._ht_image_icon);
		me._ht_image.logicBlock_visible();
		me._ht_image.userData.setOpacity(1.00);
		me.elementMouseOver['ht_image']=false;
		me._ht_image_triangle.userData.setOpacity(1.00);
		me._ht_image_bg.userData.setOpacity(1.00);
		me._ht_image_img.userData.setOpacity(1.00);
		me._ht_image_title.userData.setOpacity(1.00);
		me._ht_image_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_image_icon']=false;
		me._ht_image_tooltip.logicBlock_alpha();
		me._ht_image_tooltip.userData.setOpacity(0.00);
			me.ggEvent_changenode=function() {
				me._ht_image.logicBlock_visible();
					me._ht_image_title.userData.ggUpdateText();
					me._ht_image_tooltip.userData.ggUpdateText();
			};
			me.ggEvent_configloaded=function() {
				me._ht_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_image.logicBlock_visible();
			};
			me.__obj = me._ht_image;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_pdf(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_pdf';
		el.userData.x = -2.2;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf.visible
			let parentEl = me._ht_pdf.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf.userData.opacity = v;
			v = v * me._ht_pdf.userData.parentOpacity;
			me._ht_pdf.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf.children.length; i++) {
				let child = me._ht_pdf.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf.userData.parentOpacity = v;
			v = v * me._ht_pdf.userData.opacity
			me._ht_pdf.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf.children.length; i++) {
				let child = me._ht_pdf.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf = el;
		el.userData.ggId="ht_pdf";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_pdf.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf.visible=false;
			me._ht_pdf.userData.visible=false;
				}
				else {
			me._ht_pdf.visible=((!me._ht_pdf.material && Number(me._ht_pdf.userData.opacity>0)) || Number(me._ht_pdf.material.opacity)>0)?true:false;
			me._ht_pdf.userData.visible=true;
				}
			}
		}
		me._ht_pdf.logicBlock_visible();
		me._ht_pdf.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._pdf_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._popup_pdf.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player.getBasePath())));
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("%1%2", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._popup_pdf.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._popup_pdf.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._popup_pdf.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.target))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._popup_pdf.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._popup_pdf.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._pdf_popup_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player.getBasePath())));
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("%1%2", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_popup_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_popup_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._pdf_popup_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.target))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_popup_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_popup_phone.userData.ggUpdateText();
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_pdf']=true;
			me._ht_pdf_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_pdf']=false;
			me._ht_pdf_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_pdf_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_pdf_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_pdf_tooltip.material.opacity = v;
			if (me._ht_pdf_tooltip.userData.hasScrollbar) {
				me._ht_pdf_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_pdf_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_pdf_tooltip.userData.ggSubElement) {
				me._ht_pdf_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_pdf_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_pdf_tooltip.userData.visible);
			}
			me._ht_pdf_tooltip.visible = (v>0 && me._ht_pdf_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_pdf_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_pdf_tooltip.userData.backgroundColorAlpha = v;
			me._ht_pdf_tooltip.userData.setOpacity(me._ht_pdf_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_tooltip.visible
			let parentEl = me._ht_pdf_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_tooltip.userData.opacity = v;
			v = v * me._ht_pdf_tooltip.userData.parentOpacity;
			me._ht_pdf_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_tooltip.children.length; i++) {
				let child = me._ht_pdf_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_tooltip.userData.parentOpacity = v;
			v = v * me._ht_pdf_tooltip.userData.opacity
			me._ht_pdf_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_tooltip.children.length; i++) {
				let child = me._ht_pdf_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_pdf_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_pdf_tooltip.userData.textLines = [];
			var ctx = me._ht_pdf_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_pdf_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_pdf_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_pdf_tooltip.userData.totalHeightCanv += me._ht_pdf_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_pdf_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_pdf_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_pdf_tooltip.userData.totalHeightCanv += me._ht_pdf_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_pdf_tooltip.userData.textLines.push(line);
			me._ht_pdf_tooltip.userData.totalHeightCanv += me._ht_pdf_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_pdf_tooltip.userData.textCanvas;
			var ctx = me._ht_pdf_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_pdf_tooltip.userData.textColor.r * 255 + ', ' + me._ht_pdf_tooltip.userData.textColor.g * 255 + ', ' + me._ht_pdf_tooltip.userData.textColor.b * 255 + ', ' + me._ht_pdf_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_pdf_tooltip.userData.boxWidthCanv - (me._ht_pdf_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_pdf_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_pdf_tooltip.userData.textLines[i], x, y);
				y += me._ht_pdf_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_pdf_tooltip.userData.boxWidthCanv / 200.0, me._ht_pdf_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_pdf_tooltip_geometry';
			me._ht_pdf_tooltip.geometry.dispose();
			me._ht_pdf_tooltip.geometry = geometry;
			var diffY = (me._ht_pdf_tooltip.userData.boxHeightCanv / 2) - me._ht_pdf_tooltip.userData.height;
			me._ht_pdf_tooltip.position.y = me._ht_pdf_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_pdf_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_pdf_tooltip.material.map) {
				me._ht_pdf_tooltip.material.map.dispose();
			}
			me._ht_pdf_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_pdf_tooltip.children.length; i++) {
				let child = me._ht_pdf_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_pdf_tooltip.remove(child);
			}
			var canv = me._ht_pdf_tooltip.userData.textCanvas;
			var ctx = me._ht_pdf_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_pdf_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_pdf_tooltip.userData.textLines = [];
			me._ht_pdf_tooltip.userData.textLines.push(me._ht_pdf_tooltip.userData.ggText);
			me._ht_pdf_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_pdf_tooltip.userData.totalHeightCanv += me._ht_pdf_tooltip.userData.lineHeightCanv;
			me._ht_pdf_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_pdf_tooltip.userData.ggText).width + (2 * 0);
			me._ht_pdf_tooltip.userData.boxHeightCanv = me._ht_pdf_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_pdf_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_pdf_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_pdf_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_pdf_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_pdf_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_pdf_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_pdf_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_pdf_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_pdf_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_pdf_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_pdf_tooltip";
		me._ht_pdf_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_pdf'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_pdf_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_pdf_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_pdf_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_pdf_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_pdf_tooltip.userData.transitions.length; i++) {
						if (me._ht_pdf_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_pdf_tooltip.userData.transitions[i].interval);
							me._ht_pdf_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_pdf_tooltip.material ? me._ht_pdf_tooltip.material.opacity : me._ht_pdf_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_pdf_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_pdf_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_pdf_tooltip.userData.transitions.splice(me._ht_pdf_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_pdf_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_pdf_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_pdf_tooltip.userData.transitions.length; i++) {
						if (me._ht_pdf_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_pdf_tooltip.userData.transitions[i].interval);
							me._ht_pdf_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_pdf_tooltip.material ? me._ht_pdf_tooltip.material.opacity : me._ht_pdf_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_pdf_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_pdf_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_pdf_tooltip.userData.transitions.splice(me._ht_pdf_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_pdf_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_pdf_tooltip.logicBlock_alpha();
		me._ht_pdf_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_pdf.add(me._ht_pdf_tooltip);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_pdf_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADhElEQVR4nO2bvWsUQRjGn1cTi2ihBCRoGk200sRGk1SCIvZGiwQlQfAPEAVFJSYExUZRsLNRCxXy0arJHxBBEKNWiikkFgoBRRDRJI/FTmTczNzO3c3sXrj5wXHLfLzve8/uvDM7uwdEIpFIHSO+DJEUAMcAHAHQ7NN2BSwBmAPwSETeBvdGspXkFGuPPySHSa4P+eM3kJwt9ndmctUW/zoPGlwA0OHBTkiukNxrqvAhwIAHG6FpANBvqvAhwA4PNvJgp6nQhwA+bOSBMRGuleCDEQUoOoCiiQKYCkkKyRGS39RnhMlStz4gOWBYTRnn+7yWch4YN8XfYNHgqKXsgaOGXwHMAFhMlbcA6MbqKWkRwHMAvwy2mlSfLRZfbwB8SJV1Amh3jHU1JMddFT'+
	'S0mya5sYTtNpIvU30uZsTTRPK2wddZS/tGFUdm/CEE2O1gv5nkF63Pcce4Hmt9ZjPannSJ3/ssICLvHdosALhXgfkb2nH6sk+zz8WgLQd4Qzu78yLyQqt6V6JPN4BWABAR/cxZNzdIbgfQg2QjpguAcXikCS4AgDH1PQFAv9TTCVLnPIBedfxv+hWRZZK2Pj2aL2fqfiGUxxVwQn3PB/Y9o3zpQyDzBAcXIDWGdfZ49vMZwIqvMTVUzmX1K2QIkGwGcCawm9cujXIXgGQbgGcAtgb00Qhg0KVtHtOgPgRsS2EffrqRzB5AGUvhPJJgb3aTVcxU0Ke1El95CFA2InLTVE6yxbcv7zmA2r4B/e8hnCpRV5GvEEnwgOW4FE1ZDUgeBDCsFXWqZLdCl6Ov/wgxBCZJXlfHlxz7DKl5+6ehbhOAQ0gebOjJsx3AU5L3kdz4'+
	'OK3904QQYBuAu2X2aYP7ZovOYfWpmLq/F4gCFB1A0UQBig6gaKIARQeQI8a9NB8CLHiwkQfGOH0IMO3BRh4Y4/T1ktQPD3ZCMiUiE6aKqgUQkU9Idl9qVYRZAKdtlV6SoIhMItnkfILayAnLAD4CGAKwX22YGvF2M6SuhD5f9vKinqZBI1GAMtruChZFgZQjQIfthYS1jC0JLlnKb5EcRPaz+dD8RvJKzUMRsT4udsEmwFyJPh2ojbfD+5C8/2t9Fd4F41Yyk1fLX6FGnxtofBeRzdUYMOYA9TeTa9UYXiuUOsOj6vtyRrsiuVOtgcynKWo49CMZb+H+e1Me3pJgJBKJ1DV/AcKTkj2GmUXdAAAAAElFTkSuQmCC');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_pdf_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_pdf_icon.material) me._ht_pdf_icon.material.opacity = v;
			me._ht_pdf_icon.visible = (v>0 && me._ht_pdf_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_icon.visible
			let parentEl = me._ht_pdf_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_icon.userData.opacity = v;
			v = v * me._ht_pdf_icon.userData.parentOpacity;
			me._ht_pdf_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_icon.children.length; i++) {
				let child = me._ht_pdf_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_icon.userData.parentOpacity = v;
			v = v * me._ht_pdf_icon.userData.opacity
			me._ht_pdf_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_icon.children.length; i++) {
				let child = me._ht_pdf_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFL0lEQVR4nO2bW2wUVRjHf99st6UQb2CRkNC9iFpEMQrdFhqS1ZigGNGkSmKMGgMPPHkLEhMe1EgwPhjiE2kMGhNvJGoU4i2+rFG0NxNjvBREdrYNBEXBCBTd7pzPh6Xadme3u52Zbkn39zbf+c7/fPPvzJk9M6dQo0aNGrMY8UtIFUkPtd8pxtwm0GRQ37QrRVQcFX4Oib4VifT9UDLXjwEHBzsWO2bkXaDdDz0fMYrsikV6tolg3BI8G3D06Mq52ZFQH3CtV62gUOTFeLRnq1ub5VU8m6vbygw+eQBBH89kWpe7tXk2ANX7PWsEj+Wo3Ofa4IP4Uh80AkeUq9zifhjgh0bgqGjILX5BFB8kNQOqXUC1mfUG1LkFh4ZWz8/lnN0IG4BziL5mN8978m'+
	'ZJ5aa5vsBxvQJyjrMHYSMwB7gMlcdimeFHpre06aHgClBF7Ax3uMTbKtDtFuQzg8mOiYmILEbpBJrGaUMOtAs4PlHIwmpQdA1wS+EwekyRt0FPjcmvN+h6gZXlFFpgQIpkKMpwuGCoIs/RAoSuWKR3S7HmgYGObQ1zcntBb/+/aHZFo33bSsnadtt6Rd8BGs+HfrKkoSMS+fLUxFxVnslkEnsV7pmsXF8nQYUcJvtUqZyWlgOnz85t3Ah6bDRmYHAy7Wi05yNE/9NW0Z1uJw8ggjFGXi6nZl8NEDgZi33752R51y1MnRHkjUr1zzbOeyV/u4AY63DJWkTXlKPp+hTwgE4M/DLY2mo5oXkA0Wj35yL5HAODxdbimUzrcmNCTQCNjcN9ixZ9dxbyxqXtxElg4cQ+tp2IqVqR/JFJqrC9nLW+3wYUYBl5FTHLAVIkwzD5'+
	'o9RRnhUxnQBnsvXXA9+PaS4wGcDAJhGzffS43BcdtR9CQQ9gLH149BZIknJG46JSh7j+MaeGZfWipgujgshaYFk53QI34Mrmvj7XBtFWP8eJN3fvA/YB9PevDC9oCu1HWTdZv6rcArbdfpPCxqD0V636ZkTUvFRO7rQaoIpl222dYD6VwK8+a2bcAul0Yh/C1QB2hitALw1inKGh1fP/gfkAluMkFZ4rp1/gBiDEgWsq6WIhHxv0OECd0T8KFF0YcZwnQrDdra0UwRswBaLR3j1u8YGBjotgZIGfYwU/Byj1fkk1NIxsBspblJWJ3wY0HTnStmL0IJ1uTyLur6PHI9HJMtLptrsQdo4eq2XGLalFmNKV4fctYImlX6QziTcBQc1D5XXTR207cYmBXye2iBIGViO6dnxcdhw+vKZn6dKvfstkVnUY5cGpFBzEHHAxSt'+
	'H3AW4I1Clsdp3div+oXxGqy6XTdsI2yrKSmSWYkZNgBczF43fJWb8YqhlQ7QKqTc2AahdQbWaNAVaRty+eDRD43avGdKBwwi3uwxUgn3jXCB61LNc6PRtgjLMDOOdVJ2C6Y0u697s1eDYgHu8/SH4D0kw14ceQFe4c/R4xEV8mwVis5wM15kZBXp8hc4IBDiHydH3YaW1uPnCsWKJva4F4vP8g8IBfetPFrHkMFqNmQLmJglwQGyIrpZI54IZ0OrElGu3tgnutFCeqth0+ScopNqtXSsFJqGLZmYTjlnyeLPj3onOKjAAf1oVCm5Ys+fqkF6GCW+D8vnq7RJ9qnzxAGLg7l3N2exVynQMUKt69URXy2/g84WpA9u/wC8Ahr+LTwF9eBVwNaGk5cNrJ6a0o7p+2Zwoqz3uVKDmT57/mJjZgsU6Uy6v5j1BjsZBhVd6L'+
	'xXrfr3YtNWrUqHFB8y+CrZRwRbbTfAAAAABJRU5ErkJggg==');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_pdf_icon_materialOver';
		el.userData.ggId="ht_pdf_icon";
		me._ht_pdf_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf_icon.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf_icon.visible=false;
			me._ht_pdf_icon.userData.visible=false;
				}
				else {
			me._ht_pdf_icon.visible=((!me._ht_pdf_icon.material && Number(me._ht_pdf_icon.userData.opacity>0)) || Number(me._ht_pdf_icon.material.opacity)>0)?true:false;
			me._ht_pdf_icon.userData.visible=true;
				}
			}
		}
		me._ht_pdf_icon.logicBlock_visible();
		me._ht_pdf_icon.userData.onmouseenter=function (e) {
			me._ht_pdf_icon.material = me._ht_pdf_icon.userData.materialOver;
			me.elementMouseOver['ht_pdf_icon']=true;
		}
		me._ht_pdf_icon.userData.onmouseleave=function (e) {
			me._ht_pdf_icon.material = me._ht_pdf_icon.userData.materialNormal;
			me.elementMouseOver['ht_pdf_icon']=false;
		}
		me._ht_pdf_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_pdf.add(me._ht_pdf_icon);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_pdf_custom_image.userData.ggSubElement) {
				me._ht_pdf_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_pdf_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_pdf_custom_image.userData.visible);
			}
			me._ht_pdf_custom_image.visible = (v>0 && me._ht_pdf_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_custom_image.visible
			let parentEl = me._ht_pdf_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_custom_image.userData.opacity = v;
			v = v * me._ht_pdf_custom_image.userData.parentOpacity;
			me._ht_pdf_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_custom_image.children.length; i++) {
				let child = me._ht_pdf_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_custom_image.userData.parentOpacity = v;
			v = v * me._ht_pdf_custom_image.userData.opacity
			me._ht_pdf_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_custom_image.children.length; i++) {
				let child = me._ht_pdf_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_pdf_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_pdf_custom_image_subElementMaterial';
				me._ht_pdf_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_pdf_custom_image.userData.ggUpdatePosition();
				me._ht_pdf_custom_image.userData.ggText = extUrl;
				me._ht_pdf_custom_image.userData.setOpacity(me._ht_pdf_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_pdf_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_pdf_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_pdf_custom_image";
		me._ht_pdf_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf_custom_image.visible=((!me._ht_pdf_custom_image.material && Number(me._ht_pdf_custom_image.userData.opacity>0)) || Number(me._ht_pdf_custom_image.material.opacity)>0)?true:false;
			me._ht_pdf_custom_image.userData.visible=true;
				}
				else {
			me._ht_pdf_custom_image.visible=false;
			me._ht_pdf_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_pdf_custom_image.logicBlock_visible();
		me._ht_pdf_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_pdf_custom_image.userData.clientWidth;
			var parentHeight = me._ht_pdf_custom_image.userData.clientHeight;
			var img = me._ht_pdf_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_pdf_custom_image_imgGeometry';
			}
		}
		me._ht_pdf.add(me._ht_pdf_custom_image);
		me._ht_pdf.logicBlock_visible();
		me._ht_pdf.userData.setOpacity(1.00);
		me.elementMouseOver['ht_pdf']=false;
		me._ht_pdf_tooltip.logicBlock_alpha();
		me._ht_pdf_tooltip.userData.setOpacity(0.00);
		me._ht_pdf_icon.logicBlock_visible();
		me._ht_pdf_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_pdf_icon']=false;
		me._ht_pdf_custom_image.logicBlock_visible();
		me._ht_pdf_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_pdf_tooltip.logicBlock_alpha();
				me._ht_pdf_icon.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_pdf.logicBlock_visible();
					me._ht_pdf_tooltip.userData.ggUpdateText();
				me._ht_pdf_tooltip.logicBlock_alpha();
				me._ht_pdf_icon.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_pdf.logicBlock_visible();
				me._ht_pdf_tooltip.logicBlock_alpha();
				me._ht_pdf_icon.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_pdf.logicBlock_visible();
			};
			me.__obj = me._ht_pdf;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_file(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_file';
		el.userData.x = -1.7;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file.visible
			let parentEl = me._ht_video_file.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file.userData.opacity = v;
			v = v * me._ht_video_file.userData.parentOpacity;
			me._ht_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file.children.length; i++) {
				let child = me._ht_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file.userData.parentOpacity = v;
			v = v * me._ht_video_file.userData.opacity
			me._ht_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file.children.length; i++) {
				let child = me._ht_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file = el;
		el.userData.ggId="ht_video_file";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_file.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file.visible=false;
			me._ht_video_file.userData.visible=false;
				}
				else {
			me._ht_video_file.visible=((!me._ht_video_file.material && Number(me._ht_video_file.userData.opacity>0)) || Number(me._ht_video_file.material.opacity)>0)?true:false;
			me._ht_video_file.userData.visible=true;
				}
			}
		}
		me._ht_video_file.logicBlock_visible();
		me._ht_video_file.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_file_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_file_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_file_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_file_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._popup_video_file.userData.ggInitMedia(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_controller_seekbar0.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("popup_video_file", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar0.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar0.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._video_file_popup_phone.userData.ggInitMedia(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._video_controller_seekbar_phone.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_file_popup_phone", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', true);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_file']=true;
			me._ht_video_file_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_file']=false;
			me._ht_video_file_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_video_file_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_file_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_file_tooltip.material.opacity = v;
			if (me._ht_video_file_tooltip.userData.hasScrollbar) {
				me._ht_video_file_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_video_file_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_file_tooltip.userData.ggSubElement) {
				me._ht_video_file_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_video_file_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_video_file_tooltip.userData.visible);
			}
			me._ht_video_file_tooltip.visible = (v>0 && me._ht_video_file_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_file_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_file_tooltip.userData.backgroundColorAlpha = v;
			me._ht_video_file_tooltip.userData.setOpacity(me._ht_video_file_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_tooltip.visible
			let parentEl = me._ht_video_file_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_tooltip.userData.opacity = v;
			v = v * me._ht_video_file_tooltip.userData.parentOpacity;
			me._ht_video_file_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_tooltip.children.length; i++) {
				let child = me._ht_video_file_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_tooltip.userData.parentOpacity = v;
			v = v * me._ht_video_file_tooltip.userData.opacity
			me._ht_video_file_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_tooltip.children.length; i++) {
				let child = me._ht_video_file_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_file_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_file_tooltip.userData.textLines = [];
			var ctx = me._ht_video_file_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_file_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_file_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_video_file_tooltip.userData.totalHeightCanv += me._ht_video_file_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_video_file_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_video_file_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_video_file_tooltip.userData.totalHeightCanv += me._ht_video_file_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_video_file_tooltip.userData.textLines.push(line);
			me._ht_video_file_tooltip.userData.totalHeightCanv += me._ht_video_file_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_file_tooltip.userData.textCanvas;
			var ctx = me._ht_video_file_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_file_tooltip.userData.textColor.r * 255 + ', ' + me._ht_video_file_tooltip.userData.textColor.g * 255 + ', ' + me._ht_video_file_tooltip.userData.textColor.b * 255 + ', ' + me._ht_video_file_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_file_tooltip.userData.boxWidthCanv - (me._ht_video_file_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_video_file_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_file_tooltip.userData.textLines[i], x, y);
				y += me._ht_video_file_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_video_file_tooltip.userData.boxWidthCanv / 200.0, me._ht_video_file_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_video_file_tooltip_geometry';
			me._ht_video_file_tooltip.geometry.dispose();
			me._ht_video_file_tooltip.geometry = geometry;
			var diffY = (me._ht_video_file_tooltip.userData.boxHeightCanv / 2) - me._ht_video_file_tooltip.userData.height;
			me._ht_video_file_tooltip.position.y = me._ht_video_file_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_file_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_file_tooltip.material.map) {
				me._ht_video_file_tooltip.material.map.dispose();
			}
			me._ht_video_file_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_video_file_tooltip.children.length; i++) {
				let child = me._ht_video_file_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_video_file_tooltip.remove(child);
			}
			var canv = me._ht_video_file_tooltip.userData.textCanvas;
			var ctx = me._ht_video_file_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_video_file_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_video_file_tooltip.userData.textLines = [];
			me._ht_video_file_tooltip.userData.textLines.push(me._ht_video_file_tooltip.userData.ggText);
			me._ht_video_file_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_file_tooltip.userData.totalHeightCanv += me._ht_video_file_tooltip.userData.lineHeightCanv;
			me._ht_video_file_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_video_file_tooltip.userData.ggText).width + (2 * 0);
			me._ht_video_file_tooltip.userData.boxHeightCanv = me._ht_video_file_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_video_file_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_video_file_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_video_file_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_video_file_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_file_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_file_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_file_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_file_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_file_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_file_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_file_tooltip";
		me._ht_video_file_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_video_file'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_video_file_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_video_file_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_video_file_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_video_file_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_video_file_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_file_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_file_tooltip.userData.transitions[i].interval);
							me._ht_video_file_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_file_tooltip.material ? me._ht_video_file_tooltip.material.opacity : me._ht_video_file_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_file_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_file_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_file_tooltip.userData.transitions.splice(me._ht_video_file_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_file_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_video_file_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_video_file_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_file_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_file_tooltip.userData.transitions[i].interval);
							me._ht_video_file_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_file_tooltip.material ? me._ht_video_file_tooltip.material.opacity : me._ht_video_file_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_file_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_file_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_file_tooltip.userData.transitions.splice(me._ht_video_file_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_file_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_video_file_tooltip.logicBlock_alpha();
		me._ht_video_file_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_file.add(me._ht_video_file_tooltip);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_file_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACs0lEQVR4nO2aO2gUQRjHf58ENakUrbSxE1OpYGVjlcYUgo/C6hBFBC1ExWBMRExMNAFLBYUItrEQ1MImtU1Q8RDBzsJKNGp8JMXf4hY8w+7dzs0+Lpv5wRU39z3/7GNuZiAQCAQCgUAgsDaxdgaSDNgD7ADW5V1Qq1KAL8BLM1ssJqO0W9JrdRcLkk4V0fyApKWSm23F3Sz6jL0FJG0G3gLbskiSI4Nm9swnQNI9XaP7mwcY9g2QJMBe38AF4V1nkgC9voELYoNvgDJfa11BEKDsAvJG0gVJc5L2xf1eaQEkXQemgQPA+TibniILKhJJN4CrTUPr4+wqKYCkMVLOESongKRx4Epa+0oJIGkCGHLxqYwAkiaBy65+lRBA0m3gUie+q14ASVPAxU79qz'+
	'AP6Lh5qIYAXgQBSsz9BHhcYn6gPAEemdkhMzsCPCipBqAcAd4BZ5q+nwPelFAHULwAP4Gjzev6ZvYbOAb8KLgWIFsB5oBdtJ6NnTWz+spBM3sPnM6wFj8kzTqu0X+UtLXJfybG5mGKvPfdtwc0ldJuNi8BliXtX+HfJ6neZFOX1Jci70Y57kRFfrdSmOYmQOwlL6lf0mL06XfIvVPSdxcBIr/JMgR4qsbmaVKcmqRa6sT//I67ChD53SxSgE+Strg251DDjKsAkd+4iwA+b4F5M/vs4d+OF504mdkwMJbW3ufv8ICkIeCDR4wkevl/QdMJMxuJro6RdrY+AvQAEx7+uWJmo5EIo9HQUpzdql8QaYWZXZP0DRgE7sTaxA1GD4zDOdaWGWbW9phPK8J6QNkFlE2SAL8KraJz/vgGSBJg3jdwQXjXmfQQ3ETjkNR23wQ5'+
	'c9DMnvsEiL0CzOwrcAJY9gmeM/d8m2+LGgclX6WZkxfIgqSTWfUYjsoGAoFAIBAIBNYofwH/Dxdw131NJwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_file_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_file_icon.material) me._ht_video_file_icon.material.opacity = v;
			me._ht_video_file_icon.visible = (v>0 && me._ht_video_file_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_icon.visible
			let parentEl = me._ht_video_file_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_icon.userData.opacity = v;
			v = v * me._ht_video_file_icon.userData.parentOpacity;
			me._ht_video_file_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_icon.children.length; i++) {
				let child = me._ht_video_file_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_icon.userData.parentOpacity = v;
			v = v * me._ht_video_file_icon.userData.opacity
			me._ht_video_file_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_icon.children.length; i++) {
				let child = me._ht_video_file_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADq0lEQVR4nO2aT2gcVRzHP7/ZcRE9KApeQjJvkuYm4qGbUOhB9KDoRahVEImC0NIWxYt4sCBaQS+iFxFstaXoLRRBUATpSWlmd6MtahXs/qlFvDTYBhprNjs/D+lqibPbzL7Z3TJ5n9vO+/2+7/f78tidt++Bw+FwOBwOh2NrIpsJqtdn7/M8nYpFCoMuqBueoqrxRd/3y+Pjp/7KSrenAbXzszsLqh8o3JvVhBlwWZE3wyB6RwS1FetqQLM5+6iinwG32E4yCAQ5bEy0x14ngUbj/juR4jngbtsJBomgu4ypnLDR8JIeqhSf4SZvHkBVXrLVSDTAgxlb4aEglGwlEg2I0dtshYfErbYCiQZsJZwBoy5g0DQapefqzdL8uQs7tiWN+8MuaJg0GqV9iL'+
	'wvIH67vQLMbYzJ7QroNM+1d51uX+y5NGBj873InQFpmoecGZC2eciRAf00DzkxoN/mIQcG2DQPOTDApnnIgwEWzUM+DLBiVAbECh8JcnhE8//LaPYCKgcnw+gtgMb5mSLKsyOpg1GsAOVzY6K3Ox+Lfns/cHbodVxj2AbUYXXu+r+zx8YWVzyR3cDKkGsBsjXg3bWW3IHqG13GrwrxE2F4+tLGgSCIzqJ6oM95rc4GMjFAoLp0sf3K9HS0HIaV1wTmN8YovGBM9ftuGmFYOYbIsbRzK+wB4rR5HbIw4Eq7IE9v377Y6jxoteR5oPZfiB6dNOUjNxIq+msHgJ/STD5pykcEnVNYS5PXwdoAQV6cGo9+vf7Z9HS0LHhPAn8DZ/yCv6nlPTa2uCJ4u4EraWowpvKphz4FrKbJA0sDBOaNiT5OLmrhO1T2Fbz2rjSHmcYs'+
	'/KzC/rS1GFM5IcSPA1fT5NkY8LtIsefZXBhGRycmFmu9YpKYDMrHUY6nzTOm+qXAY6RYQTYGnAmCb/60yL8RJ/tJMqZ80pP4YWB5M/E2b4KP1Julg4j3i4VGIhLr7Qiv95sfBNVva7/NPOTFfAXc1SvWxgBPkEOo9RH9/7Ha360zNVGu1i7seMBrt78G7vGQP5Licr0bnBo/9QPqzarI3lZLXk2KyfXBCEAYLjSBD7uN53oFbAZnQPJDGcnOrA9SvfQk0eWCBGVb4aGgVGwlEg0QXf0EWLIVHzQi+p6tRqIBYXj6kiBzQCtp/GZg/Zqc3Q0x6PElaEz0RSzyoMCPtpNkzGVFXg6CaG8WYimuysbbYvFG9quxflVWlnxfoiyvyjocDofD4XA4tir/AEOZDBins88+AAAAAElFTkSuQmCC');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_file_icon_materialOver';
		el.userData.ggId="ht_video_file_icon";
		me._ht_video_file_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file_icon.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file_icon.visible=false;
			me._ht_video_file_icon.userData.visible=false;
				}
				else {
			me._ht_video_file_icon.visible=((!me._ht_video_file_icon.material && Number(me._ht_video_file_icon.userData.opacity>0)) || Number(me._ht_video_file_icon.material.opacity)>0)?true:false;
			me._ht_video_file_icon.userData.visible=true;
				}
			}
		}
		me._ht_video_file_icon.logicBlock_visible();
		me._ht_video_file_icon.userData.onmouseenter=function (e) {
			me._ht_video_file_icon.material = me._ht_video_file_icon.userData.materialOver;
			me.elementMouseOver['ht_video_file_icon']=true;
		}
		me._ht_video_file_icon.userData.onmouseleave=function (e) {
			me._ht_video_file_icon.material = me._ht_video_file_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_file_icon']=false;
		}
		me._ht_video_file_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_file.add(me._ht_video_file_icon);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_file_custom_image.userData.ggSubElement) {
				me._ht_video_file_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_file_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_file_custom_image.userData.visible);
			}
			me._ht_video_file_custom_image.visible = (v>0 && me._ht_video_file_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_custom_image.visible
			let parentEl = me._ht_video_file_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_custom_image.userData.opacity = v;
			v = v * me._ht_video_file_custom_image.userData.parentOpacity;
			me._ht_video_file_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_custom_image.children.length; i++) {
				let child = me._ht_video_file_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_file_custom_image.userData.opacity
			me._ht_video_file_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_custom_image.children.length; i++) {
				let child = me._ht_video_file_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_file_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_file_custom_image_subElementMaterial';
				me._ht_video_file_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_file_custom_image.userData.ggUpdatePosition();
				me._ht_video_file_custom_image.userData.ggText = extUrl;
				me._ht_video_file_custom_image.userData.setOpacity(me._ht_video_file_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_file_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_file_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_file_custom_image";
		me._ht_video_file_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file_custom_image.visible=((!me._ht_video_file_custom_image.material && Number(me._ht_video_file_custom_image.userData.opacity>0)) || Number(me._ht_video_file_custom_image.material.opacity)>0)?true:false;
			me._ht_video_file_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_file_custom_image.visible=false;
			me._ht_video_file_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_file_custom_image.logicBlock_visible();
		me._ht_video_file_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_file_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_file_custom_image.userData.clientHeight;
			var img = me._ht_video_file_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_file_custom_image_imgGeometry';
			}
		}
		me._ht_video_file.add(me._ht_video_file_custom_image);
		me._ht_video_file.logicBlock_visible();
		me._ht_video_file.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_file']=false;
		me._ht_video_file_tooltip.logicBlock_alpha();
		me._ht_video_file_tooltip.userData.setOpacity(0.00);
		me._ht_video_file_icon.logicBlock_visible();
		me._ht_video_file_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_file_icon']=false;
		me._ht_video_file_custom_image.logicBlock_visible();
		me._ht_video_file_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_file_tooltip.logicBlock_alpha();
				me._ht_video_file_icon.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_file.logicBlock_visible();
					me._ht_video_file_tooltip.userData.ggUpdateText();
				me._ht_video_file_tooltip.logicBlock_alpha();
				me._ht_video_file_icon.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_file.logicBlock_visible();
				me._ht_video_file_tooltip.logicBlock_alpha();
				me._ht_video_file_icon.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_video_file.logicBlock_visible();
			};
			me.__obj = me._ht_video_file;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_url(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_url';
		el.userData.x = -1.2;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url.visible
			let parentEl = me._ht_video_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url.userData.opacity = v;
			v = v * me._ht_video_url.userData.parentOpacity;
			me._ht_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url.children.length; i++) {
				let child = me._ht_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url.userData.parentOpacity = v;
			v = v * me._ht_video_url.userData.opacity
			me._ht_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url.children.length; i++) {
				let child = me._ht_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url = el;
		el.userData.ggId="ht_video_url";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_url.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url.visible=false;
			me._ht_video_url.userData.visible=false;
				}
				else {
			me._ht_video_url.visible=((!me._ht_video_url.material && Number(me._ht_video_url.userData.opacity>0)) || Number(me._ht_video_url.material.opacity)>0)?true:false;
			me._ht_video_url.userData.visible=true;
				}
			}
		}
		me._ht_video_url.logicBlock_visible();
		me._ht_video_url.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_url_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_url_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_url_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_url_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._popup_video_url.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_controller_seekbar0.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("popup_video_url", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar0.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar0.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._video_url_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._video_controller_seekbar_phone.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_url_popup_phone", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', true);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_url']=true;
			me._ht_video_url_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_url']=false;
			me._ht_video_url_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_video_url_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_url_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_url_tooltip.material.opacity = v;
			if (me._ht_video_url_tooltip.userData.hasScrollbar) {
				me._ht_video_url_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_video_url_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_url_tooltip.userData.ggSubElement) {
				me._ht_video_url_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_video_url_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_video_url_tooltip.userData.visible);
			}
			me._ht_video_url_tooltip.visible = (v>0 && me._ht_video_url_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_url_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_url_tooltip.userData.backgroundColorAlpha = v;
			me._ht_video_url_tooltip.userData.setOpacity(me._ht_video_url_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_tooltip.visible
			let parentEl = me._ht_video_url_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_tooltip.userData.opacity = v;
			v = v * me._ht_video_url_tooltip.userData.parentOpacity;
			me._ht_video_url_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_tooltip.children.length; i++) {
				let child = me._ht_video_url_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_tooltip.userData.parentOpacity = v;
			v = v * me._ht_video_url_tooltip.userData.opacity
			me._ht_video_url_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_tooltip.children.length; i++) {
				let child = me._ht_video_url_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_url_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_url_tooltip.userData.textLines = [];
			var ctx = me._ht_video_url_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_url_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_url_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_video_url_tooltip.userData.totalHeightCanv += me._ht_video_url_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_video_url_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_video_url_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_video_url_tooltip.userData.totalHeightCanv += me._ht_video_url_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_video_url_tooltip.userData.textLines.push(line);
			me._ht_video_url_tooltip.userData.totalHeightCanv += me._ht_video_url_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_url_tooltip.userData.textCanvas;
			var ctx = me._ht_video_url_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_url_tooltip.userData.textColor.r * 255 + ', ' + me._ht_video_url_tooltip.userData.textColor.g * 255 + ', ' + me._ht_video_url_tooltip.userData.textColor.b * 255 + ', ' + me._ht_video_url_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_url_tooltip.userData.boxWidthCanv - (me._ht_video_url_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_video_url_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_url_tooltip.userData.textLines[i], x, y);
				y += me._ht_video_url_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_video_url_tooltip.userData.boxWidthCanv / 200.0, me._ht_video_url_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_video_url_tooltip_geometry';
			me._ht_video_url_tooltip.geometry.dispose();
			me._ht_video_url_tooltip.geometry = geometry;
			var diffY = (me._ht_video_url_tooltip.userData.boxHeightCanv / 2) - me._ht_video_url_tooltip.userData.height;
			me._ht_video_url_tooltip.position.y = me._ht_video_url_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_url_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_url_tooltip.material.map) {
				me._ht_video_url_tooltip.material.map.dispose();
			}
			me._ht_video_url_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_video_url_tooltip.children.length; i++) {
				let child = me._ht_video_url_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_video_url_tooltip.remove(child);
			}
			var canv = me._ht_video_url_tooltip.userData.textCanvas;
			var ctx = me._ht_video_url_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_video_url_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_video_url_tooltip.userData.textLines = [];
			me._ht_video_url_tooltip.userData.textLines.push(me._ht_video_url_tooltip.userData.ggText);
			me._ht_video_url_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_url_tooltip.userData.totalHeightCanv += me._ht_video_url_tooltip.userData.lineHeightCanv;
			me._ht_video_url_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_video_url_tooltip.userData.ggText).width + (2 * 0);
			me._ht_video_url_tooltip.userData.boxHeightCanv = me._ht_video_url_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_video_url_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_video_url_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_video_url_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_video_url_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_url_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_url_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_url_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_url_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_url_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_url_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_url_tooltip";
		me._ht_video_url_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_video_url'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_video_url_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_video_url_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_video_url_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_video_url_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_video_url_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_url_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_url_tooltip.userData.transitions[i].interval);
							me._ht_video_url_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_url_tooltip.material ? me._ht_video_url_tooltip.material.opacity : me._ht_video_url_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_url_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_url_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_url_tooltip.userData.transitions.splice(me._ht_video_url_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_url_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_video_url_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_video_url_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_url_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_url_tooltip.userData.transitions[i].interval);
							me._ht_video_url_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_url_tooltip.material ? me._ht_video_url_tooltip.material.opacity : me._ht_video_url_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_url_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_url_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_url_tooltip.userData.transitions.splice(me._ht_video_url_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_url_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_video_url_tooltip.logicBlock_alpha();
		me._ht_video_url_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_url.add(me._ht_video_url_tooltip);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_url_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACs0lEQVR4nO2aO2gUQRjHf58ENakUrbSxE1OpYGVjlcYUgo/C6hBFBC1ExWBMRExMNAFLBYUItrEQ1MImtU1Q8RDBzsJKNGp8JMXf4hY8w+7dzs0+Lpv5wRU39z3/7GNuZiAQCAQCgUAgsDaxdgaSDNgD7ADW5V1Qq1KAL8BLM1ssJqO0W9JrdRcLkk4V0fyApKWSm23F3Sz6jL0FJG0G3gLbskiSI4Nm9swnQNI9XaP7mwcY9g2QJMBe38AF4V1nkgC9voELYoNvgDJfa11BEKDsAvJG0gVJc5L2xf1eaQEkXQemgQPA+TibniILKhJJN4CrTUPr4+wqKYCkMVLOESongKRx4Epa+0oJIGkCGHLxqYwAkiaBy65+lRBA0m3gUie+q14ASVPAxU79qz'+
	'AP6Lh5qIYAXgQBSsz9BHhcYn6gPAEemdkhMzsCPCipBqAcAd4BZ5q+nwPelFAHULwAP4Gjzev6ZvYbOAb8KLgWIFsB5oBdtJ6NnTWz+spBM3sPnM6wFj8kzTqu0X+UtLXJfybG5mGKvPfdtwc0ldJuNi8BliXtX+HfJ6neZFOX1Jci70Y57kRFfrdSmOYmQOwlL6lf0mL06XfIvVPSdxcBIr/JMgR4qsbmaVKcmqRa6sT//I67ChD53SxSgE+Strg251DDjKsAkd+4iwA+b4F5M/vs4d+OF504mdkwMJbW3ufv8ICkIeCDR4wkevl/QdMJMxuJro6RdrY+AvQAEx7+uWJmo5EIo9HQUpzdql8QaYWZXZP0DRgE7sTaxA1GD4zDOdaWGWbW9phPK8J6QNkFlE2SAL8KraJz/vgGSBJg3jdwQXjXmfQQ3ETjkNR23wQ5'+
	'c9DMnvsEiL0CzOwrcAJY9gmeM/d8m2+LGgclX6WZkxfIgqSTWfUYjsoGAoFAIBAIBNYofwH/Dxdw131NJwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_url_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_url_icon.material) me._ht_video_url_icon.material.opacity = v;
			me._ht_video_url_icon.visible = (v>0 && me._ht_video_url_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_icon.visible
			let parentEl = me._ht_video_url_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_icon.userData.opacity = v;
			v = v * me._ht_video_url_icon.userData.parentOpacity;
			me._ht_video_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_icon.children.length; i++) {
				let child = me._ht_video_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_icon.userData.parentOpacity = v;
			v = v * me._ht_video_url_icon.userData.opacity
			me._ht_video_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_icon.children.length; i++) {
				let child = me._ht_video_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADq0lEQVR4nO2aT2gcVRzHP7/ZcRE9KApeQjJvkuYm4qGbUOhB9KDoRahVEImC0NIWxYt4sCBaQS+iFxFstaXoLRRBUATpSWlmd6MtahXs/qlFvDTYBhprNjs/D+lqibPbzL7Z3TJ5n9vO+/2+7/f78tidt++Bw+FwOBwOh2NrIpsJqtdn7/M8nYpFCoMuqBueoqrxRd/3y+Pjp/7KSrenAbXzszsLqh8o3JvVhBlwWZE3wyB6RwS1FetqQLM5+6iinwG32E4yCAQ5bEy0x14ngUbj/juR4jngbtsJBomgu4ypnLDR8JIeqhSf4SZvHkBVXrLVSDTAgxlb4aEglGwlEg2I0dtshYfErbYCiQZsJZwBoy5g0DQapefqzdL8uQs7tiWN+8MuaJg0GqV9iL'+
	'wvIH67vQLMbYzJ7QroNM+1d51uX+y5NGBj873InQFpmoecGZC2eciRAf00DzkxoN/mIQcG2DQPOTDApnnIgwEWzUM+DLBiVAbECh8JcnhE8//LaPYCKgcnw+gtgMb5mSLKsyOpg1GsAOVzY6K3Ox+Lfns/cHbodVxj2AbUYXXu+r+zx8YWVzyR3cDKkGsBsjXg3bWW3IHqG13GrwrxE2F4+tLGgSCIzqJ6oM95rc4GMjFAoLp0sf3K9HS0HIaV1wTmN8YovGBM9ftuGmFYOYbIsbRzK+wB4rR5HbIw4Eq7IE9v377Y6jxoteR5oPZfiB6dNOUjNxIq+msHgJ/STD5pykcEnVNYS5PXwdoAQV6cGo9+vf7Z9HS0LHhPAn8DZ/yCv6nlPTa2uCJ4u4EraWowpvKphz4FrKbJA0sDBOaNiT5OLmrhO1T2Fbz2rjSHmcYs'+
	'/KzC/rS1GFM5IcSPA1fT5NkY8LtIsefZXBhGRycmFmu9YpKYDMrHUY6nzTOm+qXAY6RYQTYGnAmCb/60yL8RJ/tJMqZ80pP4YWB5M/E2b4KP1Julg4j3i4VGIhLr7Qiv95sfBNVva7/NPOTFfAXc1SvWxgBPkEOo9RH9/7Ha360zNVGu1i7seMBrt78G7vGQP5Licr0bnBo/9QPqzarI3lZLXk2KyfXBCEAYLjSBD7uN53oFbAZnQPJDGcnOrA9SvfQk0eWCBGVb4aGgVGwlEg0QXf0EWLIVHzQi+p6tRqIBYXj6kiBzQCtp/GZg/Zqc3Q0x6PElaEz0RSzyoMCPtpNkzGVFXg6CaG8WYimuysbbYvFG9quxflVWlnxfoiyvyjocDofD4XA4tir/AEOZDBins88+AAAAAElFTkSuQmCC');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_url_icon_materialOver';
		el.userData.ggId="ht_video_url_icon";
		me._ht_video_url_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url_icon.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url_icon.visible=false;
			me._ht_video_url_icon.userData.visible=false;
				}
				else {
			me._ht_video_url_icon.visible=((!me._ht_video_url_icon.material && Number(me._ht_video_url_icon.userData.opacity>0)) || Number(me._ht_video_url_icon.material.opacity)>0)?true:false;
			me._ht_video_url_icon.userData.visible=true;
				}
			}
		}
		me._ht_video_url_icon.logicBlock_visible();
		me._ht_video_url_icon.userData.onmouseenter=function (e) {
			me._ht_video_url_icon.material = me._ht_video_url_icon.userData.materialOver;
			me.elementMouseOver['ht_video_url_icon']=true;
		}
		me._ht_video_url_icon.userData.onmouseleave=function (e) {
			me._ht_video_url_icon.material = me._ht_video_url_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_url_icon']=false;
		}
		me._ht_video_url_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_url.add(me._ht_video_url_icon);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_url_custom_image.userData.ggSubElement) {
				me._ht_video_url_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_url_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_url_custom_image.userData.visible);
			}
			me._ht_video_url_custom_image.visible = (v>0 && me._ht_video_url_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_custom_image.visible
			let parentEl = me._ht_video_url_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_custom_image.userData.opacity = v;
			v = v * me._ht_video_url_custom_image.userData.parentOpacity;
			me._ht_video_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_custom_image.children.length; i++) {
				let child = me._ht_video_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_url_custom_image.userData.opacity
			me._ht_video_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_custom_image.children.length; i++) {
				let child = me._ht_video_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_url_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_url_custom_image_subElementMaterial';
				me._ht_video_url_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_url_custom_image.userData.ggUpdatePosition();
				me._ht_video_url_custom_image.userData.ggText = extUrl;
				me._ht_video_url_custom_image.userData.setOpacity(me._ht_video_url_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_url_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_url_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_url_custom_image";
		me._ht_video_url_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url_custom_image.visible=((!me._ht_video_url_custom_image.material && Number(me._ht_video_url_custom_image.userData.opacity>0)) || Number(me._ht_video_url_custom_image.material.opacity)>0)?true:false;
			me._ht_video_url_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_url_custom_image.visible=false;
			me._ht_video_url_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_url_custom_image.logicBlock_visible();
		me._ht_video_url_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_url_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_url_custom_image.userData.clientHeight;
			var img = me._ht_video_url_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_url_custom_image_imgGeometry';
			}
		}
		me._ht_video_url.add(me._ht_video_url_custom_image);
		me._ht_video_url.logicBlock_visible();
		me._ht_video_url.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_url']=false;
		me._ht_video_url_tooltip.logicBlock_alpha();
		me._ht_video_url_tooltip.userData.setOpacity(0.00);
		me._ht_video_url_icon.logicBlock_visible();
		me._ht_video_url_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_url_icon']=false;
		me._ht_video_url_custom_image.logicBlock_visible();
		me._ht_video_url_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_url_tooltip.logicBlock_alpha();
				me._ht_video_url_icon.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_url.logicBlock_visible();
					me._ht_video_url_tooltip.userData.ggUpdateText();
				me._ht_video_url_tooltip.logicBlock_alpha();
				me._ht_video_url_icon.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_url.logicBlock_visible();
				me._ht_video_url_tooltip.logicBlock_alpha();
				me._ht_video_url_icon.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_video_url.logicBlock_visible();
			};
			me.__obj = me._ht_video_url;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_vimeo(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_vimeo';
		el.userData.x = -0.7;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo.visible
			let parentEl = me._ht_video_vimeo.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo.userData.opacity = v;
			v = v * me._ht_video_vimeo.userData.parentOpacity;
			me._ht_video_vimeo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo.children.length; i++) {
				let child = me._ht_video_vimeo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo.userData.opacity
			me._ht_video_vimeo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo.children.length; i++) {
				let child = me._ht_video_vimeo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo = el;
		el.userData.ggId="ht_video_vimeo";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_vimeo.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo.visible=false;
			me._ht_video_vimeo.userData.visible=false;
				}
				else {
			me._ht_video_vimeo.visible=((!me._ht_video_vimeo.material && Number(me._ht_video_vimeo.userData.opacity>0)) || Number(me._ht_video_vimeo.material.opacity)>0)?true:false;
			me._ht_video_vimeo.userData.visible=true;
				}
			}
		}
		me._ht_video_vimeo.logicBlock_visible();
		me._ht_video_vimeo.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_vimeo_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_vimeo_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_vimeo_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_vimeo_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._popup_video_vimeo.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._vimeo_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_vimeo']=true;
			me._ht_video_vimeo_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_vimeo']=false;
			me._ht_video_vimeo_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_video_vimeo_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_vimeo_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_vimeo_tooltip.material.opacity = v;
			if (me._ht_video_vimeo_tooltip.userData.hasScrollbar) {
				me._ht_video_vimeo_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_video_vimeo_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_vimeo_tooltip.userData.ggSubElement) {
				me._ht_video_vimeo_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_video_vimeo_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_video_vimeo_tooltip.userData.visible);
			}
			me._ht_video_vimeo_tooltip.visible = (v>0 && me._ht_video_vimeo_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_vimeo_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_vimeo_tooltip.userData.backgroundColorAlpha = v;
			me._ht_video_vimeo_tooltip.userData.setOpacity(me._ht_video_vimeo_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_tooltip.visible
			let parentEl = me._ht_video_vimeo_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_tooltip.userData.opacity = v;
			v = v * me._ht_video_vimeo_tooltip.userData.parentOpacity;
			me._ht_video_vimeo_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_tooltip.children.length; i++) {
				let child = me._ht_video_vimeo_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_tooltip.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_tooltip.userData.opacity
			me._ht_video_vimeo_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_tooltip.children.length; i++) {
				let child = me._ht_video_vimeo_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_vimeo_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_vimeo_tooltip.userData.textLines = [];
			var ctx = me._ht_video_vimeo_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_vimeo_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_vimeo_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_video_vimeo_tooltip.userData.totalHeightCanv += me._ht_video_vimeo_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_video_vimeo_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_video_vimeo_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_video_vimeo_tooltip.userData.totalHeightCanv += me._ht_video_vimeo_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_video_vimeo_tooltip.userData.textLines.push(line);
			me._ht_video_vimeo_tooltip.userData.totalHeightCanv += me._ht_video_vimeo_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_vimeo_tooltip.userData.textCanvas;
			var ctx = me._ht_video_vimeo_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_vimeo_tooltip.userData.textColor.r * 255 + ', ' + me._ht_video_vimeo_tooltip.userData.textColor.g * 255 + ', ' + me._ht_video_vimeo_tooltip.userData.textColor.b * 255 + ', ' + me._ht_video_vimeo_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_vimeo_tooltip.userData.boxWidthCanv - (me._ht_video_vimeo_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_video_vimeo_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_vimeo_tooltip.userData.textLines[i], x, y);
				y += me._ht_video_vimeo_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_video_vimeo_tooltip.userData.boxWidthCanv / 200.0, me._ht_video_vimeo_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_video_vimeo_tooltip_geometry';
			me._ht_video_vimeo_tooltip.geometry.dispose();
			me._ht_video_vimeo_tooltip.geometry = geometry;
			var diffY = (me._ht_video_vimeo_tooltip.userData.boxHeightCanv / 2) - me._ht_video_vimeo_tooltip.userData.height;
			me._ht_video_vimeo_tooltip.position.y = me._ht_video_vimeo_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_vimeo_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_vimeo_tooltip.material.map) {
				me._ht_video_vimeo_tooltip.material.map.dispose();
			}
			me._ht_video_vimeo_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_video_vimeo_tooltip.children.length; i++) {
				let child = me._ht_video_vimeo_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_video_vimeo_tooltip.remove(child);
			}
			var canv = me._ht_video_vimeo_tooltip.userData.textCanvas;
			var ctx = me._ht_video_vimeo_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_video_vimeo_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_video_vimeo_tooltip.userData.textLines = [];
			me._ht_video_vimeo_tooltip.userData.textLines.push(me._ht_video_vimeo_tooltip.userData.ggText);
			me._ht_video_vimeo_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_vimeo_tooltip.userData.totalHeightCanv += me._ht_video_vimeo_tooltip.userData.lineHeightCanv;
			me._ht_video_vimeo_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_video_vimeo_tooltip.userData.ggText).width + (2 * 0);
			me._ht_video_vimeo_tooltip.userData.boxHeightCanv = me._ht_video_vimeo_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_video_vimeo_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_video_vimeo_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_video_vimeo_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_video_vimeo_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_vimeo_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_vimeo_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_vimeo_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_vimeo_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_vimeo_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_vimeo_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_vimeo_tooltip";
		me._ht_video_vimeo_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_video_vimeo'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_video_vimeo_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_video_vimeo_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_video_vimeo_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_video_vimeo_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_video_vimeo_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_vimeo_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_vimeo_tooltip.userData.transitions[i].interval);
							me._ht_video_vimeo_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_vimeo_tooltip.material ? me._ht_video_vimeo_tooltip.material.opacity : me._ht_video_vimeo_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_vimeo_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_vimeo_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_vimeo_tooltip.userData.transitions.splice(me._ht_video_vimeo_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_vimeo_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_video_vimeo_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_video_vimeo_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_vimeo_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_vimeo_tooltip.userData.transitions[i].interval);
							me._ht_video_vimeo_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_vimeo_tooltip.material ? me._ht_video_vimeo_tooltip.material.opacity : me._ht_video_vimeo_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_vimeo_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_vimeo_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_vimeo_tooltip.userData.transitions.splice(me._ht_video_vimeo_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_vimeo_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_video_vimeo_tooltip.logicBlock_alpha();
		me._ht_video_vimeo_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_vimeo.add(me._ht_video_vimeo_tooltip);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_vimeo_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACs0lEQVR4nO2aO2gUQRjHf58ENakUrbSxE1OpYGVjlcYUgo/C6hBFBC1ExWBMRExMNAFLBYUItrEQ1MImtU1Q8RDBzsJKNGp8JMXf4hY8w+7dzs0+Lpv5wRU39z3/7GNuZiAQCAQCgUAgsDaxdgaSDNgD7ADW5V1Qq1KAL8BLM1ssJqO0W9JrdRcLkk4V0fyApKWSm23F3Sz6jL0FJG0G3gLbskiSI4Nm9swnQNI9XaP7mwcY9g2QJMBe38AF4V1nkgC9voELYoNvgDJfa11BEKDsAvJG0gVJc5L2xf1eaQEkXQemgQPA+TibniILKhJJN4CrTUPr4+wqKYCkMVLOESongKRx4Epa+0oJIGkCGHLxqYwAkiaBy65+lRBA0m3gUie+q14ASVPAxU79qz'+
	'AP6Lh5qIYAXgQBSsz9BHhcYn6gPAEemdkhMzsCPCipBqAcAd4BZ5q+nwPelFAHULwAP4Gjzev6ZvYbOAb8KLgWIFsB5oBdtJ6NnTWz+spBM3sPnM6wFj8kzTqu0X+UtLXJfybG5mGKvPfdtwc0ldJuNi8BliXtX+HfJ6neZFOX1Jci70Y57kRFfrdSmOYmQOwlL6lf0mL06XfIvVPSdxcBIr/JMgR4qsbmaVKcmqRa6sT//I67ChD53SxSgE+Strg251DDjKsAkd+4iwA+b4F5M/vs4d+OF504mdkwMJbW3ufv8ICkIeCDR4wkevl/QdMJMxuJro6RdrY+AvQAEx7+uWJmo5EIo9HQUpzdql8QaYWZXZP0DRgE7sTaxA1GD4zDOdaWGWbW9phPK8J6QNkFlE2SAL8KraJz/vgGSBJg3jdwQXjXmfQQ3ETjkNR23wQ5'+
	'c9DMnvsEiL0CzOwrcAJY9gmeM/d8m2+LGgclX6WZkxfIgqSTWfUYjsoGAoFAIBAIBNYofwH/Dxdw131NJwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_vimeo_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_vimeo_icon.material) me._ht_video_vimeo_icon.material.opacity = v;
			me._ht_video_vimeo_icon.visible = (v>0 && me._ht_video_vimeo_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_icon.visible
			let parentEl = me._ht_video_vimeo_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_icon.userData.opacity = v;
			v = v * me._ht_video_vimeo_icon.userData.parentOpacity;
			me._ht_video_vimeo_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_icon.children.length; i++) {
				let child = me._ht_video_vimeo_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_icon.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_icon.userData.opacity
			me._ht_video_vimeo_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_icon.children.length; i++) {
				let child = me._ht_video_vimeo_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADq0lEQVR4nO2aT2gcVRzHP7/ZcRE9KApeQjJvkuYm4qGbUOhB9KDoRahVEImC0NIWxYt4sCBaQS+iFxFstaXoLRRBUATpSWlmd6MtahXs/qlFvDTYBhprNjs/D+lqibPbzL7Z3TJ5n9vO+/2+7/f78tidt++Bw+FwOBwOh2NrIpsJqtdn7/M8nYpFCoMuqBueoqrxRd/3y+Pjp/7KSrenAbXzszsLqh8o3JvVhBlwWZE3wyB6RwS1FetqQLM5+6iinwG32E4yCAQ5bEy0x14ngUbj/juR4jngbtsJBomgu4ypnLDR8JIeqhSf4SZvHkBVXrLVSDTAgxlb4aEglGwlEg2I0dtshYfErbYCiQZsJZwBoy5g0DQapefqzdL8uQs7tiWN+8MuaJg0GqV9iL'+
	'wvIH67vQLMbYzJ7QroNM+1d51uX+y5NGBj873InQFpmoecGZC2eciRAf00DzkxoN/mIQcG2DQPOTDApnnIgwEWzUM+DLBiVAbECh8JcnhE8//LaPYCKgcnw+gtgMb5mSLKsyOpg1GsAOVzY6K3Ox+Lfns/cHbodVxj2AbUYXXu+r+zx8YWVzyR3cDKkGsBsjXg3bWW3IHqG13GrwrxE2F4+tLGgSCIzqJ6oM95rc4GMjFAoLp0sf3K9HS0HIaV1wTmN8YovGBM9ftuGmFYOYbIsbRzK+wB4rR5HbIw4Eq7IE9v377Y6jxoteR5oPZfiB6dNOUjNxIq+msHgJ/STD5pykcEnVNYS5PXwdoAQV6cGo9+vf7Z9HS0LHhPAn8DZ/yCv6nlPTa2uCJ4u4EraWowpvKphz4FrKbJA0sDBOaNiT5OLmrhO1T2Fbz2rjSHmcYs'+
	'/KzC/rS1GFM5IcSPA1fT5NkY8LtIsefZXBhGRycmFmu9YpKYDMrHUY6nzTOm+qXAY6RYQTYGnAmCb/60yL8RJ/tJMqZ80pP4YWB5M/E2b4KP1Julg4j3i4VGIhLr7Qiv95sfBNVva7/NPOTFfAXc1SvWxgBPkEOo9RH9/7Ha360zNVGu1i7seMBrt78G7vGQP5Licr0bnBo/9QPqzarI3lZLXk2KyfXBCEAYLjSBD7uN53oFbAZnQPJDGcnOrA9SvfQk0eWCBGVb4aGgVGwlEg0QXf0EWLIVHzQi+p6tRqIBYXj6kiBzQCtp/GZg/Zqc3Q0x6PElaEz0RSzyoMCPtpNkzGVFXg6CaG8WYimuysbbYvFG9quxflVWlnxfoiyvyjocDofD4XA4tir/AEOZDBins88+AAAAAElFTkSuQmCC');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_vimeo_icon_materialOver';
		el.userData.ggId="ht_video_vimeo_icon";
		me._ht_video_vimeo_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo_icon.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo_icon.visible=false;
			me._ht_video_vimeo_icon.userData.visible=false;
				}
				else {
			me._ht_video_vimeo_icon.visible=((!me._ht_video_vimeo_icon.material && Number(me._ht_video_vimeo_icon.userData.opacity>0)) || Number(me._ht_video_vimeo_icon.material.opacity)>0)?true:false;
			me._ht_video_vimeo_icon.userData.visible=true;
				}
			}
		}
		me._ht_video_vimeo_icon.logicBlock_visible();
		me._ht_video_vimeo_icon.userData.onmouseenter=function (e) {
			me._ht_video_vimeo_icon.material = me._ht_video_vimeo_icon.userData.materialOver;
			me.elementMouseOver['ht_video_vimeo_icon']=true;
		}
		me._ht_video_vimeo_icon.userData.onmouseleave=function (e) {
			me._ht_video_vimeo_icon.material = me._ht_video_vimeo_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_vimeo_icon']=false;
		}
		me._ht_video_vimeo_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_vimeo.add(me._ht_video_vimeo_icon);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_vimeo_custom_image.userData.ggSubElement) {
				me._ht_video_vimeo_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_vimeo_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_vimeo_custom_image.userData.visible);
			}
			me._ht_video_vimeo_custom_image.visible = (v>0 && me._ht_video_vimeo_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_custom_image.visible
			let parentEl = me._ht_video_vimeo_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_custom_image.userData.opacity = v;
			v = v * me._ht_video_vimeo_custom_image.userData.parentOpacity;
			me._ht_video_vimeo_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_custom_image.children.length; i++) {
				let child = me._ht_video_vimeo_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_custom_image.userData.opacity
			me._ht_video_vimeo_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_custom_image.children.length; i++) {
				let child = me._ht_video_vimeo_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_vimeo_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_vimeo_custom_image_subElementMaterial';
				me._ht_video_vimeo_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_vimeo_custom_image.userData.ggUpdatePosition();
				me._ht_video_vimeo_custom_image.userData.ggText = extUrl;
				me._ht_video_vimeo_custom_image.userData.setOpacity(me._ht_video_vimeo_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_vimeo_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_vimeo_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_vimeo_custom_image";
		me._ht_video_vimeo_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo_custom_image.visible=((!me._ht_video_vimeo_custom_image.material && Number(me._ht_video_vimeo_custom_image.userData.opacity>0)) || Number(me._ht_video_vimeo_custom_image.material.opacity)>0)?true:false;
			me._ht_video_vimeo_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_vimeo_custom_image.visible=false;
			me._ht_video_vimeo_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_vimeo_custom_image.logicBlock_visible();
		me._ht_video_vimeo_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_vimeo_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_vimeo_custom_image.userData.clientHeight;
			var img = me._ht_video_vimeo_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_vimeo_custom_image_imgGeometry';
			}
		}
		me._ht_video_vimeo.add(me._ht_video_vimeo_custom_image);
		me._ht_video_vimeo.logicBlock_visible();
		me._ht_video_vimeo.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_vimeo']=false;
		me._ht_video_vimeo_tooltip.logicBlock_alpha();
		me._ht_video_vimeo_tooltip.userData.setOpacity(0.00);
		me._ht_video_vimeo_icon.logicBlock_visible();
		me._ht_video_vimeo_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_vimeo_icon']=false;
		me._ht_video_vimeo_custom_image.logicBlock_visible();
		me._ht_video_vimeo_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_vimeo_tooltip.logicBlock_alpha();
				me._ht_video_vimeo_icon.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_vimeo.logicBlock_visible();
					me._ht_video_vimeo_tooltip.userData.ggUpdateText();
				me._ht_video_vimeo_tooltip.logicBlock_alpha();
				me._ht_video_vimeo_icon.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_vimeo.logicBlock_visible();
				me._ht_video_vimeo_tooltip.logicBlock_alpha();
				me._ht_video_vimeo_icon.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_video_vimeo.logicBlock_visible();
			};
			me.__obj = me._ht_video_vimeo;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_youtube(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_youtube';
		el.userData.x = -0.2;
		el.userData.y = 1.94;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube.visible
			let parentEl = me._ht_video_youtube.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube.userData.opacity = v;
			v = v * me._ht_video_youtube.userData.parentOpacity;
			me._ht_video_youtube.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube.children.length; i++) {
				let child = me._ht_video_youtube.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube.userData.parentOpacity = v;
			v = v * me._ht_video_youtube.userData.opacity
			me._ht_video_youtube.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube.children.length; i++) {
				let child = me._ht_video_youtube.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube = el;
		el.userData.ggId="ht_video_youtube";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_youtube.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube.visible=false;
			me._ht_video_youtube.userData.visible=false;
				}
				else {
			me._ht_video_youtube.visible=((!me._ht_video_youtube.material && Number(me._ht_video_youtube.userData.opacity>0)) || Number(me._ht_video_youtube.material.opacity)>0)?true:false;
			me._ht_video_youtube.userData.visible=true;
				}
			}
		}
		me._ht_video_youtube.logicBlock_visible();
		me._ht_video_youtube.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_youtube_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_youtube_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_youtube_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_youtube_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._popup_video_youtube.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._youtube_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.onmouseenter=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_youtube']=true;
			me._ht_video_youtube_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.onmouseleave=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_youtube']=false;
			me._ht_video_youtube_tooltip.logicBlock_alpha();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneGeometry(0.5, 0.2, 5, 5 );
		geometry.name = 'ht_video_youtube_tooltip_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_youtube_tooltip_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_youtube_tooltip.material.opacity = v;
			if (me._ht_video_youtube_tooltip.userData.hasScrollbar) {
				me._ht_video_youtube_tooltip.userData.scrollbar.material.opacity = v;
				me._ht_video_youtube_tooltip.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_youtube_tooltip.userData.ggSubElement) {
				me._ht_video_youtube_tooltip.userData.ggSubElement.material.opacity = v
				me._ht_video_youtube_tooltip.userData.ggSubElement.visible = (v>0 && me._ht_video_youtube_tooltip.userData.visible);
			}
			me._ht_video_youtube_tooltip.visible = (v>0 && me._ht_video_youtube_tooltip.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_youtube_tooltip.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_youtube_tooltip.userData.backgroundColorAlpha = v;
			me._ht_video_youtube_tooltip.userData.setOpacity(me._ht_video_youtube_tooltip.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.26);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_tooltip';
		el.userData.x = 0;
		el.userData.y = -0.26;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_tooltip.visible
			let parentEl = me._ht_video_youtube_tooltip.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_tooltip.userData.opacity = v;
			v = v * me._ht_video_youtube_tooltip.userData.parentOpacity;
			me._ht_video_youtube_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_tooltip.children.length; i++) {
				let child = me._ht_video_youtube_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_tooltip.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_tooltip.userData.opacity
			me._ht_video_youtube_tooltip.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_tooltip.children.length; i++) {
				let child = me._ht_video_youtube_tooltip.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_tooltip = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColor = new THREE.Color(1, 1, 1).convertSRGBToLinear();
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_youtube_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_youtube_tooltip.userData.textLines = [];
			var ctx = me._ht_video_youtube_tooltip.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_youtube_tooltip.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_youtube_tooltip.userData.textLines.push(line);
					line = '';
					me._ht_video_youtube_tooltip.userData.totalHeightCanv += me._ht_video_youtube_tooltip.userData.lineHeightCanv;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (2 * (me._ht_video_youtube_tooltip.userData.width - 0 - (scrollbar ? 25 : 0))) && i > 0) {
					me._ht_video_youtube_tooltip.userData.textLines.push(line);
					line = words[i];
					me._ht_video_youtube_tooltip.userData.totalHeightCanv += me._ht_video_youtube_tooltip.userData.lineHeightCanv;
				} else {
					line = testLine;
				}
			}
			me._ht_video_youtube_tooltip.userData.textLines.push(line);
			me._ht_video_youtube_tooltip.userData.totalHeightCanv += me._ht_video_youtube_tooltip.userData.lineHeightCanv;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_youtube_tooltip.userData.textCanvas;
			var ctx = me._ht_video_youtube_tooltip.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_youtube_tooltip.userData.textColor.r * 255 + ', ' + me._ht_video_youtube_tooltip.userData.textColor.g * 255 + ', ' + me._ht_video_youtube_tooltip.userData.textColor.b * 255 + ', ' + me._ht_video_youtube_tooltip.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_youtube_tooltip.userData.boxWidthCanv - (me._ht_video_youtube_tooltip.userData.hasScrollbar ? 50 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 2 * 3;
			for (var i = 0; i < me._ht_video_youtube_tooltip.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_youtube_tooltip.userData.textLines[i], x, y);
				y += me._ht_video_youtube_tooltip.userData.lineHeightCanv;
			}
			geometry = new THREE.PlaneGeometry(me._ht_video_youtube_tooltip.userData.boxWidthCanv / 200.0, me._ht_video_youtube_tooltip.userData.boxHeightCanv / 200.0, 5, 5 );
			geometry.name = 'ht_video_youtube_tooltip_geometry';
			me._ht_video_youtube_tooltip.geometry.dispose();
			me._ht_video_youtube_tooltip.geometry = geometry;
			var diffY = (me._ht_video_youtube_tooltip.userData.boxHeightCanv / 2) - me._ht_video_youtube_tooltip.userData.height;
			me._ht_video_youtube_tooltip.position.y = me._ht_video_youtube_tooltip.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_youtube_tooltip_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.colorSpace = THREE.LinearSRGBColorSpace;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_youtube_tooltip.material.map) {
				me._ht_video_youtube_tooltip.material.map.dispose();
			}
			me._ht_video_youtube_tooltip.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			for (let i = 0; i < me._ht_video_youtube_tooltip.children.length; i++) {
				let child = me._ht_video_youtube_tooltip.children[i];
				if (child.name.includes('scrollbar')) me._ht_video_youtube_tooltip.remove(child);
			}
			var canv = me._ht_video_youtube_tooltip.userData.textCanvas;
			var ctx = me._ht_video_youtube_tooltip.userData.textCanvasContext;
			ctx.font = '32px Verdana';
			me._ht_video_youtube_tooltip.userData.lineHeightCanv = 32 * 1.2;
			me._ht_video_youtube_tooltip.userData.textLines = [];
			me._ht_video_youtube_tooltip.userData.textLines.push(me._ht_video_youtube_tooltip.userData.ggText);
			me._ht_video_youtube_tooltip.userData.totalHeightCanv = 2 * (3);
			me._ht_video_youtube_tooltip.userData.totalHeightCanv += me._ht_video_youtube_tooltip.userData.lineHeightCanv;
			me._ht_video_youtube_tooltip.userData.boxWidthCanv = ctx.measureText(me._ht_video_youtube_tooltip.userData.ggText).width + (2 * 0);
			me._ht_video_youtube_tooltip.userData.boxHeightCanv = me._ht_video_youtube_tooltip.userData.totalHeightCanv;
			canv.width = me._ht_video_youtube_tooltip.userData.boxWidthCanv;
			canv.height = me._ht_video_youtube_tooltip.userData.boxHeightCanv;
			ctx.font = '32px Verdana';
			me._ht_video_youtube_tooltip.userData.ggPaintCanvasText();
		}
		me._ht_video_youtube_tooltip.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_youtube_tooltip.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_youtube_tooltip.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_youtube_tooltip.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_youtube_tooltip.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_youtube_tooltip.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_youtube_tooltip.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_youtube_tooltip";
		me._ht_video_youtube_tooltip.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_video_youtube'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_video_youtube_tooltip.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_video_youtube_tooltip.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_video_youtube_tooltip.ggCurrentLogicStateAlpha == 0) {
					me._ht_video_youtube_tooltip.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_video_youtube_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_youtube_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_youtube_tooltip.userData.transitions[i].interval);
							me._ht_video_youtube_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_youtube_tooltip.material ? me._ht_video_youtube_tooltip.material.opacity : me._ht_video_youtube_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_youtube_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_youtube_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_youtube_tooltip.userData.transitions.splice(me._ht_video_youtube_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_youtube_tooltip.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_video_youtube_tooltip.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_video_youtube_tooltip.userData.transitions.length; i++) {
						if (me._ht_video_youtube_tooltip.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_video_youtube_tooltip.userData.transitions[i].interval);
							me._ht_video_youtube_tooltip.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_video_youtube_tooltip.material ? me._ht_video_youtube_tooltip.material.opacity : me._ht_video_youtube_tooltip.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_video_youtube_tooltip.userData.setOpacity(transition_alpha.startAlpha + (me._ht_video_youtube_tooltip.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_video_youtube_tooltip.userData.transitions.splice(me._ht_video_youtube_tooltip.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_video_youtube_tooltip.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_video_youtube_tooltip.logicBlock_alpha();
		me._ht_video_youtube_tooltip.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_youtube.add(me._ht_video_youtube_tooltip);
		geometry = new THREE.PlaneGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_youtube_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACs0lEQVR4nO2aO2gUQRjHf58ENakUrbSxE1OpYGVjlcYUgo/C6hBFBC1ExWBMRExMNAFLBYUItrEQ1MImtU1Q8RDBzsJKNGp8JMXf4hY8w+7dzs0+Lpv5wRU39z3/7GNuZiAQCAQCgUAgsDaxdgaSDNgD7ADW5V1Qq1KAL8BLM1ssJqO0W9JrdRcLkk4V0fyApKWSm23F3Sz6jL0FJG0G3gLbskiSI4Nm9swnQNI9XaP7mwcY9g2QJMBe38AF4V1nkgC9voELYoNvgDJfa11BEKDsAvJG0gVJc5L2xf1eaQEkXQemgQPA+TibniILKhJJN4CrTUPr4+wqKYCkMVLOESongKRx4Epa+0oJIGkCGHLxqYwAkiaBy65+lRBA0m3gUie+q14ASVPAxU79qz'+
	'AP6Lh5qIYAXgQBSsz9BHhcYn6gPAEemdkhMzsCPCipBqAcAd4BZ5q+nwPelFAHULwAP4Gjzev6ZvYbOAb8KLgWIFsB5oBdtJ6NnTWz+spBM3sPnM6wFj8kzTqu0X+UtLXJfybG5mGKvPfdtwc0ldJuNi8BliXtX+HfJ6neZFOX1Jci70Y57kRFfrdSmOYmQOwlL6lf0mL06XfIvVPSdxcBIr/JMgR4qsbmaVKcmqRa6sT//I67ChD53SxSgE+Strg251DDjKsAkd+4iwA+b4F5M/vs4d+OF504mdkwMJbW3ufv8ICkIeCDR4wkevl/QdMJMxuJro6RdrY+AvQAEx7+uWJmo5EIo9HQUpzdql8QaYWZXZP0DRgE7sTaxA1GD4zDOdaWGWbW9phPK8J6QNkFlE2SAL8KraJz/vgGSBJg3jdwQXjXmfQQ3ETjkNR23wQ5'+
	'c9DMnvsEiL0CzOwrcAJY9gmeM/d8m2+LGgclX6WZkxfIgqSTWfUYjsoGAoFAIBAIBNYofwH/Dxdw131NJwAAAABJRU5ErkJggg==');
		texture.colorSpace = player.getVRTextureColorSpace();
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_youtube_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_youtube_icon.material) me._ht_video_youtube_icon.material.opacity = v;
			me._ht_video_youtube_icon.visible = (v>0 && me._ht_video_youtube_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_icon.visible
			let parentEl = me._ht_video_youtube_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_icon.userData.opacity = v;
			v = v * me._ht_video_youtube_icon.userData.parentOpacity;
			me._ht_video_youtube_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_icon.children.length; i++) {
				let child = me._ht_video_youtube_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_icon.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_icon.userData.opacity
			me._ht_video_youtube_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_icon.children.length; i++) {
				let child = me._ht_video_youtube_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADq0lEQVR4nO2aT2gcVRzHP7/ZcRE9KApeQjJvkuYm4qGbUOhB9KDoRahVEImC0NIWxYt4sCBaQS+iFxFstaXoLRRBUATpSWlmd6MtahXs/qlFvDTYBhprNjs/D+lqibPbzL7Z3TJ5n9vO+/2+7/f78tidt++Bw+FwOBwOh2NrIpsJqtdn7/M8nYpFCoMuqBueoqrxRd/3y+Pjp/7KSrenAbXzszsLqh8o3JvVhBlwWZE3wyB6RwS1FetqQLM5+6iinwG32E4yCAQ5bEy0x14ngUbj/juR4jngbtsJBomgu4ypnLDR8JIeqhSf4SZvHkBVXrLVSDTAgxlb4aEglGwlEg2I0dtshYfErbYCiQZsJZwBoy5g0DQapefqzdL8uQs7tiWN+8MuaJg0GqV9iL'+
	'wvIH67vQLMbYzJ7QroNM+1d51uX+y5NGBj873InQFpmoecGZC2eciRAf00DzkxoN/mIQcG2DQPOTDApnnIgwEWzUM+DLBiVAbECh8JcnhE8//LaPYCKgcnw+gtgMb5mSLKsyOpg1GsAOVzY6K3Ox+Lfns/cHbodVxj2AbUYXXu+r+zx8YWVzyR3cDKkGsBsjXg3bWW3IHqG13GrwrxE2F4+tLGgSCIzqJ6oM95rc4GMjFAoLp0sf3K9HS0HIaV1wTmN8YovGBM9ftuGmFYOYbIsbRzK+wB4rR5HbIw4Eq7IE9v377Y6jxoteR5oPZfiB6dNOUjNxIq+msHgJ/STD5pykcEnVNYS5PXwdoAQV6cGo9+vf7Z9HS0LHhPAn8DZ/yCv6nlPTa2uCJ4u4EraWowpvKphz4FrKbJA0sDBOaNiT5OLmrhO1T2Fbz2rjSHmcYs'+
	'/KzC/rS1GFM5IcSPA1fT5NkY8LtIsefZXBhGRycmFmu9YpKYDMrHUY6nzTOm+qXAY6RYQTYGnAmCb/60yL8RJ/tJMqZ80pP4YWB5M/E2b4KP1Julg4j3i4VGIhLr7Qiv95sfBNVva7/NPOTFfAXc1SvWxgBPkEOo9RH9/7Ha360zNVGu1i7seMBrt78G7vGQP5Licr0bnBo/9QPqzarI3lZLXk2KyfXBCEAYLjSBD7uN53oFbAZnQPJDGcnOrA9SvfQk0eWCBGVb4aGgVGwlEg0QXf0EWLIVHzQi+p6tRqIBYXj6kiBzQCtp/GZg/Zqc3Q0x6PElaEz0RSzyoMCPtpNkzGVFXg6CaG8WYimuysbbYvFG9quxflVWlnxfoiyvyjocDofD4XA4tir/AEOZDBins88+AAAAAElFTkSuQmCC');
		textureOver.colorSpace = player.getVRTextureColorSpace();
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_youtube_icon_materialOver';
		el.userData.ggId="ht_video_youtube_icon";
		me._ht_video_youtube_icon.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube_icon.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube_icon.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube_icon.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube_icon.visible=false;
			me._ht_video_youtube_icon.userData.visible=false;
				}
				else {
			me._ht_video_youtube_icon.visible=((!me._ht_video_youtube_icon.material && Number(me._ht_video_youtube_icon.userData.opacity>0)) || Number(me._ht_video_youtube_icon.material.opacity)>0)?true:false;
			me._ht_video_youtube_icon.userData.visible=true;
				}
			}
		}
		me._ht_video_youtube_icon.logicBlock_visible();
		me._ht_video_youtube_icon.userData.onmouseenter=function (e) {
			me._ht_video_youtube_icon.material = me._ht_video_youtube_icon.userData.materialOver;
			me.elementMouseOver['ht_video_youtube_icon']=true;
		}
		me._ht_video_youtube_icon.userData.onmouseleave=function (e) {
			me._ht_video_youtube_icon.material = me._ht_video_youtube_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_youtube_icon']=false;
		}
		me._ht_video_youtube_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_youtube.add(me._ht_video_youtube_icon);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_youtube_custom_image.userData.ggSubElement) {
				me._ht_video_youtube_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_youtube_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_youtube_custom_image.userData.visible);
			}
			me._ht_video_youtube_custom_image.visible = (v>0 && me._ht_video_youtube_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_custom_image.visible
			let parentEl = me._ht_video_youtube_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_custom_image.userData.opacity = v;
			v = v * me._ht_video_youtube_custom_image.userData.parentOpacity;
			me._ht_video_youtube_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_custom_image.children.length; i++) {
				let child = me._ht_video_youtube_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_custom_image.userData.opacity
			me._ht_video_youtube_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_custom_image.children.length; i++) {
				let child = me._ht_video_youtube_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_youtube_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				texture.colorSpace = player.getVRTextureColorSpace();
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_youtube_custom_image_subElementMaterial';
				me._ht_video_youtube_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_youtube_custom_image.userData.ggUpdatePosition();
				me._ht_video_youtube_custom_image.userData.ggText = extUrl;
				me._ht_video_youtube_custom_image.userData.setOpacity(me._ht_video_youtube_custom_image.userData.opacity);
			});
		};
		if ((hotspot) && (hotspot.customimage)) {
			var extUrl=hotspot.customimage;
		}
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_youtube_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_youtube_custom_image_subElement';
		el.userData.ggSubElement.position.z = el.position.z + 0.005;
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_youtube_custom_image";
		me._ht_video_youtube_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube_custom_image.visible=((!me._ht_video_youtube_custom_image.material && Number(me._ht_video_youtube_custom_image.userData.opacity>0)) || Number(me._ht_video_youtube_custom_image.material.opacity)>0)?true:false;
			me._ht_video_youtube_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_youtube_custom_image.visible=false;
			me._ht_video_youtube_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_youtube_custom_image.logicBlock_visible();
		me._ht_video_youtube_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_youtube_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_youtube_custom_image.userData.clientHeight;
			var img = me._ht_video_youtube_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if ((hotspot) && (hotspot.customimage)) {
				currentWidth  = hotspot.customimagewidth;
				currentHeight = hotspot.customimageheight;
			img.geometry = new THREE.PlaneGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_youtube_custom_image_imgGeometry';
			}
		}
		me._ht_video_youtube.add(me._ht_video_youtube_custom_image);
		me._ht_video_youtube.logicBlock_visible();
		me._ht_video_youtube.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_youtube']=false;
		me._ht_video_youtube_tooltip.logicBlock_alpha();
		me._ht_video_youtube_tooltip.userData.setOpacity(0.00);
		me._ht_video_youtube_icon.logicBlock_visible();
		me._ht_video_youtube_icon.userData.setOpacity(1.00);
		me.elementMouseOver['ht_video_youtube_icon']=false;
		me._ht_video_youtube_custom_image.logicBlock_visible();
		me._ht_video_youtube_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_youtube_tooltip.logicBlock_alpha();
				me._ht_video_youtube_icon.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_youtube.logicBlock_visible();
					me._ht_video_youtube_tooltip.userData.ggUpdateText();
				me._ht_video_youtube_tooltip.logicBlock_alpha();
				me._ht_video_youtube_icon.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_youtube.logicBlock_visible();
				me._ht_video_youtube_tooltip.logicBlock_alpha();
				me._ht_video_youtube_icon.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_popup=function() {
				me._ht_video_youtube.logicBlock_visible();
			};
			me.__obj = me._ht_video_youtube;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	me.addSkinHotspot=function(hotspot) {
		var hsinst = null;
		if (hotspot.skinid=='ht_video_youtube') {
			hotspot.skinid = 'ht_video_youtube';
			hsinst = new SkinHotspotClass_ht_video_youtube(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_vimeo') {
			hotspot.skinid = 'ht_video_vimeo';
			hsinst = new SkinHotspotClass_ht_video_vimeo(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_url') {
			hotspot.skinid = 'ht_video_url';
			hsinst = new SkinHotspotClass_ht_video_url(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_file') {
			hotspot.skinid = 'ht_video_file';
			hsinst = new SkinHotspotClass_ht_video_file(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_pdf') {
			hotspot.skinid = 'ht_pdf';
			hsinst = new SkinHotspotClass_ht_pdf(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_image') {
			hotspot.skinid = 'ht_image';
			hsinst = new SkinHotspotClass_ht_image(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_node_1') {
			hotspot.skinid = 'ht_node_1';
			hsinst = new SkinHotspotClass_ht_node_1(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_info') {
			hotspot.skinid = 'ht_info';
			hsinst = new SkinHotspotClass_ht_info(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_url_1') {
			hotspot.skinid = 'ht_url_1';
			hsinst = new SkinHotspotClass_ht_url_1(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_node') {
			hotspot.skinid = 'ht_node';
			hsinst = new SkinHotspotClass_ht_node(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_url') {
			hotspot.skinid = 'ht_url';
			hsinst = new SkinHotspotClass_ht_url(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='floor_hotspot') {
			hotspot.skinid = 'floor_hotspot';
			hsinst = new SkinHotspotClass_floor_hotspot(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='arrow_hotspot') {
			hotspot.skinid = 'arrow_hotspot';
			hsinst = new SkinHotspotClass_arrow_hotspot(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='flycam_hotspot') {
			hotspot.skinid = 'flycam_hotspot';
			hsinst = new SkinHotspotClass_flycam_hotspot(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_node_vr_1') {
			hotspot.skinid = 'ht_node_vr_1';
			hsinst = new SkinHotspotClass_ht_node_vr_1(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_node__2_vr') {
			hotspot.skinid = 'ht_node__2_vr';
			hsinst = new SkinHotspotClass_ht_node_2_vr(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		}
		return (hsinst ? hsinst.__obj : null);
	}
	me.removeSkinHotspots=function() {
		hotspotTemplates = [];
	}
	me.skinTimerEvent=function() {
		if (!player.isInVR()) return;
		me.ggCurrentTime=new Date().getTime();
		me._button_2.userData.ggUpdateConditionTimer();
	};
	player.addListener('timer', me.skinTimerEvent);
	player.addListener('vrconfigloaded', function() { me.addSkin();if (me.eventconfigloadedCallback) me.eventconfigloadedCallback();if (me.eventchangenodeCallback) me.eventchangenodeCallback();});
	player.addListener('exitvr', function() { me.removeSkin(); });
	me.skinTimerEvent();
};